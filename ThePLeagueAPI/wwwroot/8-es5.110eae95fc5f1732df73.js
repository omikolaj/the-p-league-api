function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,i=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+0iv":function(e,t,n){"use strict";var r=n("qDJ8");function a(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==a(e)&&"function"==typeof(t=e.constructor)&&!1!==a(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")}},"1vjc":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("fXoL"),a=n("Xa2L"),i=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Mb({type:e,selectors:[["app-acting-spinner"]],decls:2,vars:0,consts:[[1,"overlay"],["color","accent"]],template:function(e,t){1&e&&(r.Yb(0,"div",0),r.Tb(1,"mat-spinner",1),r.Xb())},directives:[a.b],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000;opacity:.5;z-index:999999}.overlay[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{position:fixed;left:calc(50% - 50px);top:35%}"]}),e}()},7104:function(e,t){var n=Object.prototype.toString;function r(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===r(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){return!(!e.constructor||"function"!=typeof e.constructor.isBuffer)&&e.constructor.isBuffer(e)}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(t){if(-1!==t.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(r(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},JIfX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(t,n){_classCallCheck(this,e),this.name=t,this.value=n}},KXBU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("fXoL"),a=n("0MNC"),i=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._mobile=!0,t.observe(["(min-width: 425px)"]).subscribe((function(e){n.mobile=!e.matches}))}return _createClass(e,[{key:"mobile",get:function(){return this._mobile},set:function(e){this._mobile=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.cc(a.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},UvZa:function(e,t,n){"use strict";var r=Symbol.prototype.valueOf,a=n("7104");e.exports=function(e,t){switch(a(e)){case"array":return e.slice();case"object":return Object.assign({},e);case"date":return new e.constructor(Number(e));case"map":return new Map(e);case"set":return new Set(e);case"buffer":return function(e){var t=e.length,n=Buffer.allocUnsafe?Buffer.allocUnsafe(t):Buffer.from(t);return e.copy(n),n}(e);case"symbol":return function(e){return r?Object(r.call(e)):{}}(e);case"arraybuffer":return function(e){var t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}(e);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function(e,t){return new e.constructor(e.buffer,e.byteOffset,e.length)}(e);case"regexp":return function(e){var t=void 0!==e.flags?e.flags:/\w+$/.exec(e)||void 0,n=new e.constructor(e.source,t);return n.lastIndex=e.lastIndex,n}(e);case"error":return Object.create(e);default:return e}}},YBOo:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n("yLV6");var r=n("JIfX"),a=n("pKDw"),i=n("fXoL"),o=n("XGsO"),c=function(){var e=function(){function e(t){_classCallCheck(this,e),this.eventbus=t,this.images=[],this.ngxGalleryOptions=[]}return _createClass(e,[{key:"onPreviewOpen",value:function(){this.eventbus.emit(new r.a(a.b.HideScrollbar,!0))}},{key:"onPreviewClose",value:function(){this.eventbus.emit(new r.a(a.b.HideScrollbar,!1))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Sb(a.a))},e.\u0275cmp=i.Mb({type:e,selectors:[["app-gallery-viewer"]],inputs:{images:"images",ngxGalleryOptions:"ngxGalleryOptions"},decls:1,vars:2,consts:[[3,"options","images","previewOpen","previewClose"]],template:function(e,t){1&e&&(i.Yb(0,"ngx-gallery",0),i.gc("previewOpen",(function(e){return t.onPreviewOpen()}))("previewClose",(function(e){return t.onPreviewClose()})),i.Xb()),2&e&&i.qc("options",t.ngxGalleryOptions)("images",t.images)},directives:[o.b],styles:["ngx-gallery[_ngcontent-%COMP%]     .ngx-gallery-bullet{background:hsla(0,0%,100%,.52)}"]}),e}()},bJsK:function(e,t,n){"use strict";n.r(t);var r,a,i=n("ofXK"),o=n("3Pt+"),c=n("Spb/"),s=n("PCNd"),l=n("R0Ic"),u=n("A5z7"),m=n("lnXG"),b=n("XNiG"),p=n("LRne"),g=n("1G5W"),d=n("eIep"),f=n("vkgz"),h=function(e){return e[e.NONE=0]="NONE",e[e.XS=1]="XS",e[e.S=2]="S",e[e.M=3]="M",e[e.L=4]="L",e[e.XL=5]="XL",e[e.XXL=6]="XXL",e[e.ALL=10]="ALL",e}({}),v=[{size:h.XS,available:!1,color:"warn"},{size:h.S,available:!1,color:"warn"},{size:h.M,available:!1,color:"warn"},{size:h.L,available:!1,color:"warn"},{size:h.XL,available:!1,color:"warn"},{size:h.XXL,available:!1,color:"warn"}],y=n("pKDw"),O=n("tk/3"),k=n("2Vo4"),I=n("itXk"),w=n("UXun"),C=n("lJxs"),_=n("JIr8"),S=n("5+tZ"),x=n("ezqR"),P=n("JIfX"),X=n("fXoL"),j=n("tyNb"),Y=((r=function(){function e(t,n,r,a){var i=this;_classCallCheck(this,e),this.http=t,this.snackBarService=n,this.eventBus=r,this.router=a,this.merchandiseUrl="merchandise",this.updateGearItemAction=new k.a(null),this.addGearItemAction=new k.a(null),this.deleteGearItemAction=new k.a(null),this.pageChangeAction=new k.a(null),this.loadingSubject=new b.a,this.loading$=this.loadingSubject.asObservable(),this.loadingDeleteSubject=new b.a,this.loadingDelete$=this.loadingDeleteSubject.asObservable(),this.gearItems$=new k.a([]).asObservable(),this.updatedGearItems$=Object(I.a)([this.updateGearItemAction,this.gearItems$]).pipe(Object(d.a)((function(e){var t=_slicedToArray(e,1)[0];return i.loadingSubject.next(!0),i.updateGearItemAsync(t)})),Object(w.a)()),this.newLatestGearItems$=Object(I.a)([this.addGearItemAction,this.gearItems$]).pipe(Object(d.a)((function(e){var t=_slicedToArray(e,1)[0];return i.loadingSubject.next(!0),i.createGearItemAsync(t)})),Object(w.a)()),this.deleteGearItemsLatest$=Object(I.a)([this.deleteGearItemAction,this.gearItems$]).pipe(Object(d.a)((function(e){var t=_slicedToArray(e,1)[0];return i.deleteGearItemAsync(t)})),Object(w.a)())}return _createClass(e,[{key:"resolve",value:function(e,t){var n=this,r={headers:new O.e({"Content-Type":"application/json",Accept:"application/json"})};return this.gearItems$=this.http.get(this.merchandiseUrl,r).pipe(Object(C.a)((function(e){return(n.gearItems=e).reverse()})),Object(_.a)((function(){return n.router.navigate(["about"]),n.snackBarService.openSnackBarFromComponent("Error occured. Please come back later","Dismiss",x.a.Error),Object(p.a)([])})),Object(w.a)()),this.gearItems$}},{key:"onPageChange",value:function(){return this.pageChangeAction.next({})}},{key:"findGearItem",value:function(e){return this.gearItems$.pipe(Object(S.a)((function(t){return t.filter((function(t){return t.id===e}))})))}},{key:"updateGearItem",value:function(e){this.updateGearItemAction.next(e)}},{key:"updateGearItemAsync",value:function(e){var t=this;return null===e?Object(p.a)([]):Object(I.a)([this.gearItems$,this.http.patch("".concat(this.merchandiseUrl,"/").concat(e.id),e.formData)]).pipe(Object(C.a)((function(t){var n=_slicedToArray(t,2),r=n[0],a=n[1],i=r.map((function(e){return e.id})).indexOf(e.id);return i>-1&&r.splice(i,1,a),r})),Object(f.a)((function(n){t.loadingSubject.next(!1),t.snackBarService.openSnackBarFromComponent("Successfully updated ".concat(e.name),"Dismiss",x.a.Success)})),Object(f.a)((function(){return t.eventBus.emit(new P.a(y.b.CloseOpen,!0))})),Object(_.a)((function(){return t.loadingSubject.next(!1),t.snackBarService.openSnackBarFromComponent("Error occured updating ".concat(e.name),"Dismiss",x.a.Error),Object(p.a)([])})))}},{key:"createGearItem",value:function(e){this.addGearItemAction.next(e)}},{key:"createGearItemAsync",value:function(e){var t=this;return null===e?Object(p.a)([]):Object(I.a)([this.gearItems$,this.http.post("".concat(this.merchandiseUrl),e.formData)]).pipe(Object(C.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return n.unshift(r),n})),Object(f.a)((function(n){t.loadingSubject.next(!1),t.snackBarService.openSnackBarFromComponent("Successfully created ".concat(e.name),"Dismiss",x.a.Success)})),Object(f.a)((function(){return t.eventBus.emit(new P.a(y.b.CloseOpen,!0))})),Object(_.a)((function(){return t.loadingSubject.next(!1),t.snackBarService.openSnackBarFromComponent("Error occured creating ".concat(e.name),"Dismiss",x.a.Error),Object(p.a)([])})))}},{key:"deleteGearItem",value:function(e){this.deleteGearItemAction.next(e)}},{key:"deleteGearItemAsync",value:function(e){var t=this;return null===e?Object(p.a)([]):(this.eventBus.emit(new P.a(y.b.Loading,!0)),Object(I.a)([this.gearItems$,this.http.delete("".concat(this.merchandiseUrl,"/").concat(e.id))]).pipe(Object(C.a)((function(t){var n=_slicedToArray(t,1)[0],r=n.map((function(e){return e.id})).indexOf(e.id);return r>-1&&n.splice(r,1),n})),Object(f.a)((function(n){t.eventBus.emit(new P.a(y.b.Loading,!1)),t.snackBarService.openSnackBarFromComponent("Successfully deleted ".concat(e.name),"Dismiss",x.a.Success)})),Object(_.a)((function(n){return t.eventBus.emit(new P.a(y.b.Loading,!1)),t.snackBarService.openSnackBarFromComponent("Error occured deleting ".concat(e.name),"Dismiss",x.a.Error),Object(p.a)(null)}))))}}]),e}()).\u0275fac=function(e){return new(e||r)(X.cc(O.b),X.cc(x.b),X.cc(y.a),X.cc(j.c))},r.\u0275prov=X.Ob({token:r,factory:r.\u0275fac,providedIn:"root"}),r),A=n("9JtH"),z=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isErrorState",value:function(e,t){return e&&e.invalid&&e.touched}}]),e}(),M=n("0IaG"),E=n("xHqg"),F=n("kmnG"),G=n("qFsG"),q=n("bTqV"),J=n("znSr"),L=n("1jcm"),T=n("bv9b"),N=n("NFeN"),D=((a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];n.name=n.name?n.name.slice(0,27):"placeholderImageName",e.splice(t,1,n)}return e}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275pipe=X.Rb({name:"gearImageView",type:a,pure:!1}),a);function $(e,t){1&e&&(X.Wb(0),X.Tb(1,"mat-progress-bar",24),X.Vb())}function H(e,t){1&e&&X.Jc(0,"Info")}function B(e,t){1&e&&X.Jc(0,"Details")}function R(e,t){if(1&e){var n=X.Zb();X.Wb(0),X.Wb(1,25),X.Yb(2,"mat-chip",26),X.gc("click",(function(e){X.Ac(n);var r=t.$implicit,a=t.index;return X.kc().onSelectedChipSize(r,a)})),X.Jc(3),X.Xb(),X.Vb(),X.Vb()}if(2&e){var r=t.$implicit,a=t.index,i=X.kc();X.Eb(1),X.qc("formGroupName",a),X.Eb(1),X.qc("selected",r.value.available)("color",r.value.color),X.Eb(1),X.Lc(" ",i.sizeEnum[r.value.size]," ")}}function U(e,t){if(1&e){var n=X.Zb();X.Wb(0),X.Yb(1,"mat-chip",27),X.gc("removed",(function(e){X.Ac(n);var r=t.$implicit;return X.kc().onRemoveImage(r)})),X.Jc(2),X.Yb(3,"mat-icon",28),X.Jc(4,"cancel"),X.Xb(),X.Xb(),X.Vb()}if(2&e){var r=t.$implicit;X.Eb(1),X.qc("removable",!0),X.Eb(1),X.Lc("",r.name," ")}}var V,W,Z,K=function(e){return{"margin-bottom":e}},Q=((W=function(){function e(t,n,r,a,i){_classCallCheck(this,e),this.fb=t,this.route=n,this.merchandiseService=r,this.dialogRef=a,this.eventBus=i,this.editMode=!1,this.selectedFileFormData=new FormData,this.gearItemImages=[],this.noSizesSelectedStateMatcher=new z,this.gearSizes=[],this.isInStock=!0,this.sizeEnum=h,this.isLoading$=this.merchandiseService.loading$,this.unsubscribed$=new b.a,this.testChips=[{color:"warn",size:"M",selected:!0},{color:"warn",size:"L",selected:!0}],this.gearSizes=[].concat(v)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription=this.eventBus.on(y.b.CloseOpen,(function(t){t&&e.dialogRef.close()})),this.route.children[0].firstChild.children.filter((function(e){return e.outlet===A.f})).map((function(t){return t.params.pipe(Object(g.a)(e.unsubscribed$),Object(d.a)((function(t){return e.editMode=void 0!==t.id,e.editMode?e.merchandiseService.findGearItem(+t.id):Object(p.a)({})})),Object(f.a)((function(t){e.gearItem=m(t)}))).subscribe((function(t){return e.initForm()}))}))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.unsubscribed$.next(),this.unsubscribed$.complete()}},{key:"onSubmit",value:function(){this.dialogRef.close();var e=this.gearItemObjectForDelivery();this.editMode?this.merchandiseService.updateGearItem(e):this.merchandiseService.createGearItem(e)}},{key:"gearItemObjectForDelivery",value:function(){var e=this.editMode?this.gearItemImages.filter((function(e){return void 0!==e.id})):[],t={name:this.gearItemForm.value.name,price:this.gearItemForm.value.price,sizes:this.gearItemForm.controls.sizes.controls.map((function(e){return e.value})),inStock:this.gearItemForm.value.inStock,images:e};return this.editMode&&(t.id=this.gearItem.id),t.formData=this.selectedFileFormData,t.formData.append("gearItem",JSON.stringify(t)),t}},{key:"onSlideChange",value:function(){this.gearItem.inStock=!this.gearItem.inStock}},{key:"onSelectedChipSize",value:function(e,t){e.patchValue({available:!e.value.available}),this.gearItemForm.controls.sizes.updateValueAndValidity()}},{key:"onCancel",value:function(){this.dialogRef.close()}},{key:"onFileSelected",value:function(e){var t=e.target.files.length<3?e.target.files.length:3,n=e.target.files;if(3===this.gearItemImages.length){this.gearItemImages=_toConsumableArray(this.gearItemImages);for(var r=0;r<t;r++){this.gearItemImages.splice(r,1,{name:n[r].name,size:n[r].size,type:n[r].type,previewId:r});var a=n[r];a.previewId=r,this.selectedFileFormData.append(A.c.GearImages,a)}}else if(this.gearItemImages.length>0&&this.gearItemImages.length<3){this.gearItemImages=_toConsumableArray(this.gearItemImages);for(var i=0;i<t;i++)if(this.gearItemImages.length<3){this.gearItemImages=[{name:n[i].name,size:n[i].size,type:n[i].type,previewId:i}].concat(_toConsumableArray(this.gearItemImages));var o=n[i];o.previewId=i,this.selectedFileFormData.append(A.c.GearImages,o)}}else for(var c=0;c<t;c++){this.gearItemImages=[].concat(_toConsumableArray(this.gearItemImages),[{name:n[c].name,size:n[c].size,type:n[c].type,previewId:c}]);var s=n[c];s.previewId=c,this.selectedFileFormData.append(A.c.GearImages,s)}}},{key:"onRemoveImage",value:function(e){var t=this,n=this.gearItemImages.map((function(e){return e.name})).indexOf(e.name);if(n>-1){this.gearItemImages.splice(n,1);var r=this.selectedFileFormData.getAll(A.c.GearImages).filter((function(t){return t.previewId!==e.previewId}));this.selectedFileFormData=new FormData,r.forEach((function(e){t.selectedFileFormData.append(A.c.GearImages,e)}))}}},{key:"hideIfEmpty",value:function(){if(void 0===this.gearItemImages&&(this.gearItemImages=[]),0===this.gearItemImages.length)return"0px"}},{key:"initForm",value:function(){var e="",t=null,n=this.gearSizes,r=[],a=this.isInStock;this.editMode&&(e=this.gearItem.name,t=this.gearItem.price,a=this.gearItem.inStock,r=this.gearItem.images,n=this.gearItem.sizes,this.gearItemImages=this.gearItem.images);for(var i=[],c=0;c<n.length;c++)i.push(this.initGearSizeForm(n[c]));this.gearItemForm=this.fb.group({name:this.fb.control(e,o.v.required),price:this.fb.control(t,o.v.required),sizes:this.fb.array(i,this.requireSize()),inStock:this.fb.control(a),images:this.fb.control(r)})}},{key:"initGearSizeForm",value:function(e){return this.fb.group({id:this.fb.control(e.id),size:this.fb.control(e.size),available:this.fb.control(e.available),color:this.fb.control(e.color)})}},{key:"requireSize",value:function(){return function(e){return e.value.filter((function(e){return!0===e.available})).length>0?(e.markAsTouched(),null):{invalidSize:{value:"Please select a size"}}}}}]),e}()).\u0275fac=function(e){return new(e||W)(X.Sb(o.d),X.Sb(j.a),X.Sb(Y),X.Sb(M.d),X.Sb(y.a))},W.\u0275cmp=X.Mb({type:W,selectors:[["app-merchandise-dialog"]],viewQuery:function(e,t){var n;1&e&&X.Pc(u.c,!0),2&e&&X.wc(n=X.hc())&&(t.matChipList=n.first)},decls:54,vars:21,consts:[["mat-dialog-title","",1,"gear-item-title"],[4,"ngIf"],[3,"formGroup","ngSubmit"],["matStepLabel",""],["matInput","","placeholder","Name of the item","formControlName","name","cdkFocusInitial",""],["matInput","","type","number","placeholder","Price","formControlName","price",1,"right-align"],["matPrefix",""],["matSuffix",""],[1,"action-buttons"],["mat-raised-button","","color","warn","type","button",2,"margin-right","5px",3,"click"],["mat-raised-button","","color","accent","matStepperNext","","type","button"],["formArrayName","sizes"],["floatLabel","always"],["aria-label","Gear Item Sizes",3,"multiple"],["chipList",""],[4,"ngFor","ngForOf"],["id","imagesToUploadContainer"],["formControlName","images",1,"mat-chip-list-stacked","upload-image-chips",3,"ngStyle"],["formControlName","inStock","color","accent",2,"display","block",3,"labelPosition","checked","change"],["mat-raised-button","","color","warn","matStepperPrevious","","type","button",2,"align-self","flex-end","margin-right","5px"],["mat-raised-button","","color","accent","type","button",1,"action-buttons",3,"click"],["type","file","multiple","multiple",2,"display","none",3,"change"],["fileUpload",""],["mat-raised-button","","color","accent",1,"post-button",2,"align-self","flex-end",3,"disabled"],["color","accent","mode","indeterminate"],[3,"formGroupName"],[3,"selected","color","click"],[3,"removable","removed"],["matChipRemove",""]],template:function(e,t){if(1&e){var n=X.Zb();X.Yb(0,"h1",0),X.Jc(1),X.Xb(),X.Hc(2,$,2,0,"ng-container",1),X.lc(3,"async"),X.Yb(4,"form",2),X.gc("ngSubmit",(function(e){return t.onSubmit()})),X.Yb(5,"mat-horizontal-stepper"),X.Yb(6,"mat-step"),X.Hc(7,H,1,0,"ng-template",3),X.Yb(8,"mat-form-field"),X.Tb(9,"input",4),X.Yb(10,"mat-error"),X.Jc(11,"You must enter a "),X.Yb(12,"strong"),X.Jc(13,"name"),X.Xb(),X.Xb(),X.Xb(),X.Yb(14,"mat-form-field"),X.Tb(15,"input",5),X.Yb(16,"span",6),X.Jc(17,"$\xa0"),X.Xb(),X.Yb(18,"span",7),X.Jc(19,".00"),X.Xb(),X.Yb(20,"mat-error"),X.Jc(21,"You must enter a "),X.Yb(22,"strong"),X.Jc(23,"price"),X.Xb(),X.Xb(),X.Xb(),X.Yb(24,"div",8),X.Yb(25,"button",9),X.gc("click",(function(e){return t.onCancel()})),X.Jc(26," Cancel "),X.Xb(),X.Yb(27,"button",10),X.Jc(28," Next "),X.Xb(),X.Xb(),X.Xb(),X.Yb(29,"mat-step"),X.Hc(30,B,1,0,"ng-template",3),X.Wb(31,11),X.Yb(32,"mat-form-field",12),X.Yb(33,"mat-label"),X.Jc(34,"Please select sizes"),X.Xb(),X.Yb(35,"mat-chip-list",13,14),X.Hc(37,R,4,4,"ng-container",15),X.Xb(),X.Xb(),X.Vb(),X.Yb(38,"div",16),X.Yb(39,"mat-chip-list",17),X.Hc(40,U,5,2,"ng-container",15),X.lc(41,"gearImageView"),X.Xb(),X.Xb(),X.Yb(42,"mat-slide-toggle",18),X.gc("change",(function(e){return t.onSlideChange()})),X.Jc(43),X.Xb(),X.Yb(44,"div",8),X.Yb(45,"button",19),X.Jc(46," Back "),X.Xb(),X.Yb(47,"button",20),X.gc("click",(function(e){return X.Ac(n),X.xc(50).click()})),X.Jc(48," Images "),X.Xb(),X.Yb(49,"input",21,22),X.gc("change",(function(e){return t.onFileSelected(e)})),X.Xb(),X.Yb(51,"button",23),X.lc(52,"async"),X.Jc(53),X.Xb(),X.Xb(),X.Xb(),X.Xb(),X.Xb()}2&e&&(X.Eb(1),X.Lc(" ",t.editMode?"Edit Item":"New Gear","\n"),X.Eb(1),X.qc("ngIf",X.mc(3,13,t.isLoading$)),X.Eb(2),X.qc("formGroup",t.gearItemForm),X.Eb(31),X.qc("multiple",!0),X.Eb(2),X.qc("ngForOf",null==t.gearItemForm.controls?null:t.gearItemForm.controls.sizes.controls),X.Eb(1),X.qc("@imageUpload",t.gearItemImages.length),X.Eb(1),X.qc("ngStyle",X.tc(19,K,t.hideIfEmpty())),X.Eb(1),X.qc("ngForOf",X.mc(41,15,t.gearItemImages)),X.Eb(2),X.qc("labelPosition","after")("checked",t.gearItemForm.controls.inStock.value),X.Eb(1),X.Kc(t.gearItemForm.controls.inStock.value?"In stock":"Out of stock"),X.Eb(8),X.qc("disabled",!t.gearItemForm.valid||X.mc(52,17,t.isLoading$)),X.Eb(2),X.Lc(" ",t.editMode?"Update":"Post"," "))},directives:[M.e,i.m,o.w,o.p,o.g,E.a,E.b,E.c,F.b,G.b,o.b,o.o,o.f,F.a,o.s,F.h,F.i,q.b,E.e,o.c,F.f,u.c,i.l,i.n,J.c,L.a,E.f,T.a,o.h,u.a,N.a,u.d],pipes:[i.b,D],styles:[".gear-item-title[_ngcontent-%COMP%]{padding-left:24px}.action-buttons[_ngcontent-%COMP%]{margin-top:15px;display:-webkit-box;display:flex}.action-buttons[_ngcontent-%COMP%]   .post-button[_ngcontent-%COMP%]{margin-left:auto}.mat-form-field[_ngcontent-%COMP%]{width:100%}#imagesToUploadContainer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:start;align-items:flex-start;flex-wrap:wrap;flex-flow:column;-webkit-box-pack:space-evenly;justify-content:space-evenly;margin-top:10px}.right-align[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]     .mat-horizontal-content-container{padding-left:0;padding-right:0;padding-bottom:24px}[_nghost-%COMP%]     .mat-form-field.mat-focused .mat-form-field-label{color:hsla(0,0%,100%,.7)}[_nghost-%COMP%]     .mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:auto}.upload-image-chips[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]     #imagesToUploadContainer mat-form-field div:nth-child(2){display:none}mat-slide-toggle[_ngcontent-%COMP%]{padding-left:10px;display:inline-block!important}[_nghost-%COMP%]     .mat-horizontal-content-container{padding-bottom:0!important}"],data:{animation:[Object(l.o)("imageUpload",[Object(l.n)("* => *",[Object(l.i)(":enter",[Object(l.m)({opacity:0,transform:"translateY(-100%)"}),Object(l.k)(290,[Object(l.e)(".3s ease-in-out",Object(l.m)({opacity:1,transform:"translateY(-3%)"}))])],{optional:!0}),Object(l.i)(":leave",[Object(l.m)({opacity:1,transform:"translateX(0)"}),Object(l.e)(".3s cubic-bezier(.34,-0.39,.7,1.5)",Object(l.m)({opacity:0,transform:"translateX(-30%)"}))],{optional:!0})])])]}}),W),ee=((V=function(e){function t(e,n,r,a){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,r,a))).preOrderAction=new b.a,i.preOrder$=i.preOrderAction.asObservable().pipe(Object(d.a)((function(e){return i.preOrderGearItemAsync(e)}))),i.headers={headers:new O.e({"Content-Type":"application/json"})},i}return _inherits(t,e),_createClass(t,[{key:"preOrderGearItem",value:function(e){this.preOrderAction.next(e)}},{key:"preOrderGearItemAsync",value:function(e){var t=this;return this.loadingSubject.next(!0),this.http.post("".concat(this.merchandiseUrl,"/").concat(e.gearItemId,"/pre-order"),JSON.stringify(e),this.headers).pipe(Object(f.a)((function(){return t.loadingSubject.next(!1)})),Object(_.a)((function(e){return t.loadingSubject.next(!1),t.snackBarService.openSnackBarFromComponent("Error occured submitting the pre-order","Dismiss",x.a.Error),Object(p.a)(null)})))}}]),t}(Y)).\u0275fac=function(e){return new(e||V)(X.cc(O.b),X.cc(x.b),X.cc(y.a),X.cc(j.c))},V.\u0275prov=X.Ob({token:V,factory:V.\u0275fac,providedIn:"root"}),V),te=n("d3UM"),ne=n("FKr1"),re=n("QibW"),ae=((Z=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return e.filter((function(e){return e.available}))}}]),e}()).\u0275fac=function(e){return new(e||Z)},Z.\u0275pipe=X.Rb({name:"filteredGearSizes",type:Z,pure:!0}),Z);function ie(e,t){1&e&&(X.Wb(0),X.Tb(1,"mat-progress-bar",27),X.Vb())}function oe(e,t){if(1&e&&(X.Yb(0,"mat-option",28),X.Jc(1),X.Xb()),2&e){var n=t.$implicit,r=X.kc(2);X.qc("value",n.size),X.Eb(1),X.Lc(" ",r.sizeEnum[n.size]," ")}}function ce(e,t){if(1&e){var n=X.Zb();X.Wb(0),X.Hc(1,ie,2,0,"ng-container",3),X.lc(2,"async"),X.Yb(3,"form",4),X.gc("ngSubmit",(function(e){return X.Ac(n),X.kc().onSubmit()})),X.Yb(4,"mat-horizontal-stepper"),X.Yb(5,"mat-step"),X.Yb(6,"mat-form-field"),X.Tb(7,"input",5),X.Yb(8,"mat-error"),X.Jc(9,"You must provide"),X.Yb(10,"strong"),X.Jc(11,"First Name"),X.Xb(),X.Xb(),X.Xb(),X.Yb(12,"mat-form-field"),X.Tb(13,"input",6),X.Yb(14,"mat-error"),X.Jc(15,"You must provide "),X.Yb(16,"strong"),X.Jc(17,"Last Name"),X.Xb(),X.Xb(),X.Xb(),X.Yb(18,"div",7),X.Yb(19,"button",8),X.gc("click",(function(e){return X.Ac(n),X.kc().onCancel()})),X.Jc(20," Cancel "),X.Xb(),X.Yb(21,"button",9),X.Jc(22," Next "),X.Xb(),X.Xb(),X.Xb(),X.Yb(23,"mat-step"),X.Yb(24,"mat-form-field"),X.Tb(25,"input",10),X.Yb(26,"mat-error"),X.Jc(27,"You must provide a "),X.Yb(28,"strong"),X.Jc(29,"Phone Number"),X.Xb(),X.Xb(),X.Xb(),X.Yb(30,"mat-form-field"),X.Tb(31,"input",11),X.Yb(32,"mat-error"),X.Jc(33,"You must provide an "),X.Yb(34,"strong"),X.Jc(35,"E-mail"),X.Xb(),X.Jc(36," address"),X.Xb(),X.Xb(),X.Yb(37,"div",7),X.Yb(38,"button",12),X.Jc(39,"Back"),X.Xb(),X.Yb(40,"button",9),X.Jc(41," Next "),X.Xb(),X.Xb(),X.Xb(),X.Yb(42,"mat-step"),X.Yb(43,"div",13),X.Yb(44,"mat-form-field",14),X.Yb(45,"mat-placeholder",15),X.Jc(46,"Select Your Size"),X.Xb(),X.Yb(47,"mat-select",16),X.Yb(48,"mat-option"),X.Jc(49,"--"),X.Xb(),X.Hc(50,oe,2,2,"mat-option",17),X.lc(51,"filteredGearSizes"),X.Xb(),X.Yb(52,"mat-error"),X.Jc(53,"You must select a "),X.Yb(54,"strong"),X.Jc(55,"size"),X.Xb(),X.Xb(),X.Xb(),X.Yb(56,"mat-form-field"),X.Tb(57,"input",18),X.Yb(58,"mat-error"),X.Jc(59,"You must specify "),X.Yb(60,"strong"),X.Jc(61,"quantity"),X.Xb(),X.Xb(),X.Xb(),X.Xb(),X.Yb(62,"div",19),X.Yb(63,"mat-placeholder",15),X.Jc(64,"Preferred Contact:"),X.Xb(),X.Xb(),X.Yb(65,"div",20),X.Yb(66,"mat-radio-group",21),X.Yb(67,"mat-radio-button",22),X.Jc(68,"Text/Call"),X.Xb(),X.Yb(69,"mat-radio-button",23),X.Jc(70,"Email"),X.Xb(),X.Xb(),X.Xb(),X.Yb(71,"div",7),X.Yb(72,"button",24),X.Jc(73," Back "),X.Xb(),X.Yb(74,"button",25),X.gc("click",(function(e){return X.Ac(n),X.kc().onCancel()})),X.Jc(75," Cancel "),X.Xb(),X.Yb(76,"button",26),X.lc(77,"async"),X.Jc(78," Order! "),X.Xb(),X.Xb(),X.Xb(),X.Xb(),X.Xb(),X.Vb()}if(2&e){var r=X.kc();X.Eb(1),X.qc("ngIf",X.mc(2,5,r.isLoading$)),X.Eb(2),X.qc("formGroup",r.preOrderForm),X.Eb(47),X.qc("ngForOf",X.mc(51,7,r.gearItem.sizes)),X.Eb(17),X.qc("checked",!0),X.Eb(9),X.qc("disabled",!r.preOrderForm.valid||X.mc(77,9,r.isLoading$))}}function se(e,t){1&e&&X.Jc(0,"Order Summary")}function le(e,t){if(1&e){var n=X.Zb();X.Yb(0,"mat-horizontal-stepper"),X.Yb(1,"mat-step"),X.Hc(2,se,1,0,"ng-template",29),X.Yb(3,"div"),X.Jc(4),X.Xb(),X.Yb(5,"div",7),X.Yb(6,"button",30),X.gc("click",(function(e){return X.Ac(n),X.kc().onCancel()})),X.Jc(7," Complete "),X.Xb(),X.Xb(),X.Xb(),X.Xb()}if(2&e){var r=X.kc();X.Eb(4),X.Nc(" Thank you for your pre-order. You have pre-ordered ",r.preOrderForm.get("orderDetails").value.quantity," ",r.gearItem.name," for $",r.gearItem.price," each. Your total is $",r.computeTotalPrice(),". We will be sending you a confirmation e-mail shortly. ")}}var ue,me,be,pe,ge,de=((be=function(){function e(t,n,r,a,i){_classCallCheck(this,e),this.fb=t,this.dialogRef=n,this.route=r,this.merchandiseService=a,this.preOrderService=i,this.preOrderForm=this.fb.group({firstName:this.fb.control(null,o.v.required),lastName:this.fb.control(null,o.v.required),phoneNumber:this.fb.control(null,[o.v.required,o.v.pattern("[0-9]{0,10}")]),email:this.fb.control(null,[o.v.required,o.v.email]),orderDetails:this.fb.group({quantity:this.fb.control(1,o.v.required),size:this.fb.control(null,o.v.required)}),contactPreference:this.fb.group({cellOrEmail:this.fb.control(1)})}),this.sizeEnum=h,this.preOrderdItem$=this.preOrderService.preOrder$,this.isLoading$=this.preOrderService.loading$}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.children[0].firstChild.children.filter((function(e){return e.outlet===A.f})).map((function(t){return t.params.pipe(Object(d.a)((function(t){return e.merchandiseService.findGearItem(+t.id)})),Object(f.a)((function(t){e.gearItem=m(t)}))).subscribe()}))}},{key:"onSubmit",value:function(){this.preOrderService.preOrderGearItem({quantity:this.preOrderForm.value.orderDetails.quantity,size:this.preOrderForm.value.orderDetails.size,gearItemId:this.gearItem.id,contact:{firstName:this.preOrderForm.value.firstName,lastName:this.preOrderForm.value.lastName,email:this.preOrderForm.value.email,phoneNumber:this.preOrderForm.value.phoneNumber,preferredContact:+this.preOrderForm.value.contactPreference.cellOrEmail}})}},{key:"computeTotalPrice",value:function(){return this.gearItem.price*this.preOrderForm.value.orderDetails.quantity}},{key:"onCancel",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||be)(X.Sb(o.d),X.Sb(M.d),X.Sb(j.a),X.Sb(Y),X.Sb(ee))},be.\u0275cmp=X.Mb({type:be,selectors:[["app-merchandise-pre-order-dialog"]],features:[X.Db([ee])],decls:6,vars:5,consts:[["mat-dialog-title","",1,"gear-item-title"],[4,"ngIf","ngIfElse"],["finalizeOrder",""],[4,"ngIf"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","First Name","formControlName","firstName","cdkFocusInitial",""],["matInput","","placeholder","Last Name","formControlName","lastName"],[1,"action-buttons"],["mat-raised-button","","color","warn","type","button",2,"margin-right","5px",3,"click"],["mat-raised-button","","color","accent","matStepperNext","","type","button"],["matInput","","type","number","maxlength","10","minlength","10","placeholder","Phone Number","formControlName","phoneNumber"],["matInput","","type","email","placeholder","E-mail","formControlName","email"],["mat-raised-button","","matStepperPrevious","","color","warn",2,"margin-right","5px"],["formGroupName","orderDetails"],["floatLabel","always"],[1,"placeholder"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number","placeholder","Quantity","formControlName","quantity"],["id","preferred-contact-lable"],["formGroupName","contactPreference",1,"contact-preference"],["formControlName","cellOrEmail","aria-label","Select an option"],["value","1",3,"checked"],["value","2"],["mat-raised-button","","color","accent","matStepperPrevious","","type","button",2,"align-self","flex-end","margin-right","5px"],["mat-raised-button","","color","warn","type","button",1,"action-buttons",3,"click"],["mat-raised-button","","color","accent",1,"post-button",2,"align-self","flex-end",3,"disabled"],["color","accent","mode","indeterminate"],[3,"value"],["matStepLabel",""],["mat-raised-button","","color","accent",1,"post-button",2,"align-self","flex-end",3,"click"]],template:function(e,t){if(1&e&&(X.Yb(0,"h1",0),X.Jc(1),X.Xb(),X.Hc(2,ce,79,11,"ng-container",1),X.lc(3,"async"),X.Hc(4,le,8,4,"ng-template",null,2,X.Ic)),2&e){var n=X.xc(5);X.Eb(1),X.Lc(" Pre-Order for ",t.gearItem.name,"\n"),X.Eb(1),X.qc("ngIf",!X.mc(3,3,t.preOrderdItem$))("ngIfElse",n)}},directives:[M.e,i.m,o.w,o.p,o.g,E.a,E.b,F.b,G.b,o.b,o.o,o.f,F.a,q.b,E.e,o.s,o.j,o.k,E.f,o.h,F.g,te.a,ne.n,i.l,re.b,re.a,T.a,E.c],pipes:[i.b,ae],styles:[".gear-item-title[_ngcontent-%COMP%]{padding-left:24px}.action-buttons[_ngcontent-%COMP%]{margin-top:15px;display:-webkit-box;display:flex}.action-buttons[_ngcontent-%COMP%]   .post-button[_ngcontent-%COMP%]{margin-left:auto}.mat-form-field[_ngcontent-%COMP%]{width:100%}#imagesToUploadContainer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:start;align-items:flex-start;flex-wrap:wrap;flex-flow:column;-webkit-box-pack:space-evenly;justify-content:space-evenly;margin-top:10px}.right-align[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]     .mat-horizontal-content-container{padding-left:0;padding-right:0;padding-bottom:24px}[_nghost-%COMP%]     .mat-form-field.mat-focused .mat-form-field-label{color:hsla(0,0%,100%,.7)}[_nghost-%COMP%]     .mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:auto}.upload-image-chips[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]     #imagesToUploadContainer mat-form-field div:nth-child(2){display:none}mat-slide-toggle[_ngcontent-%COMP%]{padding-left:10px;display:inline-block!important}[_nghost-%COMP%]     .mat-horizontal-content-container{padding-bottom:0!important}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}.contact-preference[_ngcontent-%COMP%]{margin-left:10px}#preferred-contact-lable[_ngcontent-%COMP%]{margin-bottom:7px}"],changeDetection:0}),be),fe=((me=function(){function e(t,n){_classCallCheck(this,e),this.router=t,this.route=n,this.component=Q}return _createClass(e,[{key:"openMerchandiseDialog",value:function(e){var t=this;this.component=this.router.url.includes("pre-order")?de:Q,e.open(this.component,{width:"90%",maxWidth:"450px"}).afterClosed().subscribe((function(){t.router.navigate(["merchandise"],{relativeTo:t.route})}))}}]),e}()).\u0275fac=function(e){return new(e||me)(X.cc(j.c),X.cc(j.a))},me.\u0275prov=X.Ob({token:me,factory:me.\u0275fac}),me),he=((ue=function(){function e(t,n){_classCallCheck(this,e),this.merchandiseDialogService=t,this.dialog=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout((function(){e.merchandiseDialogService.openMerchandiseDialog(e.dialog)}))}}]),e}()).\u0275fac=function(e){return new(e||ue)(X.Sb(fe),X.Sb(M.b))},ue.\u0275cmp=X.Mb({type:ue,selectors:[["app-merchandise-dialog-container"]],decls:0,vars:0,template:function(e,t){},styles:["mat-horizontal-stepper.mat-horizontal-content-container[_ngcontent-%COMP%]{padding:0 0 24px!important}"]}),ue),ve=n("mrSG"),ye=n("M9IT"),Oe=n("Kqap"),ke=n("0aut"),Ie=((pe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getRemovedStoreItem",value:function(e,t){for(var n=null,r=0;r<t.length;r++){var a=t[r];-1===e.indexOf(a)&&(n=a)}return n}},{key:"getPagedItems",value:function(e,t,n,r,a){if(0===a.length)return e.slice(0,r);if(e.length===a.length){var i=[];return e.filter((function(e){n.map((function(t){t.id===e.id&&i.push(e)}))})),i}if(e.length>a.length)return a.firstPage(),e.slice(0,r);if(n.length>0&&t.length>r){if(e.length<t.length){var o=this.getRemovedStoreItem(e,t);if(n.length>1){var c=n.indexOf(o),s=_toConsumableArray(n);if(s.splice(c,1),!a.hasNextPage())return s;if(a.hasNextPage()){if(e.length===n.length)return e;var l=t.indexOf(o);return s.splice(n.length-1,0,e[l-1+(r-c)]),s}}else{if(e.length<=r)return a.firstPage(),e.slice(0,e.length);if(!a.hasNextPage()&&a.hasPreviousPage())return a.previousPage(),e.slice(e.length-r)}}}else if(!a.hasNextPage()&&!a.hasPreviousPage())return e}}]),e}()).\u0275fac=function(e){return new(e||pe)},pe.\u0275prov=X.Ob({token:pe,factory:pe.\u0275fac}),pe),we=n("e5XA"),Ce=n("vxfF"),_e=n("KXBU"),Se=n("RL7/"),xe=((ge=function(){function e(){_classCallCheck(this,e),this.setVHFunc=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}}return _createClass(e,[{key:"onResize",value:function(){this.setVHFunc()}},{key:"ngOnInit",value:function(){this.setVHFunc()}}]),e}()).\u0275fac=function(e){return new(e||ge)},ge.\u0275dir=X.Nb({type:ge,selectors:[["","appIosVH",""]],hostBindings:function(e,t){1&e&&X.gc("resize",(function(e){return t.onResize(e)}),!1,X.zc)}}),ge),Pe=n("1vjc"),Xe=n("XGsO"),je=n("Wp6s"),Ye=n("YBOo");function Ae(e,t){if(1&e&&(X.Yb(0,"mat-chip",11),X.Jc(1),X.Xb()),2&e){var n=X.kc().$implicit,r=X.kc();X.Eb(1),X.Lc(" ",r.sizes[n.size]," ")}}function ze(e,t){if(1&e&&(X.Wb(0),X.Hc(1,Ae,2,1,"mat-chip",10),X.Vb()),2&e){var n=t.$implicit;X.Eb(1),X.qc("ngIf",n.available)}}function Me(e,t){if(1&e){var n=X.Zb();X.Wb(0),X.Yb(1,"button",12),X.gc("click",(function(e){return X.Ac(n),X.kc(2).onEditGearItem()})),X.Jc(2," EDIT "),X.Xb(),X.Yb(3,"button",13),X.gc("click",(function(e){return X.Ac(n),X.kc(2).onDeleteGearItem()})),X.Jc(4," DELETE "),X.Xb(),X.Vb()}}function Ee(e,t){if(1&e&&(X.Wb(0),X.Hc(1,Me,5,0,"ng-container",8),X.Vb()),2&e){var n=X.kc();X.Eb(1),X.qc("ngIf",n.isAdmin)}}var Fe,Ge=[{width:"360px",height:"400px",imageAnimation:Xe.a.Zoom,thumbnails:!1,previewSwipe:!0,imageSwipe:!0,imageArrowsAutoHide:!1,previewCloseOnClick:!0,previewCloseOnEsc:!0,previewKeyboardNavigation:!0,previewInfinityMove:!0,imageInfinityMove:!0,previewZoom:!0,imageAutoPlay:!1,imageAutoPlayPauseOnHover:!0,previewAutoPlay:!1,previewAutoPlayPauseOnHover:!0,previewArrowsAutoHide:!0,imageBullets:!0,lazyLoading:!0,previewRotate:!0},{breakpoint:800,width:"100%",height:"360px",imagePercent:80,thumbnailsPercent:20,thumbnailsMargin:20,thumbnailMargin:20},{breakpoint:400,preview:!0,height:"260px"}],qe=((Fe=function(){function e(t,n,r,a){_classCallCheck(this,e),this.router=t,this.route=n,this.merchandiseService=r,this.authService=a,this.sizes=h,this.galleryOptions=Ge,this.routeAnimationsElements=ke.a}return _createClass(e,[{key:"onEditGearItem",value:function(){this.router.navigate([{outlets:{modal:[this.gearItem.id,"edit"]}}],{relativeTo:this.route})}},{key:"onPreOrderGearItem",value:function(){this.router.navigate([{outlets:{modal:[this.gearItem.id,"pre-order"]}}],{relativeTo:this.route})}},{key:"onDeleteGearItem",value:function(){this.merchandiseService.deleteGearItem(this.gearItem)}}]),e}()).\u0275fac=function(e){return new(e||Fe)(X.Sb(j.c),X.Sb(j.a),X.Sb(Y),X.Sb(Se.a))},Fe.\u0275cmp=X.Mb({type:Fe,selectors:[["app-merchandise-item"]],inputs:{gearItem:"gearItem",isAdmin:"isAdmin"},decls:26,vars:13,consts:[[1,"gear-item",3,"ngClass"],["mat-card-image",""],[3,"ngxGalleryOptions","images"],[1,"gear-sizes"],[1,"sizes"],[3,"selectable"],[4,"ngFor","ngForOf"],[1,"price"],[4,"ngIf"],["id","pre-order","mat-raised-button","","color","accent",3,"click"],["id","chip",4,"ngIf"],["id","chip"],["id","edit","mat-raised-button","","color","accent",3,"click"],["id","delete","mat-raised-button","","color","warn",3,"click"]],template:function(e,t){1&e&&(X.Yb(0,"mat-card",0),X.Yb(1,"mat-card-header"),X.Yb(2,"mat-card-title"),X.Yb(3,"div"),X.Yb(4,"h3"),X.Jc(5),X.Xb(),X.Xb(),X.Xb(),X.Yb(6,"mat-card-subtitle"),X.Yb(7,"div"),X.Jc(8),X.Xb(),X.Xb(),X.Xb(),X.Yb(9,"div",1),X.Tb(10,"app-gallery-viewer",2),X.Xb(),X.Yb(11,"mat-card-content"),X.Yb(12,"div"),X.Yb(13,"div",3),X.Yb(14,"span",4),X.Jc(15,"Available Sizes:"),X.Xb(),X.Tb(16,"br"),X.Yb(17,"mat-chip-list",5),X.Hc(18,ze,2,1,"ng-container",6),X.Xb(),X.Xb(),X.Yb(19,"h2",7),X.Jc(20),X.Xb(),X.Xb(),X.Xb(),X.Yb(21,"mat-card-actions"),X.Hc(22,Ee,2,1,"ng-container",8),X.lc(23,"async"),X.Yb(24,"button",9),X.gc("click",(function(e){return t.onPreOrderGearItem()})),X.Jc(25," PRE-ORDER "),X.Xb(),X.Xb(),X.Xb()),2&e&&(X.Ib("mat-elevation-z7",!0),X.qc("ngClass",t.routeAnimationsElements),X.Eb(5),X.Lc(" ",t.gearItem.name," "),X.Eb(3),X.Lc(" ",t.gearItem.inStock?"In stock":"Out of stock"," "),X.Eb(2),X.qc("ngxGalleryOptions",t.galleryOptions)("images",t.gearItem.images),X.Eb(7),X.qc("selectable",!1),X.Eb(1),X.qc("ngForOf",t.gearItem.sizes),X.Eb(2),X.Lc("$",t.gearItem.price,""),X.Eb(2),X.qc("ngIf",X.mc(23,11,t.authService.isLoggedIn$)))},directives:[je.a,i.k,J.a,je.e,je.i,je.h,je.f,Ye.a,je.d,u.c,i.l,je.b,i.m,q.b,u.a],pipes:[i.b],styles:["[_nghost-%COMP%]{margin:0 4px}.gear-item[_ngcontent-%COMP%]{margin:1.5rem 0;box-sizing:border-box;position:relative;top:0;width:300px;-webkit-transition:top .3s ease;transition:top .3s ease}@media(min-width:375px){.gear-item[_ngcontent-%COMP%]{width:360px}}.sizes[_ngcontent-%COMP%],   app-gallery-viewer>ngx-gallery{display:inline-block}.sizes[_ngcontent-%COMP%]{margin-bottom:8px}.price[_ngcontent-%COMP%]{margin-top:8px}.gear-item[_ngcontent-%COMP%]:hover{top:-10px}#delete[_ngcontent-%COMP%]{margin-right:0!important}"]}),Fe),Je=["gearUp"],Le=["paginator"];function Te(e,t){1&e&&X.Tb(0,"app-acting-spinner")}function Ne(e,t){if(1&e){var n=X.Zb();X.Yb(0,"div",18),X.Yb(1,"span"),X.Jc(2,"As an admin you can modify your inventory here"),X.Xb(),X.Yb(3,"button",19),X.gc("click",(function(e){return X.Ac(n),X.kc(2).onAddGearItems()})),X.Jc(4," Upload Gear "),X.Xb(),X.Xb()}}function De(e,t){if(1&e&&(X.Wb(0),X.Hc(1,Ne,5,0,"div",17),X.Vb()),2&e){var n=X.kc();X.Eb(1),X.qc("ngIf",n.isAdmin)}}function $e(e,t){if(1&e&&(X.Wb(0),X.Tb(1,"app-merchandise-item",21),X.Vb()),2&e){var n=t.$implicit,r=X.kc(2);X.Eb(1),X.qc("isAdmin",r.isAdmin)("gearItem",n)}}function He(e,t){if(1&e&&(X.Wb(0),X.Hc(1,$e,2,2,"ng-container",20),X.Vb()),2&e){var n=t.ngIf;X.Eb(1),X.qc("ngForOf",n)}}var Be,Re,Ue=function(e){return{marginTop:e}},Ve=[{path:"",component:(Be=function(){function e(t,n,r,a,i,o,c,s){var l=this;_classCallCheck(this,e),this.merchandiseService=t,this.router=n,this.eventbus=r,this.route=a,this.scroll=i,this.paginatorService=o,this.deviceInfo=c,this.authService=s,this.routeAnimationsElements=ke.a,this.gearItems=[],this.pagedGearItems=[],this.breakpoint=3,this.length=0,this.pageSize=6,this.pageSizeOptions=[6,12,18,24],this.isSticky=!1,this.isAdmin=!1,this.gearItems$=Object(I.a)([this.merchandiseService.gearItems$,this.merchandiseService.updatedGearItems$,this.merchandiseService.newLatestGearItems$,this.merchandiseService.deleteGearItemsLatest$,this.merchandiseService.pageChangeAction]).pipe(Object(C.a)((function(e){var t=_slicedToArray(e,1)[0],n=l.paginatorService.getPagedItems(_toConsumableArray(t),_toConsumableArray(l.gearItems),_toConsumableArray(l.pagedGearItems),l.pageSize,l.paginator);return l.length=t.length,l.gearItems=_toConsumableArray(t),l.pagedGearItems=n,l.pagedGearItems})))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.isAdmin=this.route.snapshot.data.roles.includes(A.g.Admin),this.eventbus.emit(new P.a(y.b.StickyHeader,this.isSticky)),this.scrollingSubscription=this.scroll.scrolled().pipe(Object(Oe.a)((function(e,t){var n=t.getElementRef().nativeElement.scrollTop;return e.push(n),e.slice(e.length-2)}),new Array)).subscribe((function(t){e.onWindowScroll(t)}))}},{key:"ngOnDestroy",value:function(){this.eventbus.emit(new P.a(y.b.StickyHeader,!this.isSticky)),this.eventbus.emit(new P.a(y.b.HideToolbar,!1)),this.scrollingSubscription.unsubscribe()}},{key:"onWindowScroll",value:function(e){var t=e[e.length-1]||0;t<(e[e.length-2]||0)?this.eventbus.emit(new P.a(y.b.HideToolbar,!1)):t>280?this.eventbus.emit(new P.a(y.b.HideToolbar,!0)):t<280&&this.eventbus.emit(new P.a(y.b.HideToolbar,!1))}},{key:"onArrowClick",value:function(){this.merchandiseCards.nativeElement.scrollIntoView({behavior:"smooth"})}},{key:"onAddGearItems",value:function(){this.router.navigate([{outlets:{modal:["new"]}}],{relativeTo:this.route})}},{key:"OnPageChange",value:function(e){this.pageEvent=new ye.c,this.pageSize=e.pageSize;var t=e.pageIndex*e.pageSize,n=t+e.pageSize;n>this.length&&(n=this.length),this.pagedGearItems=this.gearItems.slice(t,n),this.merchandiseService.onPageChange()}},{key:"onResize",value:function(e){this.breakpoint=e.target.innerWidth<=800?1:3}}]),e}(),Be.\u0275fac=function(e){return new(e||Be)(X.Sb(Y),X.Sb(j.c),X.Sb(y.a),X.Sb(j.a),X.Sb(Ce.b),X.Sb(Ie),X.Sb(_e.a),X.Sb(Se.a))},Be.\u0275cmp=X.Mb({type:Be,selectors:[["app-merchandise-list"]],viewQuery:function(e,t){var n;1&e&&(X.Pc(Je,!0),X.Fc(Le,!0)),2&e&&(X.wc(n=X.hc())&&(t.merchandiseCards=n.first),X.wc(n=X.hc())&&(t.paginator=n.first))},features:[X.Db([Ie])],decls:24,vars:17,consts:[[3,"ngStyle"],[1,"background"],[1,"gradient"],[1,"container"],["appIosVH","",1,"gradient-2",3,"ngClass"],[2,"height","350px"],["cdkScrollable","","id","arrow-wrapper"],[1,"arrow-border",3,"click"],[1,"arrow","down"],[1,"pulse"],[4,"ngIf"],[2,"padding","0 10px"],[1,"heading","mat-display-2"],["gearUp",""],[1,"merchandise-cards"],[3,"length","pageSize","pageSizeOptions","showFirstLastButtons","page","resize"],["paginator",""],["class","admin",4,"ngIf"],[1,"admin"],["mat-raised-button","","color","accent","type","button",3,"click"],[4,"ngFor","ngForOf"],[1,"list-item",3,"isAdmin","gearItem"]],template:function(e,t){1&e&&(X.Yb(0,"div",0),X.Yb(1,"div",1),X.Yb(2,"div",2),X.Tb(3,"div",3),X.Xb(),X.Yb(4,"div",4),X.Yb(5,"div",3),X.Tb(6,"div",5),X.Xb(),X.Xb(),X.Yb(7,"div",6),X.Yb(8,"div",7),X.gc("click",(function(e){return t.onArrowClick()})),X.Tb(9,"div",8),X.Tb(10,"div",9),X.Xb(),X.Xb(),X.Xb(),X.Hc(11,Te,1,0,"app-acting-spinner",10),X.lc(12,"async"),X.Yb(13,"div",11),X.Yb(14,"h2",12,13),X.Jc(16," The P League Collection "),X.Xb(),X.Hc(17,De,2,1,"ng-container",10),X.lc(18,"async"),X.Yb(19,"div",14),X.Hc(20,He,2,1,"ng-container",10),X.lc(21,"async"),X.Xb(),X.Yb(22,"mat-paginator",15,16),X.gc("page",(function(e){return t.OnPageChange(e)}))("resize",(function(e){return t.onResize(e)}),!1,X.zc),X.Xb(),X.Xb(),X.Xb()),2&e&&(X.qc("ngStyle",X.tc(15,Ue,t.isSticky?"50px":"0")),X.Eb(4),X.qc("ngClass",t.deviceInfo.mobile?"mobile-img":"parallax"),X.Eb(7),X.qc("ngIf",X.mc(12,9,t.acting$)),X.Eb(6),X.qc("ngIf",X.mc(18,11,t.authService.isLoggedIn$)),X.Eb(3),X.qc("ngIf",X.mc(21,13,t.gearItems$)),X.Eb(2),X.qc("length",t.length)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions)("showFirstLastButtons",!0))},directives:[i.n,J.c,xe,i.k,J.a,i.m,ye.a,Pe.a,q.b,i.l,qe],pipes:[i.b],styles:['mat-paginator[_ngcontent-%COMP%]{margin:1.5rem 0 1rem}.heading[_ngcontent-%COMP%]{text-align:center;letter-spacing:.05rem;line-height:1.4;font-weight:400;text-transform:uppercase;font-style:normal}.admin[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%;flex-wrap:wrap;-webkit-box-pack:space-evenly;justify-content:space-evenly}.admin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .admin[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{align-self:center}.admin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:16px}.merchandise-cards[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;flex-wrap:wrap;-webkit-box-pack:space-evenly;justify-content:space-evenly;-webkit-box-align:start;align-items:flex-start}.background[_ngcontent-%COMP%]{padding:0;position:relative}.background[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;bottom:0;right:0;opacity:.7;content:"";z-index:0}.background[_ngcontent-%COMP%]   .mobile-img[_ngcontent-%COMP%], .background[_ngcontent-%COMP%]   .parallax[_ngcontent-%COMP%]{background:url(https://res.cloudinary.com/dkbelxhih/image/upload/f_auto,q_10/v1581901755/pleague/merchanidse_welcome_grpre3.jpg);background:-webkit-image-set(url("https://res.cloudinary.com/dkbelxhih/image/upload/f_auto,q_10/v1581901755/pleague/merchanidse_welcome_grpre3.jpg") 1x,url("https://res.cloudinary.com/dkbelxhih/image/upload/f_auto,q_20/v1581901755/pleague/merchanidse_welcome_grpre3.jpg") 2x,url("https://res.cloudinary.com/dkbelxhih/image/upload/f_auto,q_30/v1581901755/pleague/merchanidse_welcome_grpre3.jpg") 3x,url("https://res.cloudinary.com/dkbelxhih/image/upload/f_auto,q_50/v1581901755/pleague/merchanidse_welcome_grpre3.jpg") 4x) no-repeat top;background-image:-webkit-image-set(url("https://res.cloudinary.com/dkbelxhih/image/upload/f_auto,q_10/v1581901755/pleague/merchanidse_welcome_grpre3.jpg") 1x,url("https://res.cloudinary.com/dkbelxhih/image/upload/f_auto,q_20/v1581901755/pleague/merchanidse_welcome_grpre3.jpg") 2x,url("https://res.cloudinary.com/dkbelxhih/image/upload/f_auto,q_30/v1581901755/pleague/merchanidse_welcome_grpre3.jpg") 3x,url("https://res.cloudinary.com/dkbelxhih/image/upload/f_auto,q_50/v1581901755/pleague/merchanidse_welcome_grpre3.jpg") 4x) no-repeat center top;background-image:image-set(url("https://res.cloudinary.com/dkbelxhih/image/upload/f_auto,q_10/v1581901755/pleague/merchanidse_welcome_grpre3.jpg") 1x,url("https://res.cloudinary.com/dkbelxhih/image/upload/f_auto,q_20/v1581901755/pleague/merchanidse_welcome_grpre3.jpg") 2x,url("https://res.cloudinary.com/dkbelxhih/image/upload/f_auto,q_30/v1581901755/pleague/merchanidse_welcome_grpre3.jpg") 3x,url("https://res.cloudinary.com/dkbelxhih/image/upload/f_auto,q_50/v1581901755/pleague/merchanidse_welcome_grpre3.jpg") 4x) no-repeat center top;height:100vh;height:calc(var(--vh, 1vh)*100);transform:translatez(0);-webkit-transform:translatez(0);background-position:50%;background-repeat:no-repeat;background-size:cover}.background[_ngcontent-%COMP%]   .mobile-img[_ngcontent-%COMP%]{background-attachment:scroll}.background[_ngcontent-%COMP%]   .gradient[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;bottom:51%;right:0;content:"";z-index:0}.background[_ngcontent-%COMP%]   .gradient-2[_ngcontent-%COMP%]:before{position:absolute;top:51%;left:0;bottom:0;right:0;content:"";z-index:0}.background[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto;max-width:100%}#arrow-wrapper[_ngcontent-%COMP%]{width:60px;height:60px;display:block;position:absolute;left:50%;margin:0 auto 0 -30px;cursor:pointer;bottom:15px}.arrow-border[_ngcontent-%COMP%]{position:relative}.arrow-border[_ngcontent-%COMP%], .pulse[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%}.pulse[_ngcontent-%COMP%]{position:absolute;margin:0;-webkit-animation:pulsate 2s ease-out;animation:pulsate 2s ease-out;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;opacity:0;box-shadow:0 0 1px 2px #89849b;-webkit-animation-delay:2s;animation-delay:2s}@-webkit-keyframes pulsate{0%{-webkit-transform:scale(.9);transform:scale(.9);opacity:0}50%{opacity:1}to{-webkit-transform:scale(1.3);transform:scale(1.3);opacity:0}}@keyframes pulsate{0%{-webkit-transform:scale(.9);transform:scale(.9);opacity:0}50%{opacity:1}to{-webkit-transform:scale(1.3);transform:scale(1.3);opacity:0}}.down[_ngcontent-%COMP%]{-webkit-transform:rotate(135deg);transform:rotate(135deg)}'],changeDetection:0}),Object(ve.a)([Object(we.a)(),Object(ve.b)("design:type",Object)],Be.prototype,"acting$",void 0),Be),data:{animation:"MerchandiseListPage"},resolve:{roles:c.a,merchandiseItems:Y}},{path:":id/edit",outlet:"modal",component:he},{path:":id/pre-order",outlet:"modal",component:he},{path:"new",outlet:"modal",component:he}],We=((Re=function e(){_classCallCheck(this,e)}).\u0275mod=X.Qb({type:Re}),Re.\u0275inj=X.Pb({factory:function(e){return new(e||Re)},imports:[[j.g.forChild(Ve)],j.g]}),Re);n.d(t,"MerchandiseModule",(function(){return Ke}));var Ze,Ke=((Ze=function e(){_classCallCheck(this,e)}).\u0275mod=X.Qb({type:Ze}),Ze.\u0275inj=X.Pb({factory:function(e){return new(e||Ze)},providers:[fe,c.a,{provide:M.d,useValue:{}},{provide:M.a,useValue:{}}],imports:[[i.c,We,s.a,o.t]]}),Ze)},e5XA:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("CxKc"),a=n("0eTy");function i(){return function(e,t){var n=a.a.get(r.a);e[t]=n.acting$}}},lnXG:function(e,t,n){"use strict";var r=n("UvZa"),a=n("7104"),i=n("+0iv");e.exports=function e(t,n){switch(a(t)){case"object":return function(t,n){if("function"==typeof n)return n(t);if(n||i(t)){var r=new t.constructor;for(var a in t)r[a]=e(t[a],n);return r}return t}(t,n);case"array":return function(t,n){for(var r=new t.constructor(t.length),a=0;a<t.length;a++)r[a]=e(t[a],n);return r}(t,n);default:return r(t)}}},qDJ8:function(e,t,n){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}}}]);
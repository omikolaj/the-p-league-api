(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+0iv":function(e,t,r){"use strict";var n=r("qDJ8");function i(e){return!0===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,r;return!1!==i(e)&&"function"==typeof(t=e.constructor)&&!1!==i(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")}},7104:function(e,t){var r=Object.prototype.toString;function n(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===n(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){return!(!e.constructor||"function"!=typeof e.constructor.isBuffer)&&e.constructor.isBuffer(e)}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(t){if(-1!==t.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(n(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=r.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},JIfX:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));class n{constructor(e,t){this.name=e,this.value=t}}},KXBU:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("fXoL"),i=r("0MNC");let a=(()=>{class e{constructor(e){this._mobile=!0,e.observe(["(min-width: 425px)"]).subscribe(e=>{this.mobile=!e.matches})}get mobile(){return this._mobile}set mobile(e){this._mobile=e}}return e.\u0275fac=function(t){return new(t||e)(n.cc(i.a))},e.\u0275prov=n.Ob({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},UvZa:function(e,t,r){"use strict";const n=Symbol.prototype.valueOf,i=r("7104");e.exports=function(e,t){switch(i(e)){case"array":return e.slice();case"object":return Object.assign({},e);case"date":return new e.constructor(Number(e));case"map":return new Map(e);case"set":return new Set(e);case"buffer":return function(e){const t=e.length,r=Buffer.allocUnsafe?Buffer.allocUnsafe(t):Buffer.from(t);return e.copy(r),r}(e);case"symbol":return function(e){return n?Object(n.call(e)):{}}(e);case"arraybuffer":return function(e){const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}(e);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function(e,t){return new e.constructor(e.buffer,e.byteOffset,e.length)}(e);case"regexp":return function(e){const t=void 0!==e.flags?e.flags:/\w+$/.exec(e)||void 0,r=new e.constructor(e.source,t);return r.lastIndex=e.lastIndex,r}(e);case"error":return Object.create(e);default:return e}}},YBOo:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r("yLV6");var n=r("JIfX"),i=r("pKDw"),a=r("fXoL"),o=r("XGsO");let c=(()=>{class e{constructor(e){this.eventbus=e,this.images=[],this.ngxGalleryOptions=[]}onPreviewOpen(){this.eventbus.emit(new n.a(i.b.HideScrollbar,!0))}onPreviewClose(){this.eventbus.emit(new n.a(i.b.HideScrollbar,!1))}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(i.a))},e.\u0275cmp=a.Mb({type:e,selectors:[["app-gallery-viewer"]],inputs:{images:"images",ngxGalleryOptions:"ngxGalleryOptions"},decls:1,vars:2,consts:[[3,"options","images","previewOpen","previewClose"]],template:function(e,t){1&e&&(a.Yb(0,"ngx-gallery",0),a.gc("previewOpen",(function(e){return t.onPreviewOpen()}))("previewClose",(function(e){return t.onPreviewClose()})),a.Xb()),2&e&&a.qc("options",t.ngxGalleryOptions)("images",t.images)},directives:[o.b],styles:["ngx-gallery[_ngcontent-%COMP%]     .ngx-gallery-bullet{background:hsla(0,0%,100%,.52)}"]}),e})()},bJsK:function(e,t,r){"use strict";r.r(t);var n=r("ofXK"),i=r("3Pt+"),a=r("Spb/"),o=r("PCNd"),c=r("R0Ic"),s=r("lnXG"),l=r("eIep"),m=r("vkgz"),b=function(e){return e[e.NONE=0]="NONE",e[e.XS=1]="XS",e[e.S=2]="S",e[e.M=3]="M",e[e.L=4]="L",e[e.XL=5]="XL",e[e.XXL=6]="XXL",e[e.ALL=10]="ALL",e}({});const u=[{size:b.XS,available:!1,color:"warn"},{size:b.S,available:!1,color:"warn"},{size:b.M,available:!1,color:"warn"},{size:b.L,available:!1,color:"warn"},{size:b.XL,available:!1,color:"warn"},{size:b.XXL,available:!1,color:"warn"}];var p=r("pKDw"),g=r("tk/3"),d=r("2Vo4"),h=r("XNiG"),f=r("itXk"),v=r("LRne"),y=r("UXun"),I=r("lJxs"),O=r("JIr8"),w=r("5+tZ"),S=r("ezqR"),x=r("JIfX"),k=r("fXoL"),C=r("tyNb");let X=(()=>{class e{constructor(e,t,r,n){this.http=e,this.snackBarService=t,this.eventBus=r,this.router=n,this.merchandiseUrl="merchandise",this.updateGearItemAction=new d.a(null),this.addGearItemAction=new d.a(null),this.deleteGearItemAction=new d.a(null),this.pageChangeAction=new d.a(null),this.loadingSubject=new h.a,this.loading$=this.loadingSubject.asObservable(),this.loadingDeleteSubject=new h.a,this.loadingDelete$=this.loadingDeleteSubject.asObservable(),this.gearItems$=new d.a([]).asObservable(),this.updatedGearItems$=Object(f.a)([this.updateGearItemAction,this.gearItems$]).pipe(Object(l.a)(([e])=>(this.loadingSubject.next(!0),this.updateGearItemAsync(e))),Object(y.a)()),this.newLatestGearItems$=Object(f.a)([this.addGearItemAction,this.gearItems$]).pipe(Object(l.a)(([e])=>(this.loadingSubject.next(!0),this.createGearItemAsync(e))),Object(y.a)()),this.deleteGearItemsLatest$=Object(f.a)([this.deleteGearItemAction,this.gearItems$]).pipe(Object(l.a)(([e])=>this.deleteGearItemAsync(e)),Object(y.a)())}resolve(e,t){const r={headers:new g.e({"Content-Type":"application/json",Accept:"application/json"})};return this.gearItems$=this.http.get(this.merchandiseUrl,r).pipe(Object(I.a)(e=>(this.gearItems=e).reverse()),Object(O.a)(()=>(this.router.navigate(["about"]),this.snackBarService.openSnackBarFromComponent("Error occured. Please come back later","Dismiss",S.a.Error),Object(v.a)([]))),Object(y.a)()),this.gearItems$}onPageChange(){return this.pageChangeAction.next({})}findGearItem(e){return this.gearItems$.pipe(Object(w.a)(t=>t.filter(t=>t.id===e)))}updateGearItem(e){this.updateGearItemAction.next(e)}updateGearItemAsync(e){return null===e?Object(v.a)([]):Object(f.a)([this.gearItems$,this.http.patch(`${this.merchandiseUrl}/${e.id}`,e.formData)]).pipe(Object(I.a)(([t,r])=>{const n=t.map(e=>e.id).indexOf(e.id);return n>-1&&t.splice(n,1,r),t}),Object(m.a)(t=>{this.loadingSubject.next(!1),this.snackBarService.openSnackBarFromComponent(`Successfully updated ${e.name}`,"Dismiss",S.a.Success)}),Object(m.a)(()=>this.eventBus.emit(new x.a(p.b.CloseOpen,!0))),Object(O.a)(()=>(this.loadingSubject.next(!1),this.snackBarService.openSnackBarFromComponent(`Error occured updating ${e.name}`,"Dismiss",S.a.Error),Object(v.a)([]))))}createGearItem(e){this.addGearItemAction.next(e)}createGearItemAsync(e){return null===e?Object(v.a)([]):Object(f.a)([this.gearItems$,this.http.post(`${this.merchandiseUrl}`,e.formData)]).pipe(Object(I.a)(([e,t])=>(e.unshift(t),e)),Object(m.a)(t=>{this.loadingSubject.next(!1),this.snackBarService.openSnackBarFromComponent(`Successfully created ${e.name}`,"Dismiss",S.a.Success)}),Object(m.a)(()=>this.eventBus.emit(new x.a(p.b.CloseOpen,!0))),Object(O.a)(()=>(this.loadingSubject.next(!1),this.snackBarService.openSnackBarFromComponent(`Error occured creating ${e.name}`,"Dismiss",S.a.Error),Object(v.a)([]))))}deleteGearItem(e){this.deleteGearItemAction.next(e)}deleteGearItemAsync(e){return null===e?Object(v.a)([]):(this.eventBus.emit(new x.a(p.b.Loading,!0)),Object(f.a)([this.gearItems$,this.http.delete(`${this.merchandiseUrl}/${e.id}`)]).pipe(Object(I.a)(([t])=>{const r=t.map(e=>e.id).indexOf(e.id);return r>-1&&t.splice(r,1),t}),Object(m.a)(t=>{this.eventBus.emit(new x.a(p.b.Loading,!1)),this.snackBarService.openSnackBarFromComponent(`Successfully deleted ${e.name}`,"Dismiss",S.a.Success)}),Object(O.a)(t=>(this.eventBus.emit(new x.a(p.b.Loading,!1)),this.snackBarService.openSnackBarFromComponent(`Error occured deleting ${e.name}`,"Dismiss",S.a.Error),Object(v.a)(null)))))}}return e.\u0275fac=function(t){return new(t||e)(k.cc(g.b),k.cc(S.b),k.cc(p.a),k.cc(C.d))},e.\u0275prov=k.Ob({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var P=r("9JtH");class Y{isErrorState(e,t){return e&&e.invalid&&e.touched}}var z=r("0IaG"),_=r("xHqg"),j=r("kmnG"),M=r("qFsG"),A=r("bTqV"),E=r("A5z7"),G=r("znSr"),F=r("1jcm"),J=r("bv9b"),q=r("NFeN");let $=(()=>{class e{transform(e){for(let t=0;t<e.length;t++){const r=e[t];r.name=r.name?r.name.slice(0,27):"placeholderImageName",e.splice(t,1,r)}return e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=k.Rb({name:"gearImageView",type:e,pure:!1}),e})();function N(e,t){1&e&&(k.Wb(0),k.Tb(1,"mat-progress-bar",26),k.Vb())}function L(e,t){1&e&&k.Jc(0,"Info")}function D(e,t){1&e&&k.Jc(0,"Details")}function T(e,t){if(1&e){const e=k.Zb();k.Wb(0),k.Yb(1,"mat-chip",27),k.gc("click",(function(r){k.Ac(e);const n=t.$implicit,i=k.kc();return n.controls.gearSize.value.available=!n.controls.gearSize.value.available,i.onSelectedChipSize()})),k.Jc(2),k.Xb(),k.Vb()}if(2&e){const e=t.$implicit,r=k.kc();k.Eb(1),k.qc("selected",e.controls.gearSize.value.available)("color",e.controls.gearSize.value.color),k.Eb(1),k.Lc("",r.sizeEnum[e.controls.gearSize.value.size]," ")}}function B(e,t){if(1&e){const e=k.Zb();k.Wb(0),k.Yb(1,"mat-chip",28),k.gc("removed",(function(r){k.Ac(e);const n=t.$implicit;return k.kc().onRemoveImage(n)})),k.Jc(2),k.Yb(3,"mat-icon",29),k.Jc(4,"cancel"),k.Xb(),k.Xb(),k.Vb()}if(2&e){const e=t.$implicit;k.Eb(1),k.qc("removable",!0),k.Eb(1),k.Lc("",e.name," ")}}const H=function(e){return{"margin-bottom":e}};let U=(()=>{class e{constructor(e,t,r,n,i){this.fb=e,this.route=t,this.merchandiseService=r,this.dialogRef=n,this.eventBus=i,this.editMode=!1,this.selectedFileFormData=new FormData,this.gearItemImages=[],this.noSizesSelectedStateMatcher=new Y,this.gearSizes=[],this.isInStock=!0,this.sizeEnum=b,this.isLoading$=this.merchandiseService.loading$,this.gearSizes=[...u]}ngOnInit(){this.subscription=this.eventBus.on(p.b.CloseOpen,e=>{e&&this.dialogRef.close()}),this.route.children[0].firstChild.children.filter(e=>e.outlet===P.f).map(e=>e.params.pipe(Object(l.a)(e=>(this.editMode=void 0!==e.id,this.merchandiseService.findGearItem(+e.id))),Object(m.a)(e=>{this.gearItem=s(e)})).subscribe()),this.initForm()}ngOnDestroy(){this.subscription.unsubscribe()}onSubmit(){const e=this.gearItemObjectForDelivery();this.editMode?this.merchandiseService.updateGearItem(e):this.merchandiseService.createGearItem(e)}gearItemObjectForDelivery(){const e=this.editMode?this.gearItemImages.filter(e=>void 0!==e.id):[],t={name:this.gearItemForm.value.name,price:this.gearItemForm.value.price,sizes:this.gearItemForm.value.sizes.gearSizesGroup.value.gearSizesArray.map(e=>e.gearSize),inStock:this.gearItemForm.value.inStock,images:e};return this.editMode&&(t.id=this.gearItem.id),t.formData=this.selectedFileFormData,t.formData.append("gearItem",JSON.stringify(t)),t}onSlideChange(){this.isInStock=!this.isInStock}onSelectedChipSize(){this.gearItemForm.controls.sizes.updateValueAndValidity()}onCancel(){this.dialogRef.close()}onFileSelected(e){const t=e.target.files.length<3?e.target.files.length:3,r=e.target.files;if(3===this.gearItemImages.length){this.gearItemImages=[...this.gearItemImages];for(let e=0;e<t;e++){this.gearItemImages.splice(e,1,{name:r[e].name,size:r[e].size,type:r[e].type,previewId:e});const t=r[e];t.previewId=e,this.selectedFileFormData.append(P.c.GearImages,t)}}else if(this.gearItemImages.length>0&&this.gearItemImages.length<3){this.gearItemImages=[...this.gearItemImages];for(let e=0;e<t;e++)if(this.gearItemImages.length<3){this.gearItemImages=[{name:r[e].name,size:r[e].size,type:r[e].type,previewId:e},...this.gearItemImages];const t=r[e];t.previewId=e,this.selectedFileFormData.append(P.c.GearImages,t)}}else for(let n=0;n<t;n++){this.gearItemImages=[...this.gearItemImages,{name:r[n].name,size:r[n].size,type:r[n].type,previewId:n}];const e=r[n];e.previewId=n,this.selectedFileFormData.append(P.c.GearImages,e)}}onRemoveImage(e){const t=this.gearItemImages.map(e=>e.name).indexOf(e.name);if(t>-1){this.gearItemImages.splice(t,1);const r=this.selectedFileFormData.getAll(P.c.GearImages).filter(t=>t.previewId!==e.previewId);this.selectedFileFormData=new FormData,r.forEach(e=>{this.selectedFileFormData.append(P.c.GearImages,e)})}}hideIfEmpty(){if(void 0===this.gearItemImages&&(this.gearItemImages=[]),0===this.gearItemImages.length)return"0px"}initForm(){let e="",t=null,r=this.gearSizes,n=[],a=this.isInStock;this.editMode&&(e=this.gearItem.name,t=this.gearItem.price,a=this.gearItem.inStock,n=this.gearItem.images,r=this.gearItem.sizes,this.gearItemImages=this.gearItem.images);const o=[];for(let i=0;i<this.gearSizes.length;i++)o.push(this.fb.group({gearSize:this.fb.control(r[i])}));this.gearItemForm=this.fb.group({name:this.fb.control(e,i.v.required),price:this.fb.control(t,i.v.required),sizes:this.fb.control({gearSizesGroup:this.fb.group({gearSizesArray:this.fb.array(o)})},this.requireSize()),inStock:this.fb.control(a),images:this.fb.control(n)})}requireSize(){return e=>{const t=e.value.gearSizesGroup.value.gearSizesArray.filter(e=>!0===e.gearSize.available);return t.length>0?(e.markAsTouched(),null):{invalidSize:{value:t}}}}}return e.\u0275fac=function(t){return new(t||e)(k.Sb(i.d),k.Sb(C.a),k.Sb(X),k.Sb(z.d),k.Sb(p.a))},e.\u0275cmp=k.Mb({type:e,selectors:[["app-merchandise-dialog"]],decls:57,vars:23,consts:[["mat-dialog-title","",1,"gear-item-title"],[4,"ngIf"],[3,"formGroup","ngSubmit"],["matStepLabel",""],["matInput","","placeholder","Name of the item","formControlName","name","cdkFocusInitial",""],["matInput","","type","number","placeholder","Price","formControlName","price",1,"right-align"],["matPrefix",""],["matSuffix",""],[1,"action-buttons"],["mat-raised-button","","color","warn","type","button",2,"margin-right","5px",3,"click"],["mat-raised-button","","color","accent","matStepperNext","","type","button"],["floatLabel","always"],[1,"placeholder"],["formControlName","sizes",3,"errorStateMatcher","multiple","selectable"],["chipList",""],[3,"formGroup"],["formArrayName","gearSizesArray",1,"mat-chip-list-container"],[4,"ngFor","ngForOf"],["id","imagesToUploadContainer"],["formControlName","images",1,"mat-chip-list-stacked","upload-image-chips",3,"ngStyle"],["formControlName","inStock","color","accent",2,"display","block",3,"labelPosition","change"],["mat-raised-button","","color","warn","matStepperPrevious","","type","button",2,"align-self","flex-end","margin-right","5px"],["mat-raised-button","","color","accent","type","button",1,"action-buttons",3,"click"],["type","file","multiple","multiple",2,"display","none",3,"change"],["fileUpload",""],["mat-raised-button","","color","accent",1,"post-button",2,"align-self","flex-end",3,"disabled"],["color","accent","mode","indeterminate"],[3,"selected","color","click"],[3,"removable","removed"],["matChipRemove",""]],template:function(e,t){if(1&e){const e=k.Zb();k.Yb(0,"h1",0),k.Jc(1),k.Xb(),k.Hc(2,N,2,0,"ng-container",1),k.lc(3,"async"),k.Yb(4,"form",2),k.gc("ngSubmit",(function(e){return t.onSubmit()})),k.Yb(5,"mat-horizontal-stepper"),k.Yb(6,"mat-step"),k.Hc(7,L,1,0,"ng-template",3),k.Yb(8,"mat-form-field"),k.Tb(9,"input",4),k.Yb(10,"mat-error"),k.Jc(11,"You must enter a "),k.Yb(12,"strong"),k.Jc(13,"name"),k.Xb(),k.Xb(),k.Xb(),k.Yb(14,"mat-form-field"),k.Tb(15,"input",5),k.Yb(16,"span",6),k.Jc(17,"$\xa0"),k.Xb(),k.Yb(18,"span",7),k.Jc(19,".00"),k.Xb(),k.Yb(20,"mat-error"),k.Jc(21,"You must enter a "),k.Yb(22,"strong"),k.Jc(23,"price"),k.Xb(),k.Xb(),k.Xb(),k.Yb(24,"div",8),k.Yb(25,"button",9),k.gc("click",(function(e){return t.onCancel()})),k.Jc(26," Cancel "),k.Xb(),k.Yb(27,"button",10),k.Jc(28," Next "),k.Xb(),k.Xb(),k.Xb(),k.Yb(29,"mat-step"),k.Hc(30,D,1,0,"ng-template",3),k.Yb(31,"mat-form-field",11),k.Yb(32,"mat-placeholder",12),k.Jc(33,"Gear sizes..."),k.Xb(),k.Yb(34,"mat-chip-list",13,14),k.Wb(36,15),k.Wb(37,16),k.Hc(38,T,3,3,"ng-container",17),k.Vb(),k.Vb(),k.Xb(),k.Yb(39,"mat-error"),k.Jc(40,"Please select a size"),k.Xb(),k.Xb(),k.Yb(41,"div",18),k.Yb(42,"mat-chip-list",19),k.Hc(43,B,5,2,"ng-container",17),k.lc(44,"gearImageView"),k.Xb(),k.Xb(),k.Yb(45,"mat-slide-toggle",20),k.gc("change",(function(e){return t.onSlideChange()})),k.Jc(46),k.Xb(),k.Yb(47,"div",8),k.Yb(48,"button",21),k.Jc(49," Back "),k.Xb(),k.Yb(50,"button",22),k.gc("click",(function(t){return k.Ac(e),k.xc(53).click()})),k.Jc(51," Images "),k.Xb(),k.Yb(52,"input",23,24),k.gc("change",(function(e){return t.onFileSelected(e)})),k.Xb(),k.Yb(54,"button",25),k.lc(55,"async"),k.Jc(56),k.Xb(),k.Xb(),k.Xb(),k.Xb(),k.Xb()}2&e&&(k.Eb(1),k.Lc(" ",t.editMode?"Edit Item":"New Gear","\n"),k.Eb(1),k.qc("ngIf",k.mc(3,15,t.isLoading$)),k.Eb(2),k.qc("formGroup",t.gearItemForm),k.Eb(30),k.qc("errorStateMatcher",t.noSizesSelectedStateMatcher)("multiple",!0)("selectable",!0),k.Eb(2),k.qc("formGroup",t.gearItemForm.controls.sizes.value.gearSizesGroup),k.Eb(2),k.qc("ngForOf",t.gearItemForm.controls.sizes.value.gearSizesGroup.controls.gearSizesArray.controls),k.Eb(3),k.qc("@imageUpload",t.gearItemImages.length),k.Eb(1),k.qc("ngStyle",k.tc(21,H,t.hideIfEmpty())),k.Eb(1),k.qc("ngForOf",k.mc(44,17,t.gearItemImages)),k.Eb(2),k.qc("labelPosition","after"),k.Eb(1),k.Kc(t.isInStock?"In stock":"Out of stock"),k.Eb(8),k.qc("disabled",!t.gearItemForm.valid||k.mc(55,19,t.isLoading$)),k.Eb(2),k.Lc(" ",t.editMode?"Update":"Post"," "))},directives:[z.e,n.m,i.w,i.p,i.g,_.a,_.b,_.c,j.b,M.b,i.b,i.o,i.f,j.a,i.s,j.h,j.i,A.b,_.e,j.g,E.c,i.c,n.l,n.n,G.c,F.a,_.f,J.a,E.a,q.a,E.d],pipes:[n.b,$],styles:[".gear-item-title[_ngcontent-%COMP%]{padding-left:24px}.action-buttons[_ngcontent-%COMP%]{margin-top:15px;display:-webkit-box;display:flex}.action-buttons[_ngcontent-%COMP%]   .post-button[_ngcontent-%COMP%]{margin-left:auto}.mat-form-field[_ngcontent-%COMP%]{width:100%}#imagesToUploadContainer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:start;align-items:flex-start;flex-wrap:wrap;flex-flow:column;-webkit-box-pack:space-evenly;justify-content:space-evenly;margin-top:10px}.right-align[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]     .mat-horizontal-content-container{padding-left:0;padding-right:0;padding-bottom:24px}[_nghost-%COMP%]     .mat-form-field.mat-focused .mat-form-field-label{color:hsla(0,0%,100%,.7)}[_nghost-%COMP%]     .mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:auto}.upload-image-chips[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]     #imagesToUploadContainer mat-form-field div:nth-child(2){display:none}mat-slide-toggle[_ngcontent-%COMP%]{padding-left:10px;display:inline-block!important}[_nghost-%COMP%]     .mat-horizontal-content-container{padding-bottom:0!important}"],data:{animation:[Object(c.o)("imageUpload",[Object(c.n)("* => *",[Object(c.i)(":enter",[Object(c.m)({opacity:0,transform:"translateY(-100%)"}),Object(c.k)(290,[Object(c.e)(".3s ease-in-out",Object(c.m)({opacity:1,transform:"translateY(-3%)"}))])],{optional:!0}),Object(c.i)(":leave",[Object(c.m)({opacity:1,transform:"translateX(0)"}),Object(c.e)(".3s cubic-bezier(.34,-0.39,.7,1.5)",Object(c.m)({opacity:0,transform:"translateX(-30%)"}))],{optional:!0})])])]}}),e})(),V=(()=>{class e extends X{constructor(e,t,r,n){super(e,t,r,n),this.preOrderAction=new h.a,this.preOrder$=this.preOrderAction.asObservable().pipe(Object(l.a)(e=>this.preOrderGearItemAsync(e))),this.headers={headers:new g.e({"Content-Type":"application/json"})}}preOrderGearItem(e){this.preOrderAction.next(e)}preOrderGearItemAsync(e){return this.loadingSubject.next(!0),this.http.post(`${this.merchandiseUrl}/${e.gearItemId}/pre-order`,JSON.stringify(e),this.headers).pipe(Object(m.a)(()=>this.loadingSubject.next(!1)),Object(O.a)(e=>(this.loadingSubject.next(!1),this.snackBarService.openSnackBarFromComponent("Error occured submitting the pre-order","Dismiss",S.a.Error),Object(v.a)(null))))}}return e.\u0275fac=function(t){return new(t||e)(k.cc(g.b),k.cc(S.b),k.cc(p.a),k.cc(C.d))},e.\u0275prov=k.Ob({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var R=r("d3UM"),W=r("FKr1"),Z=r("QibW");let K=(()=>{class e{transform(e){return e.filter(e=>e.available)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=k.Rb({name:"filteredGearSizes",type:e,pure:!0}),e})();function Q(e,t){1&e&&(k.Wb(0),k.Tb(1,"mat-progress-bar",27),k.Vb())}function ee(e,t){if(1&e&&(k.Yb(0,"mat-option",28),k.Jc(1),k.Xb()),2&e){const e=t.$implicit,r=k.kc(2);k.qc("value",e.size),k.Eb(1),k.Lc(" ",r.sizeEnum[e.size]," ")}}function te(e,t){if(1&e){const e=k.Zb();k.Wb(0),k.Hc(1,Q,2,0,"ng-container",3),k.lc(2,"async"),k.Yb(3,"form",4),k.gc("ngSubmit",(function(t){return k.Ac(e),k.kc().onSubmit()})),k.Yb(4,"mat-horizontal-stepper"),k.Yb(5,"mat-step"),k.Yb(6,"mat-form-field"),k.Tb(7,"input",5),k.Yb(8,"mat-error"),k.Jc(9,"You must provide"),k.Yb(10,"strong"),k.Jc(11,"First Name"),k.Xb(),k.Xb(),k.Xb(),k.Yb(12,"mat-form-field"),k.Tb(13,"input",6),k.Yb(14,"mat-error"),k.Jc(15,"You must provide "),k.Yb(16,"strong"),k.Jc(17,"Last Name"),k.Xb(),k.Xb(),k.Xb(),k.Yb(18,"div",7),k.Yb(19,"button",8),k.gc("click",(function(t){return k.Ac(e),k.kc().onCancel()})),k.Jc(20," Cancel "),k.Xb(),k.Yb(21,"button",9),k.Jc(22," Next "),k.Xb(),k.Xb(),k.Xb(),k.Yb(23,"mat-step"),k.Yb(24,"mat-form-field"),k.Tb(25,"input",10),k.Yb(26,"mat-error"),k.Jc(27,"You must provide a "),k.Yb(28,"strong"),k.Jc(29,"Phone Number"),k.Xb(),k.Xb(),k.Xb(),k.Yb(30,"mat-form-field"),k.Tb(31,"input",11),k.Yb(32,"mat-error"),k.Jc(33,"You must provide an "),k.Yb(34,"strong"),k.Jc(35,"E-mail"),k.Xb(),k.Jc(36," address"),k.Xb(),k.Xb(),k.Yb(37,"div",7),k.Yb(38,"button",12),k.Jc(39,"Back"),k.Xb(),k.Yb(40,"button",9),k.Jc(41," Next "),k.Xb(),k.Xb(),k.Xb(),k.Yb(42,"mat-step"),k.Yb(43,"div",13),k.Yb(44,"mat-form-field",14),k.Yb(45,"mat-placeholder",15),k.Jc(46,"Select Your Size"),k.Xb(),k.Yb(47,"mat-select",16),k.Yb(48,"mat-option"),k.Jc(49,"--"),k.Xb(),k.Hc(50,ee,2,2,"mat-option",17),k.lc(51,"filteredGearSizes"),k.Xb(),k.Yb(52,"mat-error"),k.Jc(53,"You must select a "),k.Yb(54,"strong"),k.Jc(55,"size"),k.Xb(),k.Xb(),k.Xb(),k.Yb(56,"mat-form-field"),k.Tb(57,"input",18),k.Yb(58,"mat-error"),k.Jc(59,"You must specify "),k.Yb(60,"strong"),k.Jc(61,"quantity"),k.Xb(),k.Xb(),k.Xb(),k.Xb(),k.Yb(62,"div",19),k.Yb(63,"mat-placeholder",15),k.Jc(64,"Preferred Contact:"),k.Xb(),k.Xb(),k.Yb(65,"div",20),k.Yb(66,"mat-radio-group",21),k.Yb(67,"mat-radio-button",22),k.Jc(68,"Text/Call"),k.Xb(),k.Yb(69,"mat-radio-button",23),k.Jc(70,"Email"),k.Xb(),k.Xb(),k.Xb(),k.Yb(71,"div",7),k.Yb(72,"button",24),k.Jc(73," Back "),k.Xb(),k.Yb(74,"button",25),k.gc("click",(function(t){return k.Ac(e),k.kc().onCancel()})),k.Jc(75," Cancel "),k.Xb(),k.Yb(76,"button",26),k.lc(77,"async"),k.Jc(78," Order! "),k.Xb(),k.Xb(),k.Xb(),k.Xb(),k.Xb(),k.Vb()}if(2&e){const e=k.kc();k.Eb(1),k.qc("ngIf",k.mc(2,5,e.isLoading$)),k.Eb(2),k.qc("formGroup",e.preOrderForm),k.Eb(47),k.qc("ngForOf",k.mc(51,7,e.gearItem.sizes)),k.Eb(17),k.qc("checked",!0),k.Eb(9),k.qc("disabled",!e.preOrderForm.valid||k.mc(77,9,e.isLoading$))}}function re(e,t){1&e&&k.Jc(0,"Order Summary")}function ne(e,t){if(1&e){const e=k.Zb();k.Yb(0,"mat-horizontal-stepper"),k.Yb(1,"mat-step"),k.Hc(2,re,1,0,"ng-template",29),k.Yb(3,"div"),k.Jc(4),k.Xb(),k.Yb(5,"div",7),k.Yb(6,"button",30),k.gc("click",(function(t){return k.Ac(e),k.kc().onCancel()})),k.Jc(7," Complete "),k.Xb(),k.Xb(),k.Xb(),k.Xb()}if(2&e){const e=k.kc();k.Eb(4),k.Nc(" Thank you for your pre-order. You have pre-ordered ",e.preOrderForm.get("orderDetails").value.quantity," ",e.gearItem.name," for $",e.gearItem.price," each. Your total is $",e.computeTotalPrice(),". We will be sending you a confirmation e-mail shortly. ")}}let ie=(()=>{class e{constructor(e,t,r,n,a){this.fb=e,this.dialogRef=t,this.route=r,this.merchandiseService=n,this.preOrderService=a,this.preOrderForm=this.fb.group({firstName:this.fb.control(null,i.v.required),lastName:this.fb.control(null,i.v.required),phoneNumber:this.fb.control(null,[i.v.required,i.v.pattern("[0-9]{0,10}")]),email:this.fb.control(null,[i.v.required,i.v.email]),orderDetails:this.fb.group({quantity:this.fb.control(1,i.v.required),size:this.fb.control(null,i.v.required)}),contactPreference:this.fb.group({cellOrEmail:this.fb.control(1)})}),this.sizeEnum=b,this.preOrderdItem$=this.preOrderService.preOrder$,this.isLoading$=this.preOrderService.loading$}ngOnInit(){this.route.children[0].firstChild.children.filter(e=>e.outlet===P.f).map(e=>e.params.pipe(Object(l.a)(e=>this.merchandiseService.findGearItem(+e.id)),Object(m.a)(e=>{this.gearItem=s(e)})).subscribe())}onSubmit(){this.preOrderService.preOrderGearItem({quantity:this.preOrderForm.value.orderDetails.quantity,size:this.preOrderForm.value.orderDetails.size,gearItemId:this.gearItem.id,contact:{firstName:this.preOrderForm.value.firstName,lastName:this.preOrderForm.value.lastName,email:this.preOrderForm.value.email,phoneNumber:this.preOrderForm.value.phoneNumber,preferredContact:+this.preOrderForm.value.contactPreference.cellOrEmail}})}computeTotalPrice(){return this.gearItem.price*this.preOrderForm.value.orderDetails.quantity}onCancel(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(k.Sb(i.d),k.Sb(z.d),k.Sb(C.a),k.Sb(X),k.Sb(V))},e.\u0275cmp=k.Mb({type:e,selectors:[["app-merchandise-pre-order-dialog"]],features:[k.Db([V])],decls:6,vars:5,consts:[["mat-dialog-title","",1,"gear-item-title"],[4,"ngIf","ngIfElse"],["finalizeOrder",""],[4,"ngIf"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","First Name","formControlName","firstName","cdkFocusInitial",""],["matInput","","placeholder","Last Name","formControlName","lastName"],[1,"action-buttons"],["mat-raised-button","","color","warn","type","button",2,"margin-right","5px",3,"click"],["mat-raised-button","","color","accent","matStepperNext","","type","button"],["matInput","","type","number","maxlength","10","minlength","10","placeholder","Phone Number","formControlName","phoneNumber"],["matInput","","type","email","placeholder","E-mail","formControlName","email"],["mat-raised-button","","matStepperPrevious","","color","warn",2,"margin-right","5px"],["formGroupName","orderDetails"],["floatLabel","always"],[1,"placeholder"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number","placeholder","Quantity","formControlName","quantity"],["id","preferred-contact-lable"],["formGroupName","contactPreference",1,"contact-preference"],["formControlName","cellOrEmail","aria-label","Select an option"],["value","1",3,"checked"],["value","2"],["mat-raised-button","","color","accent","matStepperPrevious","","type","button",2,"align-self","flex-end","margin-right","5px"],["mat-raised-button","","color","warn","type","button",1,"action-buttons",3,"click"],["mat-raised-button","","color","accent",1,"post-button",2,"align-self","flex-end",3,"disabled"],["color","accent","mode","indeterminate"],[3,"value"],["matStepLabel",""],["mat-raised-button","","color","accent",1,"post-button",2,"align-self","flex-end",3,"click"]],template:function(e,t){if(1&e&&(k.Yb(0,"h1",0),k.Jc(1),k.Xb(),k.Hc(2,te,79,11,"ng-container",1),k.lc(3,"async"),k.Hc(4,ne,8,4,"ng-template",null,2,k.Ic)),2&e){const e=k.xc(5);k.Eb(1),k.Lc(" Pre-Order for ",t.gearItem.name,"\n"),k.Eb(1),k.qc("ngIf",!k.mc(3,3,t.preOrderdItem$))("ngIfElse",e)}},directives:[z.e,n.m,i.w,i.p,i.g,_.a,_.b,j.b,M.b,i.b,i.o,i.f,j.a,A.b,_.e,i.s,i.j,i.k,_.f,i.h,j.g,R.a,W.n,n.l,Z.b,Z.a,J.a,_.c],pipes:[n.b,K],styles:[".gear-item-title[_ngcontent-%COMP%]{padding-left:24px}.action-buttons[_ngcontent-%COMP%]{margin-top:15px;display:-webkit-box;display:flex}.action-buttons[_ngcontent-%COMP%]   .post-button[_ngcontent-%COMP%]{margin-left:auto}.mat-form-field[_ngcontent-%COMP%]{width:100%}#imagesToUploadContainer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:start;align-items:flex-start;flex-wrap:wrap;flex-flow:column;-webkit-box-pack:space-evenly;justify-content:space-evenly;margin-top:10px}.right-align[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]     .mat-horizontal-content-container{padding-left:0;padding-right:0;padding-bottom:24px}[_nghost-%COMP%]     .mat-form-field.mat-focused .mat-form-field-label{color:hsla(0,0%,100%,.7)}[_nghost-%COMP%]     .mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:auto}.upload-image-chips[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]     #imagesToUploadContainer mat-form-field div:nth-child(2){display:none}mat-slide-toggle[_ngcontent-%COMP%]{padding-left:10px;display:inline-block!important}[_nghost-%COMP%]     .mat-horizontal-content-container{padding-bottom:0!important}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}.contact-preference[_ngcontent-%COMP%]{margin-left:10px}#preferred-contact-lable[_ngcontent-%COMP%]{margin-bottom:7px}"],changeDetection:0}),e})(),ae=(()=>{class e{constructor(e,t){this.router=e,this.route=t,this.component=U}openMerchandiseDialog(e){this.component=this.router.url.includes("pre-order")?ie:U,e.open(this.component,{width:"90%",maxWidth:"450px"}).afterClosed().subscribe(()=>{this.router.navigate(["merchandise"],{relativeTo:this.route})})}}return e.\u0275fac=function(t){return new(t||e)(k.cc(C.d),k.cc(C.a))},e.\u0275prov=k.Ob({token:e,factory:e.\u0275fac}),e})(),oe=(()=>{class e{constructor(e,t){this.merchandiseDialogService=e,this.dialog=t}ngOnInit(){setTimeout(()=>{this.merchandiseDialogService.openMerchandiseDialog(this.dialog)})}}return e.\u0275fac=function(t){return new(t||e)(k.Sb(ae),k.Sb(z.b))},e.\u0275cmp=k.Mb({type:e,selectors:[["app-merchandise-dialog-container"]],decls:0,vars:0,template:function(e,t){},styles:["mat-horizontal-stepper.mat-horizontal-content-container[_ngcontent-%COMP%]{padding:0 0 24px!important}"]}),e})();var ce=r("Kqap"),se=r("0aut"),le=r("RL7/"),me=r("KXBU");let be=(()=>{class e{constructor(){}getRemovedStoreItem(e,t){let r=null;for(let n=0;n<t.length;n++){const i=t[n];-1===e.indexOf(i)&&(r=i)}return r}getPagedItems(e,t,r,n,i){if(0===i.length)return e.slice(0,n);if(e.length===i.length){const t=[];return e.filter(e=>{r.map(r=>{r.id===e.id&&t.push(e)})}),t}if(e.length>i.length)return i.firstPage(),e.slice(0,n);if(r.length>0&&t.length>n){if(e.length<t.length){const a=this.getRemovedStoreItem(e,t);if(r.length>1){const o=r.indexOf(a),c=[...r];if(c.splice(o,1),!i.hasNextPage())return c;if(i.hasNextPage()){if(e.length===r.length)return e;const i=t.indexOf(a);return c.splice(r.length-1,0,e[i-1+(n-o)]),c}}else{if(e.length<=n)return i.firstPage(),e.slice(0,e.length);if(!i.hasNextPage()&&i.hasPreviousPage())return i.previousPage(),e.slice(e.length-n)}}}else if(!i.hasNextPage()&&!i.hasPreviousPage())return e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=k.Ob({token:e,factory:e.\u0275fac}),e})();var ue=r("M9IT"),pe=r("vxfF");let ge=(()=>{class e{constructor(){this.setVHFunc=()=>{const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}}onResize(){this.setVHFunc()}ngOnInit(){this.setVHFunc()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=k.Nb({type:e,selectors:[["","appIosVH",""]],hostBindings:function(e,t){1&e&&k.gc("resize",(function(e){return t.onResize(e)}),!1,k.zc)}}),e})();var de=r("XGsO"),he=r("Wp6s"),fe=r("YBOo");function ve(e,t){if(1&e&&(k.Yb(0,"mat-chip",11),k.Jc(1),k.Xb()),2&e){const e=k.kc().$implicit,t=k.kc();k.Eb(1),k.Lc(" ",t.sizes[e.size]," ")}}function ye(e,t){if(1&e&&(k.Wb(0),k.Hc(1,ve,2,1,"mat-chip",10),k.Vb()),2&e){const e=t.$implicit;k.Eb(1),k.qc("ngIf",e.available)}}function Ie(e,t){if(1&e){const e=k.Zb();k.Wb(0),k.Yb(1,"button",12),k.gc("click",(function(t){return k.Ac(e),k.kc(2).onEditGearItem()})),k.Jc(2," EDIT "),k.Xb(),k.Yb(3,"button",13),k.gc("click",(function(t){return k.Ac(e),k.kc(2).onDeleteGearItem()})),k.Jc(4," DELETE "),k.Xb(),k.Vb()}}function Oe(e,t){if(1&e&&(k.Wb(0),k.Hc(1,Ie,5,0,"ng-container",8),k.Vb()),2&e){const e=k.kc();k.Eb(1),k.qc("ngIf",e.isAdmin)}}const we=[{width:"360px",height:"400px",imageAnimation:de.a.Zoom,thumbnails:!1,previewSwipe:!0,imageSwipe:!0,imageArrowsAutoHide:!0,previewAutoPlayInterval:4e3,imageAutoPlayInterval:4e3,previewCloseOnClick:!0,previewCloseOnEsc:!0,previewKeyboardNavigation:!0,previewInfinityMove:!0,imageInfinityMove:!0,previewZoom:!0,imageAutoPlay:!0,imageAutoPlayPauseOnHover:!0,previewAutoPlay:!0,previewAutoPlayPauseOnHover:!0,imageBullets:!0,lazyLoading:!0},{breakpoint:800,width:"100%",height:"360px",imagePercent:80,thumbnailsPercent:20,thumbnailsMargin:20,thumbnailMargin:20},{breakpoint:400,preview:!1,height:"260px"}];let Se=(()=>{class e{constructor(e,t,r,n){this.router=e,this.route=t,this.merchandiseService=r,this.authService=n,this.sizes=b,this.galleryOptions=we,this.routeAnimationsElements=se.a}ngOnInit(){console.log("gearItem",this.gearItem)}onEditGearItem(){this.router.navigate([{outlets:{modal:[this.gearItem.id,"edit"]}}],{relativeTo:this.route})}onPreOrderGearItem(){this.router.navigate([{outlets:{modal:[this.gearItem.id,"pre-order"]}}],{relativeTo:this.route})}onDeleteGearItem(){this.merchandiseService.deleteGearItem(this.gearItem)}}return e.\u0275fac=function(t){return new(t||e)(k.Sb(C.d),k.Sb(C.a),k.Sb(X),k.Sb(le.a))},e.\u0275cmp=k.Mb({type:e,selectors:[["app-merchandise-item"]],inputs:{gearItem:"gearItem",isAdmin:"isAdmin"},decls:26,vars:13,consts:[[1,"gear-item",3,"ngClass"],["mat-card-image",""],[3,"ngxGalleryOptions","images"],[1,"gear-sizes"],[1,"sizes"],[3,"selectable"],[4,"ngFor","ngForOf"],[1,"price"],[4,"ngIf"],["id","pre-order","mat-raised-button","","color","accent",3,"click"],["id","chip",4,"ngIf"],["id","chip"],["id","edit","mat-raised-button","","color","accent",3,"click"],["id","delete","mat-raised-button","","color","warn",3,"click"]],template:function(e,t){1&e&&(k.Yb(0,"mat-card",0),k.Yb(1,"mat-card-header"),k.Yb(2,"mat-card-title"),k.Yb(3,"div"),k.Yb(4,"h3"),k.Jc(5),k.Xb(),k.Xb(),k.Xb(),k.Yb(6,"mat-card-subtitle"),k.Yb(7,"div"),k.Jc(8),k.Xb(),k.Xb(),k.Xb(),k.Yb(9,"div",1),k.Tb(10,"app-gallery-viewer",2),k.Xb(),k.Yb(11,"mat-card-content"),k.Yb(12,"div"),k.Yb(13,"div",3),k.Yb(14,"span",4),k.Jc(15,"Available Sizes:"),k.Xb(),k.Tb(16,"br"),k.Yb(17,"mat-chip-list",5),k.Hc(18,ye,2,1,"ng-container",6),k.Xb(),k.Xb(),k.Yb(19,"h2",7),k.Jc(20),k.Xb(),k.Xb(),k.Xb(),k.Yb(21,"mat-card-actions"),k.Hc(22,Oe,2,1,"ng-container",8),k.lc(23,"async"),k.Yb(24,"button",9),k.gc("click",(function(e){return t.onPreOrderGearItem()})),k.Jc(25," PRE-ORDER "),k.Xb(),k.Xb(),k.Xb()),2&e&&(k.Ib("mat-elevation-z7",!0),k.qc("ngClass",t.routeAnimationsElements),k.Eb(5),k.Lc(" ",t.gearItem.name," "),k.Eb(3),k.Lc(" ",t.gearItem.inStock?"In stock":"Out of stock"," "),k.Eb(2),k.qc("ngxGalleryOptions",t.galleryOptions)("images",t.gearItem.images),k.Eb(7),k.qc("selectable",!1),k.Eb(1),k.qc("ngForOf",t.gearItem.sizes),k.Eb(2),k.Lc("$",t.gearItem.price,""),k.Eb(2),k.qc("ngIf",k.mc(23,11,t.authService.isLoggedIn$)))},directives:[he.a,n.k,G.a,he.e,he.i,he.h,he.f,fe.a,he.d,E.c,n.l,he.b,n.m,A.b,E.a],pipes:[n.b],styles:["[_nghost-%COMP%]{margin:0 4px}.gear-item[_ngcontent-%COMP%]{margin:1.5rem 0;box-sizing:border-box;position:relative;top:0;width:300px;-webkit-transition:top .3s ease;transition:top .3s ease}@media(min-width:375px){.gear-item[_ngcontent-%COMP%]{width:360px}}.sizes[_ngcontent-%COMP%],   app-gallery-viewer>ngx-gallery{display:inline-block}.sizes[_ngcontent-%COMP%]{margin-bottom:8px}.price[_ngcontent-%COMP%]{margin-top:8px}.gear-item[_ngcontent-%COMP%]:hover{top:-10px}#delete[_ngcontent-%COMP%]{margin-right:0!important}"]}),e})();const xe=["gearUp"],ke=["paginator"];function Ce(e,t){if(1&e){const e=k.Zb();k.Yb(0,"div",18),k.Yb(1,"span"),k.Jc(2,"As an admin you can modify your inventory here"),k.Xb(),k.Yb(3,"button",19),k.gc("click",(function(t){return k.Ac(e),k.kc(2).onAddGearItems()})),k.Jc(4," Upload Gear "),k.Xb(),k.Xb()}}function Xe(e,t){if(1&e&&(k.Wb(0),k.Hc(1,Ce,5,0,"div",17),k.Vb()),2&e){const e=k.kc();k.Eb(1),k.qc("ngIf",e.isAdmin)}}function Pe(e,t){if(1&e&&(k.Wb(0),k.Tb(1,"app-merchandise-item",21),k.Vb()),2&e){const e=t.$implicit,r=k.kc(2);k.Eb(1),k.qc("isAdmin",r.isAdmin)("gearItem",e)}}function Ye(e,t){if(1&e&&(k.Wb(0),k.Hc(1,Pe,2,2,"ng-container",20),k.Vb()),2&e){const e=t.ngIf;k.Eb(1),k.qc("ngForOf",e)}}const ze=function(e){return{marginTop:e}},_e=[{path:"",component:(()=>{class e{constructor(e,t,r,n,i,a,o,c){this.merchandiseService=e,this.router=t,this.eventbus=r,this.route=n,this.scroll=i,this.paginatorService=a,this.deviceInfo=o,this.authService=c,this.routeAnimationsElements=se.a,this.gearItems=[],this.pagedGearItems=[],this.breakpoint=3,this.length=0,this.pageSize=6,this.pageSizeOptions=[6,12,18,24],this.isSticky=!1,this.isAdmin=!1,this.gearItems$=Object(f.a)([this.merchandiseService.gearItems$,this.merchandiseService.updatedGearItems$,this.merchandiseService.newLatestGearItems$,this.merchandiseService.deleteGearItemsLatest$,this.merchandiseService.pageChangeAction]).pipe(Object(I.a)(([e])=>{console.log("gearItems",e);const t=this.paginatorService.getPagedItems([...e],[...this.gearItems],[...this.pagedGearItems],this.pageSize,this.paginator);return this.length=e.length,this.gearItems=[...e],this.pagedGearItems=t,this.pagedGearItems}))}ngOnInit(){this.isAdmin=this.route.snapshot.data.roles.includes(P.g.Admin),this.eventbus.emit(new x.a(p.b.StickyHeader,this.isSticky)),this.scrollingSubscription=this.scroll.scrolled().pipe(Object(ce.a)((e,t)=>{const r=t.getElementRef().nativeElement.scrollTop;return e.push(r),e.slice(e.length-2)},new Array)).subscribe(e=>{this.onWindowScroll(e)})}ngOnDestroy(){this.eventbus.emit(new x.a(p.b.StickyHeader,!this.isSticky)),this.eventbus.emit(new x.a(p.b.HideToolbar,!1)),this.scrollingSubscription.unsubscribe()}onWindowScroll(e){const t=e[e.length-1]||0;t<(e[e.length-2]||0)?this.eventbus.emit(new x.a(p.b.HideToolbar,!1)):t>280?this.eventbus.emit(new x.a(p.b.HideToolbar,!0)):t<280&&this.eventbus.emit(new x.a(p.b.HideToolbar,!1))}onArrowClick(){this.merchandiseCards.nativeElement.scrollIntoView({behavior:"smooth"})}onAddGearItems(){this.router.navigate([{outlets:{modal:["new"]}}],{relativeTo:this.route})}OnPageChange(e){this.pageEvent=new ue.c,this.pageSize=e.pageSize;const t=e.pageIndex*e.pageSize;let r=t+e.pageSize;r>this.length&&(r=this.length),this.pagedGearItems=this.gearItems.slice(t,r),this.merchandiseService.onPageChange()}onResize(e){this.breakpoint=e.target.innerWidth<=800?1:3}}return e.\u0275fac=function(t){return new(t||e)(k.Sb(X),k.Sb(C.d),k.Sb(p.a),k.Sb(C.a),k.Sb(pe.b),k.Sb(be),k.Sb(me.a),k.Sb(le.a))},e.\u0275cmp=k.Mb({type:e,selectors:[["app-merchandise-list"]],viewQuery:function(e,t){var r;1&e&&(k.Pc(xe,!0),k.Fc(ke,!0)),2&e&&(k.wc(r=k.hc())&&(t.merchandiseCards=r.first),k.wc(r=k.hc())&&(t.paginator=r.first))},features:[k.Db([be])],decls:22,vars:14,consts:[[3,"ngStyle"],[1,"background"],[1,"gradient"],[1,"container"],["appIosVH","",1,"gradient-2",3,"ngClass"],[2,"height","350px"],["cdkScrollable","","id","arrow-wrapper"],[1,"arrow-border",3,"click"],[1,"arrow","down"],[1,"pulse"],[2,"padding","0 10px"],[1,"heading","mat-display-2"],["gearUp",""],[4,"ngIf"],[1,"merchandise-cards"],[3,"length","pageSize","pageSizeOptions","showFirstLastButtons","page","resize"],["paginator",""],["class","admin",4,"ngIf"],[1,"admin"],["mat-raised-button","","color","accent","type","button",3,"click"],[4,"ngFor","ngForOf"],[1,"list-item",3,"isAdmin","gearItem"]],template:function(e,t){1&e&&(k.Yb(0,"div",0),k.Yb(1,"div",1),k.Yb(2,"div",2),k.Tb(3,"div",3),k.Xb(),k.Yb(4,"div",4),k.Yb(5,"div",3),k.Tb(6,"div",5),k.Xb(),k.Xb(),k.Yb(7,"div",6),k.Yb(8,"div",7),k.gc("click",(function(e){return t.onArrowClick()})),k.Tb(9,"div",8),k.Tb(10,"div",9),k.Xb(),k.Xb(),k.Xb(),k.Yb(11,"div",10),k.Yb(12,"h2",11,12),k.Jc(14," The P League Collection "),k.Xb(),k.Hc(15,Xe,2,1,"ng-container",13),k.lc(16,"async"),k.Yb(17,"div",14),k.Hc(18,Ye,2,1,"ng-container",13),k.lc(19,"async"),k.Xb(),k.Yb(20,"mat-paginator",15,16),k.gc("page",(function(e){return t.OnPageChange(e)}))("resize",(function(e){return t.onResize(e)}),!1,k.zc),k.Xb(),k.Xb(),k.Xb()),2&e&&(k.qc("ngStyle",k.tc(12,ze,t.isSticky?"50px":"0")),k.Eb(4),k.qc("ngClass",t.deviceInfo.mobile?"mobile-img":"parallax"),k.Eb(11),k.qc("ngIf",k.mc(16,8,t.authService.isLoggedIn$)),k.Eb(3),k.qc("ngIf",k.mc(19,10,t.gearItems$)),k.Eb(2),k.qc("length",t.length)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions)("showFirstLastButtons",!0))},directives:[n.n,G.c,ge,n.k,G.a,n.m,ue.a,A.b,n.l,Se],pipes:[n.b],styles:['mat-paginator[_ngcontent-%COMP%]{margin:1.5rem 0 1rem}.heading[_ngcontent-%COMP%]{text-align:center;letter-spacing:.05rem;line-height:1.4;font-weight:400;text-transform:uppercase;font-style:normal}.admin[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%;flex-wrap:wrap;-webkit-box-pack:space-evenly;justify-content:space-evenly}.admin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .admin[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{align-self:center}.admin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:16px}.merchandise-cards[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;flex-wrap:wrap;-webkit-box-pack:space-evenly;justify-content:space-evenly;-webkit-box-align:start;align-items:flex-start}.background[_ngcontent-%COMP%]{padding:0;position:relative}.background[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;bottom:0;right:0;opacity:.7;content:"";z-index:0}.background[_ngcontent-%COMP%]   .mobile-img[_ngcontent-%COMP%], .background[_ngcontent-%COMP%]   .parallax[_ngcontent-%COMP%]{background:url(https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_10/v1581278138/movies-place/merchandise_welcome.jpg);background:-webkit-image-set(url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_10/v1581278138/movies-place/merchandise_welcome.jpg") 1x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_20/v1581278138/movies-place/merchandise_welcome.jpg") 2x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_30/v1581278138/movies-place/merchandise_welcome.jpg") 3x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_50/v1581278138/movies-place/merchandise_welcome.jpg") 4x) no-repeat top;background-image:-webkit-image-set(url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_10/v1581278138/movies-place/merchandise_welcome.jpg") 1x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_20/v1581278138/movies-place/merchandise_welcome.jpg") 2x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_30/v1581278138/movies-place/merchandise_welcome.jpg") 3x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_50/v1581278138/movies-place/merchandise_welcome.jpg") 4x) no-repeat center top;background-image:image-set(url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_10/v1581278138/movies-place/merchandise_welcome.jpg") 1x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_20/v1581278138/movies-place/merchandise_welcome.jpg") 2x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_30/v1581278138/movies-place/merchandise_welcome.jpg") 3x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_50/v1581278138/movies-place/merchandise_welcome.jpg") 4x) no-repeat center top;height:100vh;height:calc(var(--vh, 1vh)*100);transform:translatez(0);-webkit-transform:translatez(0);background-position:50%;background-repeat:no-repeat;background-size:cover}.background[_ngcontent-%COMP%]   .mobile-img[_ngcontent-%COMP%]{background-attachment:scroll}.background[_ngcontent-%COMP%]   .gradient[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;bottom:51%;right:0;content:"";z-index:0}.background[_ngcontent-%COMP%]   .gradient-2[_ngcontent-%COMP%]:before{position:absolute;top:51%;left:0;bottom:0;right:0;content:"";z-index:0}.background[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto;max-width:100%}#arrow-wrapper[_ngcontent-%COMP%]{width:60px;height:60px;display:block;position:absolute;left:50%;margin:0 auto 0 -30px;cursor:pointer;bottom:15px}.arrow-border[_ngcontent-%COMP%]{position:relative}.arrow-border[_ngcontent-%COMP%], .pulse[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%}.pulse[_ngcontent-%COMP%]{position:absolute;margin:0;-webkit-animation:pulsate 2s ease-out;animation:pulsate 2s ease-out;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;opacity:0;box-shadow:0 0 1px 2px #89849b;-webkit-animation-delay:2s;animation-delay:2s}@-webkit-keyframes pulsate{0%{-webkit-transform:scale(.9);transform:scale(.9);opacity:0}50%{opacity:1}to{-webkit-transform:scale(1.3);transform:scale(1.3);opacity:0}}@keyframes pulsate{0%{-webkit-transform:scale(.9);transform:scale(.9);opacity:0}50%{opacity:1}to{-webkit-transform:scale(1.3);transform:scale(1.3);opacity:0}}.down[_ngcontent-%COMP%]{-webkit-transform:rotate(135deg);transform:rotate(135deg)}'],changeDetection:0}),e})(),data:{animation:"MerchandiseListPage"},resolve:{roles:a.a,merchandiseItems:X}},{path:":id/edit",outlet:"modal",component:oe},{path:":id/pre-order",outlet:"modal",component:oe},{path:"new",outlet:"modal",component:oe}];let je=(()=>{class e{}return e.\u0275mod=k.Qb({type:e}),e.\u0275inj=k.Pb({factory:function(t){return new(t||e)},imports:[[C.h.forChild(_e)],C.h]}),e})();r.d(t,"MerchandiseModule",(function(){return Me}));let Me=(()=>{class e{}return e.\u0275mod=k.Qb({type:e}),e.\u0275inj=k.Pb({factory:function(t){return new(t||e)},providers:[ae,a.a,{provide:z.d,useValue:{}},{provide:z.a,useValue:{}}],imports:[[n.c,je,o.a,i.t]]}),e})()},lnXG:function(e,t,r){"use strict";const n=r("UvZa"),i=r("7104"),a=r("+0iv");e.exports=function e(t,r){switch(i(t)){case"object":return function(t,r){if("function"==typeof r)return r(t);if(r||a(t)){const n=new t.constructor;for(let i in t)n[i]=e(t[i],r);return n}return t}(t,r);case"array":return function(t,r){const n=new t.constructor(t.length);for(let i=0;i<t.length;i++)n[i]=e(t[i],r);return n}(t,r);default:return n(t)}}},qDJ8:function(e,t,r){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}}}]);
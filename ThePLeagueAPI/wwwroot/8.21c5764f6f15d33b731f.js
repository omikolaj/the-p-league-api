(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+0iv":function(e,t,n){"use strict";var r=n("qDJ8");function i(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==i(e)&&"function"==typeof(t=e.constructor)&&!1!==i(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")}},7104:function(e,t){var n=Object.prototype.toString;function r(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===r(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){return!(!e.constructor||"function"!=typeof e.constructor.isBuffer)&&e.constructor.isBuffer(e)}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(t){if(-1!==t.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(r(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},JIfX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return function(e,t){this.name=e,this.value=t}}()},KXBU:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("TYT/"),i=n("nNBm"),a=function(){function e(e){var t=this;this._mobile=!0,e.observe(["(min-width: 425px)"]).subscribe((function(e){t.mobile=!e.matches}))}return Object.defineProperty(e.prototype,"mobile",{get:function(){return this._mobile},set:function(e){this._mobile=e},enumerable:!0,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(r.cc(i.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},UvZa:function(e,t,n){"use strict";const r=Symbol.prototype.valueOf,i=n("7104");e.exports=function(e,t){switch(i(e)){case"array":return e.slice();case"object":return Object.assign({},e);case"date":return new e.constructor(Number(e));case"map":return new Map(e);case"set":return new Set(e);case"buffer":return function(e){const t=e.length,n=Buffer.allocUnsafe?Buffer.allocUnsafe(t):Buffer.from(t);return e.copy(n),n}(e);case"symbol":return function(e){return r?Object(r.call(e)):{}}(e);case"arraybuffer":return function(e){const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}(e);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function(e,t){return new e.constructor(e.buffer,e.byteOffset,e.length)}(e);case"regexp":return function(e){const t=void 0!==e.flags?e.flags:/\w+$/.exec(e)||void 0,n=new e.constructor(e.source,t);return n.lastIndex=e.lastIndex,n}(e);case"error":return Object.create(e);default:return e}}},YBOo:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n("yLV6");var r=n("JIfX"),i=n("pKDw"),a=n("TYT/"),o=n("Jj+e"),c=function(){function e(e){this.eventbus=e,this.images=[],this.ngxGalleryOptions=[]}return e.prototype.onPreviewOpen=function(){this.eventbus.emit(new r.a(i.b.HideScrollbar,!0))},e.prototype.onPreviewClose=function(){this.eventbus.emit(new r.a(i.b.HideScrollbar,!1))},e.\u0275fac=function(t){return new(t||e)(a.Sb(i.a))},e.\u0275cmp=a.Mb({type:e,selectors:[["app-gallery-viewer"]],inputs:{images:"images",ngxGalleryOptions:"ngxGalleryOptions"},decls:1,vars:2,consts:[[3,"options","images","previewOpen","previewClose"]],template:function(e,t){1&e&&(a.Yb(0,"ngx-gallery",0),a.gc("previewOpen",(function(e){return t.onPreviewOpen()}))("previewClose",(function(e){return t.onPreviewClose()})),a.Xb()),2&e&&a.qc("options",t.ngxGalleryOptions)("images",t.images)},directives:[o.b],styles:["ngx-gallery[_ngcontent-%COMP%]     .ngx-gallery-bullet{background:hsla(0,0%,100%,.52)}"]}),e}()},bJsK:function(e,t,n){"use strict";n.r(t);var r=n("Valr"),i=n("QJY3"),a=n("Spb/"),o=n("PCNd"),c=n("mrSG"),s=n("2WDa"),l=n("lnXG"),u=n("15JJ"),m=n("xMyE"),p=function(e){return e[e.NONE=0]="NONE",e[e.XS=1]="XS",e[e.S=2]="S",e[e.M=3]="M",e[e.L=4]="L",e[e.XL=5]="XL",e[e.XXL=6]="XXL",e[e.ALL=10]="ALL",e}({}),b=[{size:p.XS,available:!1,color:"warn"},{size:p.S,available:!1,color:"warn"},{size:p.M,available:!1,color:"warn"},{size:p.L,available:!1,color:"warn"},{size:p.XL,available:!1,color:"warn"},{size:p.XXL,available:!1,color:"warn"}],g=n("pKDw"),d=n("cUzu"),f=n("26FU"),h=n("K9Ia"),v=n("dzgT"),y=n("F/XL"),O=n("klSw"),I=n("67Y/"),w=n("9Z1F"),S=n("psW0"),x=n("ezqR"),k=n("JIfX"),C=n("TYT/"),X=n("DUip"),P=function(){function e(e,t,n,r){var i=this;this.http=e,this.snackBarService=t,this.eventBus=n,this.router=r,this.merchandiseUrl="merchandise",this.updateGearItemAction=new f.a(null),this.addGearItemAction=new f.a(null),this.deleteGearItemAction=new f.a(null),this.pageChangeAction=new f.a(null),this.loadingSubject=new h.a,this.loading$=this.loadingSubject.asObservable(),this.loadingDeleteSubject=new h.a,this.loadingDelete$=this.loadingDeleteSubject.asObservable(),this.gearItems$=new f.a([]).asObservable(),this.updatedGearItems$=Object(v.a)([this.updateGearItemAction,this.gearItems$]).pipe(Object(u.a)((function(e){var t=Object(c.e)(e,1)[0];return i.loadingSubject.next(!0),i.updateGearItemAsync(t)})),Object(O.a)()),this.newLatestGearItems$=Object(v.a)([this.addGearItemAction,this.gearItems$]).pipe(Object(u.a)((function(e){var t=Object(c.e)(e,1)[0];return i.loadingSubject.next(!0),i.createGearItemAsync(t)})),Object(O.a)()),this.deleteGearItemsLatest$=Object(v.a)([this.deleteGearItemAction,this.gearItems$]).pipe(Object(u.a)((function(e){var t=Object(c.e)(e,1);return i.deleteGearItemAsync(t[0])})),Object(O.a)())}return e.prototype.resolve=function(e,t){var n=this,r={headers:new d.e({"Content-Type":"application/json",Accept:"application/json"})};return this.gearItems$=this.http.get(this.merchandiseUrl,r).pipe(Object(I.a)((function(e){return(n.gearItems=e).reverse()})),Object(w.a)((function(){return n.router.navigate(["about"]),n.snackBarService.openSnackBarFromComponent("Error occured. Please come back later","Dismiss",x.a.Error),Object(y.a)([])})),Object(O.a)()),this.gearItems$},e.prototype.onPageChange=function(){return this.pageChangeAction.next({})},e.prototype.findGearItem=function(e){return this.gearItems$.pipe(Object(S.a)((function(t){return t.filter((function(t){return t.id===e}))})))},e.prototype.updateGearItem=function(e){this.updateGearItemAction.next(e)},e.prototype.updateGearItemAsync=function(e){var t=this;return null===e?Object(y.a)([]):Object(v.a)([this.gearItems$,this.http.patch(this.merchandiseUrl+"/"+e.id,e.formData)]).pipe(Object(I.a)((function(t){var n=Object(c.e)(t,2),r=n[0],i=n[1],a=r.map((function(e){return e.id})).indexOf(e.id);return a>-1&&r.splice(a,1,i),r})),Object(m.a)((function(n){t.loadingSubject.next(!1),t.snackBarService.openSnackBarFromComponent("Successfully updated "+e.name,"Dismiss",x.a.Success)})),Object(m.a)((function(){return t.eventBus.emit(new k.a(g.b.CloseOpen,!0))})),Object(w.a)((function(){return t.loadingSubject.next(!1),t.snackBarService.openSnackBarFromComponent("Error occured updating "+e.name,"Dismiss",x.a.Error),Object(y.a)([])})))},e.prototype.createGearItem=function(e){this.addGearItemAction.next(e)},e.prototype.createGearItemAsync=function(e){var t=this;return null===e?Object(y.a)([]):Object(v.a)([this.gearItems$,this.http.post(""+this.merchandiseUrl,e.formData)]).pipe(Object(I.a)((function(e){var t=Object(c.e)(e,2),n=t[0];return n.unshift(t[1]),n})),Object(m.a)((function(n){t.loadingSubject.next(!1),t.snackBarService.openSnackBarFromComponent("Successfully created "+e.name,"Dismiss",x.a.Success)})),Object(m.a)((function(){return t.eventBus.emit(new k.a(g.b.CloseOpen,!0))})),Object(w.a)((function(){return t.loadingSubject.next(!1),t.snackBarService.openSnackBarFromComponent("Error occured creating "+e.name,"Dismiss",x.a.Error),Object(y.a)([])})))},e.prototype.deleteGearItem=function(e){this.deleteGearItemAction.next(e)},e.prototype.deleteGearItemAsync=function(e){var t=this;return null===e?Object(y.a)([]):(this.eventBus.emit(new k.a(g.b.Loading,!0)),Object(v.a)([this.gearItems$,this.http.delete(this.merchandiseUrl+"/"+e.id)]).pipe(Object(I.a)((function(t){var n=Object(c.e)(t,1)[0],r=n.map((function(e){return e.id})).indexOf(e.id);return r>-1&&n.splice(r,1),n})),Object(m.a)((function(n){t.eventBus.emit(new k.a(g.b.Loading,!1)),t.snackBarService.openSnackBarFromComponent("Successfully deleted "+e.name,"Dismiss",x.a.Success)})),Object(w.a)((function(n){return t.eventBus.emit(new k.a(g.b.Loading,!1)),t.snackBarService.openSnackBarFromComponent("Error occured deleting "+e.name,"Dismiss",x.a.Error),Object(y.a)(null)}))))},e.\u0275fac=function(t){return new(t||e)(C.cc(d.b),C.cc(x.b),C.cc(g.a),C.cc(X.d))},e.\u0275prov=C.Ob({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Y=n("9JtH"),j=function(){function e(){}return e.prototype.isErrorState=function(e,t){return e&&e.invalid&&e.touched},e}(),z=n("ea4N"),_=n("CAq0"),M=n("eHTH"),A=n("cSbt"),E=n("p+mS"),F=n("S9aa"),G=n("qaSM"),J=n("Wjhp"),q=n("VkwW"),D=n("GsDI"),N=function(){function e(){}return e.prototype.transform=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.name=n.name?n.name.slice(0,27):"placeholderImageName",e.splice(t,1,n)}return e},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=C.Rb({name:"gearImageView",type:e,pure:!1}),e}();function L(e,t){1&e&&(C.Wb(0),C.Tb(1,"mat-progress-bar",26),C.Vb())}function T(e,t){1&e&&C.Jc(0,"Info")}function $(e,t){1&e&&C.Jc(0,"Details")}function B(e,t){if(1&e){var n=C.Zb();C.Wb(0),C.Yb(1,"mat-chip",27),C.gc("click",(function(e){C.Ac(n);var r=t.$implicit,i=C.kc();return r.controls.gearSize.value.available=!r.controls.gearSize.value.available,i.onSelectedChipSize()})),C.Jc(2),C.Xb(),C.Vb()}if(2&e){var r=t.$implicit,i=C.kc();C.Eb(1),C.qc("selected",r.controls.gearSize.value.available)("color",r.controls.gearSize.value.color),C.Eb(1),C.Lc("",i.sizeEnum[r.controls.gearSize.value.size]," ")}}function H(e,t){if(1&e){var n=C.Zb();C.Wb(0),C.Yb(1,"mat-chip",28),C.gc("removed",(function(e){C.Ac(n);var r=t.$implicit;return C.kc().onRemoveImage(r)})),C.Jc(2),C.Yb(3,"mat-icon",29),C.Jc(4,"cancel"),C.Xb(),C.Xb(),C.Vb()}if(2&e){var r=t.$implicit;C.Eb(1),C.qc("removable",!0),C.Eb(1),C.Lc("",r.name," ")}}var U=function(e){return{"margin-bottom":e}},V=function(){function e(e,t,n,r,i){this.fb=e,this.route=t,this.merchandiseService=n,this.dialogRef=r,this.eventBus=i,this.editMode=!1,this.selectedFileFormData=new FormData,this.gearItemImages=[],this.noSizesSelectedStateMatcher=new j,this.gearSizes=[],this.isInStock=!0,this.sizeEnum=p,this.isLoading$=this.merchandiseService.loading$,this.gearSizes=Object(c.f)(b)}return e.prototype.ngOnInit=function(){var e=this;this.subscription=this.eventBus.on(g.b.CloseOpen,(function(t){t&&e.dialogRef.close()})),this.route.children[0].firstChild.children.filter((function(e){return e.outlet===Y.f})).map((function(t){return t.params.pipe(Object(u.a)((function(t){return e.editMode=void 0!==t.id,e.merchandiseService.findGearItem(+t.id)})),Object(m.a)((function(t){e.gearItem=l(t)}))).subscribe()})),this.initForm()},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.onSubmit=function(){var e=this.gearItemObjectForDelivery();this.editMode?this.merchandiseService.updateGearItem(e):this.merchandiseService.createGearItem(e)},e.prototype.gearItemObjectForDelivery=function(){var e=this.editMode?this.gearItemImages.filter((function(e){return void 0!==e.id})):[],t={name:this.gearItemForm.value.name,price:this.gearItemForm.value.price,sizes:this.gearItemForm.value.sizes.gearSizesGroup.value.gearSizesArray.map((function(e){return e.gearSize})),inStock:this.gearItemForm.value.inStock,images:e};return this.editMode&&(t.id=this.gearItem.id),t.formData=this.selectedFileFormData,t.formData.append("gearItem",JSON.stringify(t)),t},e.prototype.onSlideChange=function(){this.isInStock=!this.isInStock},e.prototype.onSelectedChipSize=function(){this.gearItemForm.controls.sizes.updateValueAndValidity()},e.prototype.onCancel=function(){this.dialogRef.close()},e.prototype.onFileSelected=function(e){var t=e.target.files.length<3?e.target.files.length:3,n=e.target.files;if(3===this.gearItemImages.length){this.gearItemImages=Object(c.f)(this.gearItemImages);for(var r=0;r<t;r++)this.gearItemImages.splice(r,1,{name:n[r].name,size:n[r].size,type:n[r].type,previewId:r}),(i=n[r]).previewId=r,this.selectedFileFormData.append(Y.c.GearImages,i)}else if(this.gearItemImages.length>0&&this.gearItemImages.length<3)for(this.gearItemImages=Object(c.f)(this.gearItemImages),r=0;r<t;r++)this.gearItemImages.length<3&&(this.gearItemImages=Object(c.f)([{name:n[r].name,size:n[r].size,type:n[r].type,previewId:r}],this.gearItemImages),(i=n[r]).previewId=r,this.selectedFileFormData.append(Y.c.GearImages,i));else for(r=0;r<t;r++){var i;this.gearItemImages=Object(c.f)(this.gearItemImages,[{name:n[r].name,size:n[r].size,type:n[r].type,previewId:r}]),(i=n[r]).previewId=r,this.selectedFileFormData.append(Y.c.GearImages,i)}},e.prototype.onRemoveImage=function(e){var t=this,n=this.gearItemImages.map((function(e){return e.name})).indexOf(e.name);if(n>-1){this.gearItemImages.splice(n,1);var r=this.selectedFileFormData.getAll(Y.c.GearImages).filter((function(t){return t.previewId!==e.previewId}));this.selectedFileFormData=new FormData,r.forEach((function(e){t.selectedFileFormData.append(Y.c.GearImages,e)}))}},e.prototype.hideIfEmpty=function(){if(void 0===this.gearItemImages&&(this.gearItemImages=[]),0===this.gearItemImages.length)return"0px"},e.prototype.initForm=function(){var e="",t=null,n=this.gearSizes,r=[],a=this.isInStock;this.editMode&&(e=this.gearItem.name,t=this.gearItem.price,a=this.gearItem.inStock,r=this.gearItem.images,n=this.gearItem.sizes,this.gearItemImages=this.gearItem.images);for(var o=[],c=0;c<this.gearSizes.length;c++)o.push(this.fb.group({gearSize:this.fb.control(n[c])}));this.gearItemForm=this.fb.group({name:this.fb.control(e,i.v.required),price:this.fb.control(t,i.v.required),sizes:this.fb.control({gearSizesGroup:this.fb.group({gearSizesArray:this.fb.array(o)})},this.requireSize()),inStock:this.fb.control(a),images:this.fb.control(r)})},e.prototype.requireSize=function(){return function(e){var t=e.value.gearSizesGroup.value.gearSizesArray.filter((function(e){return!0===e.gearSize.available}));return t.length>0?(e.markAsTouched(),null):{invalidSize:{value:t}}}},e.\u0275fac=function(t){return new(t||e)(C.Sb(i.d),C.Sb(X.a),C.Sb(P),C.Sb(z.d),C.Sb(g.a))},e.\u0275cmp=C.Mb({type:e,selectors:[["app-merchandise-dialog"]],decls:57,vars:23,consts:[["mat-dialog-title","",1,"gear-item-title"],[4,"ngIf"],[3,"formGroup","ngSubmit"],["matStepLabel",""],["matInput","","placeholder","Name of the item","formControlName","name","cdkFocusInitial",""],["matInput","","type","number","placeholder","Price","formControlName","price",1,"right-align"],["matPrefix",""],["matSuffix",""],[1,"action-buttons"],["mat-raised-button","","color","warn","type","button",2,"margin-right","5px",3,"click"],["mat-raised-button","","color","accent","matStepperNext","","type","button"],["floatLabel","always"],[1,"placeholder"],["formControlName","sizes",3,"errorStateMatcher","multiple","selectable"],["chipList",""],[3,"formGroup"],["formArrayName","gearSizesArray",1,"mat-chip-list-container"],[4,"ngFor","ngForOf"],["id","imagesToUploadContainer"],["formControlName","images",1,"mat-chip-list-stacked","upload-image-chips",3,"ngStyle"],["formControlName","inStock","color","accent",2,"display","block",3,"labelPosition","change"],["mat-raised-button","","color","warn","matStepperPrevious","","type","button",2,"align-self","flex-end","margin-right","5px"],["mat-raised-button","","color","accent","type","button",1,"action-buttons",3,"click"],["type","file","multiple","multiple",2,"display","none",3,"change"],["fileUpload",""],["mat-raised-button","","color","accent",1,"post-button",2,"align-self","flex-end",3,"disabled"],["color","accent","mode","indeterminate"],[3,"selected","color","click"],[3,"removable","removed"],["matChipRemove",""]],template:function(e,t){if(1&e){var n=C.Zb();C.Yb(0,"h1",0),C.Jc(1),C.Xb(),C.Hc(2,L,2,0,"ng-container",1),C.lc(3,"async"),C.Yb(4,"form",2),C.gc("ngSubmit",(function(e){return t.onSubmit()})),C.Yb(5,"mat-horizontal-stepper"),C.Yb(6,"mat-step"),C.Hc(7,T,1,0,"ng-template",3),C.Yb(8,"mat-form-field"),C.Tb(9,"input",4),C.Yb(10,"mat-error"),C.Jc(11,"You must enter a "),C.Yb(12,"strong"),C.Jc(13,"name"),C.Xb(),C.Xb(),C.Xb(),C.Yb(14,"mat-form-field"),C.Tb(15,"input",5),C.Yb(16,"span",6),C.Jc(17,"$\xa0"),C.Xb(),C.Yb(18,"span",7),C.Jc(19,".00"),C.Xb(),C.Yb(20,"mat-error"),C.Jc(21,"You must enter a "),C.Yb(22,"strong"),C.Jc(23,"price"),C.Xb(),C.Xb(),C.Xb(),C.Yb(24,"div",8),C.Yb(25,"button",9),C.gc("click",(function(e){return t.onCancel()})),C.Jc(26," Cancel "),C.Xb(),C.Yb(27,"button",10),C.Jc(28," Next "),C.Xb(),C.Xb(),C.Xb(),C.Yb(29,"mat-step"),C.Hc(30,$,1,0,"ng-template",3),C.Yb(31,"mat-form-field",11),C.Yb(32,"mat-placeholder",12),C.Jc(33,"Gear sizes..."),C.Xb(),C.Yb(34,"mat-chip-list",13,14),C.Wb(36,15),C.Wb(37,16),C.Hc(38,B,3,3,"ng-container",17),C.Vb(),C.Vb(),C.Xb(),C.Yb(39,"mat-error"),C.Jc(40,"Please select a size"),C.Xb(),C.Xb(),C.Yb(41,"div",18),C.Yb(42,"mat-chip-list",19),C.Hc(43,H,5,2,"ng-container",17),C.lc(44,"gearImageView"),C.Xb(),C.Xb(),C.Yb(45,"mat-slide-toggle",20),C.gc("change",(function(e){return t.onSlideChange()})),C.Jc(46),C.Xb(),C.Yb(47,"div",8),C.Yb(48,"button",21),C.Jc(49," Back "),C.Xb(),C.Yb(50,"button",22),C.gc("click",(function(e){return C.Ac(n),C.xc(53).click()})),C.Jc(51," Images "),C.Xb(),C.Yb(52,"input",23,24),C.gc("change",(function(e){return t.onFileSelected(e)})),C.Xb(),C.Yb(54,"button",25),C.lc(55,"async"),C.Jc(56),C.Xb(),C.Xb(),C.Xb(),C.Xb(),C.Xb()}2&e&&(C.Eb(1),C.Lc(" ",t.editMode?"Edit Item":"New Gear","\n"),C.Eb(1),C.qc("ngIf",C.mc(3,15,t.isLoading$)),C.Eb(2),C.qc("formGroup",t.gearItemForm),C.Eb(30),C.qc("errorStateMatcher",t.noSizesSelectedStateMatcher)("multiple",!0)("selectable",!0),C.Eb(2),C.qc("formGroup",t.gearItemForm.controls.sizes.value.gearSizesGroup),C.Eb(2),C.qc("ngForOf",t.gearItemForm.controls.sizes.value.gearSizesGroup.controls.gearSizesArray.controls),C.Eb(3),C.qc("@imageUpload",t.gearItemImages.length),C.Eb(1),C.qc("ngStyle",C.tc(21,U,t.hideIfEmpty())),C.Eb(1),C.qc("ngForOf",C.mc(44,17,t.gearItemImages)),C.Eb(2),C.qc("labelPosition","after"),C.Eb(1),C.Kc(t.isInStock?"In stock":"Out of stock"),C.Eb(8),C.qc("disabled",!t.gearItemForm.valid||C.mc(55,19,t.isLoading$)),C.Eb(2),C.Lc(" ",t.editMode?"Update":"Post"," "))},directives:[z.e,r.m,i.w,i.p,i.g,_.a,_.b,_.c,M.b,A.b,i.b,i.o,i.f,M.a,i.s,M.h,M.i,E.b,_.e,M.g,F.c,i.c,r.l,r.n,G.c,J.a,_.f,q.a,F.a,D.a,F.d],pipes:[r.b,N],styles:[".gear-item-title[_ngcontent-%COMP%]{padding-left:24px}.action-buttons[_ngcontent-%COMP%]{margin-top:15px;display:-webkit-box;display:flex}.action-buttons[_ngcontent-%COMP%]   .post-button[_ngcontent-%COMP%]{margin-left:auto}.mat-form-field[_ngcontent-%COMP%]{width:100%}#imagesToUploadContainer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:start;align-items:flex-start;flex-wrap:wrap;flex-flow:column;-webkit-box-pack:space-evenly;justify-content:space-evenly;margin-top:10px}.right-align[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]     .mat-horizontal-content-container{padding-left:0;padding-right:0;padding-bottom:24px}[_nghost-%COMP%]     .mat-form-field.mat-focused .mat-form-field-label{color:hsla(0,0%,100%,.7)}[_nghost-%COMP%]     .mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:auto}.upload-image-chips[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]     #imagesToUploadContainer mat-form-field div:nth-child(2){display:none}mat-slide-toggle[_ngcontent-%COMP%]{padding-left:10px;display:inline-block!important}[_nghost-%COMP%]     .mat-horizontal-content-container{padding-bottom:0!important}"],data:{animation:[Object(s.o)("imageUpload",[Object(s.n)("* => *",[Object(s.i)(":enter",[Object(s.m)({opacity:0,transform:"translateY(-100%)"}),Object(s.k)(290,[Object(s.e)(".3s ease-in-out",Object(s.m)({opacity:1,transform:"translateY(-3%)"}))])],{optional:!0}),Object(s.i)(":leave",[Object(s.m)({opacity:1,transform:"translateX(0)"}),Object(s.e)(".3s cubic-bezier(.34,-0.39,.7,1.5)",Object(s.m)({opacity:0,transform:"translateX(-30%)"}))],{optional:!0})])])]}}),e}(),W=function(e){function t(t,n,r,i){var a=e.call(this,t,n,r,i)||this;return a.preOrderAction=new h.a,a.preOrder$=a.preOrderAction.asObservable().pipe(Object(u.a)((function(e){return a.preOrderGearItemAsync(e)}))),a.headers={headers:new d.e({"Content-Type":"application/json"})},a}return Object(c.c)(t,e),t.prototype.preOrderGearItem=function(e){this.preOrderAction.next(e)},t.prototype.preOrderGearItemAsync=function(e){var t=this;return this.loadingSubject.next(!0),this.http.post(this.merchandiseUrl+"/"+e.gearItemId+"/pre-order",JSON.stringify(e),this.headers).pipe(Object(m.a)((function(){return t.loadingSubject.next(!1)})),Object(w.a)((function(e){return t.loadingSubject.next(!1),t.snackBarService.openSnackBarFromComponent("Error occured submitting the pre-order","Dismiss",x.a.Error),Object(y.a)(null)})))},t.\u0275fac=function(e){return new(e||t)(C.cc(d.b),C.cc(x.b),C.cc(g.a),C.cc(X.d))},t.\u0275prov=C.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(P),R=n("agxM"),Z=n("MqYC"),K=n("mWkv"),Q=function(){function e(){}return e.prototype.transform=function(e){return e.filter((function(e){return e.available}))},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=C.Rb({name:"filteredGearSizes",type:e,pure:!0}),e}();function ee(e,t){1&e&&(C.Wb(0),C.Tb(1,"mat-progress-bar",27),C.Vb())}function te(e,t){if(1&e&&(C.Yb(0,"mat-option",28),C.Jc(1),C.Xb()),2&e){var n=t.$implicit,r=C.kc(2);C.qc("value",n.size),C.Eb(1),C.Lc(" ",r.sizeEnum[n.size]," ")}}function ne(e,t){if(1&e){var n=C.Zb();C.Wb(0),C.Hc(1,ee,2,0,"ng-container",3),C.lc(2,"async"),C.Yb(3,"form",4),C.gc("ngSubmit",(function(e){return C.Ac(n),C.kc().onSubmit()})),C.Yb(4,"mat-horizontal-stepper"),C.Yb(5,"mat-step"),C.Yb(6,"mat-form-field"),C.Tb(7,"input",5),C.Yb(8,"mat-error"),C.Jc(9,"You must provide"),C.Yb(10,"strong"),C.Jc(11,"First Name"),C.Xb(),C.Xb(),C.Xb(),C.Yb(12,"mat-form-field"),C.Tb(13,"input",6),C.Yb(14,"mat-error"),C.Jc(15,"You must provide "),C.Yb(16,"strong"),C.Jc(17,"Last Name"),C.Xb(),C.Xb(),C.Xb(),C.Yb(18,"div",7),C.Yb(19,"button",8),C.gc("click",(function(e){return C.Ac(n),C.kc().onCancel()})),C.Jc(20," Cancel "),C.Xb(),C.Yb(21,"button",9),C.Jc(22," Next "),C.Xb(),C.Xb(),C.Xb(),C.Yb(23,"mat-step"),C.Yb(24,"mat-form-field"),C.Tb(25,"input",10),C.Yb(26,"mat-error"),C.Jc(27,"You must provide a "),C.Yb(28,"strong"),C.Jc(29,"Phone Number"),C.Xb(),C.Xb(),C.Xb(),C.Yb(30,"mat-form-field"),C.Tb(31,"input",11),C.Yb(32,"mat-error"),C.Jc(33,"You must provide an "),C.Yb(34,"strong"),C.Jc(35,"E-mail"),C.Xb(),C.Jc(36," address"),C.Xb(),C.Xb(),C.Yb(37,"div",7),C.Yb(38,"button",12),C.Jc(39,"Back"),C.Xb(),C.Yb(40,"button",9),C.Jc(41," Next "),C.Xb(),C.Xb(),C.Xb(),C.Yb(42,"mat-step"),C.Yb(43,"div",13),C.Yb(44,"mat-form-field",14),C.Yb(45,"mat-placeholder",15),C.Jc(46,"Select Your Size"),C.Xb(),C.Yb(47,"mat-select",16),C.Yb(48,"mat-option"),C.Jc(49,"--"),C.Xb(),C.Hc(50,te,2,2,"mat-option",17),C.lc(51,"filteredGearSizes"),C.Xb(),C.Yb(52,"mat-error"),C.Jc(53,"You must select a "),C.Yb(54,"strong"),C.Jc(55,"size"),C.Xb(),C.Xb(),C.Xb(),C.Yb(56,"mat-form-field"),C.Tb(57,"input",18),C.Yb(58,"mat-error"),C.Jc(59,"You must specify "),C.Yb(60,"strong"),C.Jc(61,"quantity"),C.Xb(),C.Xb(),C.Xb(),C.Xb(),C.Yb(62,"div",19),C.Yb(63,"mat-placeholder",15),C.Jc(64,"Preferred Contact:"),C.Xb(),C.Xb(),C.Yb(65,"div",20),C.Yb(66,"mat-radio-group",21),C.Yb(67,"mat-radio-button",22),C.Jc(68,"Text/Call"),C.Xb(),C.Yb(69,"mat-radio-button",23),C.Jc(70,"Email"),C.Xb(),C.Xb(),C.Xb(),C.Yb(71,"div",7),C.Yb(72,"button",24),C.Jc(73," Back "),C.Xb(),C.Yb(74,"button",25),C.gc("click",(function(e){return C.Ac(n),C.kc().onCancel()})),C.Jc(75," Cancel "),C.Xb(),C.Yb(76,"button",26),C.lc(77,"async"),C.Jc(78," Order! "),C.Xb(),C.Xb(),C.Xb(),C.Xb(),C.Xb(),C.Vb()}if(2&e){var r=C.kc();C.Eb(1),C.qc("ngIf",C.mc(2,5,r.isLoading$)),C.Eb(2),C.qc("formGroup",r.preOrderForm),C.Eb(47),C.qc("ngForOf",C.mc(51,7,r.gearItem.sizes)),C.Eb(17),C.qc("checked",!0),C.Eb(9),C.qc("disabled",!r.preOrderForm.valid||C.mc(77,9,r.isLoading$))}}function re(e,t){1&e&&C.Jc(0,"Order Summary")}function ie(e,t){if(1&e){var n=C.Zb();C.Yb(0,"mat-horizontal-stepper"),C.Yb(1,"mat-step"),C.Hc(2,re,1,0,"ng-template",29),C.Yb(3,"div"),C.Jc(4),C.Xb(),C.Yb(5,"div",7),C.Yb(6,"button",30),C.gc("click",(function(e){return C.Ac(n),C.kc().onCancel()})),C.Jc(7," Complete "),C.Xb(),C.Xb(),C.Xb(),C.Xb()}if(2&e){var r=C.kc();C.Eb(4),C.Nc(" Thank you for your pre-order. You have pre-ordered ",r.preOrderForm.get("orderDetails").value.quantity," ",r.gearItem.name," for $",r.gearItem.price," each. Your total is $",r.computeTotalPrice(),". We will be sending you a confirmation e-mail shortly. ")}}var ae=function(){function e(e,t,n,r,a){this.fb=e,this.dialogRef=t,this.route=n,this.merchandiseService=r,this.preOrderService=a,this.preOrderForm=this.fb.group({firstName:this.fb.control(null,i.v.required),lastName:this.fb.control(null,i.v.required),phoneNumber:this.fb.control(null,[i.v.required,i.v.pattern("[0-9]{0,10}")]),email:this.fb.control(null,[i.v.required,i.v.email]),orderDetails:this.fb.group({quantity:this.fb.control(1,i.v.required),size:this.fb.control(null,i.v.required)}),contactPreference:this.fb.group({cellOrEmail:this.fb.control(1)})}),this.sizeEnum=p,this.preOrderdItem$=this.preOrderService.preOrder$,this.isLoading$=this.preOrderService.loading$}return e.prototype.ngOnInit=function(){var e=this;this.route.children[0].firstChild.children.filter((function(e){return e.outlet===Y.f})).map((function(t){return t.params.pipe(Object(u.a)((function(t){return e.merchandiseService.findGearItem(+t.id)})),Object(m.a)((function(t){e.gearItem=l(t)}))).subscribe()}))},e.prototype.onSubmit=function(){this.preOrderService.preOrderGearItem({quantity:this.preOrderForm.value.orderDetails.quantity,size:this.preOrderForm.value.orderDetails.size,gearItemId:this.gearItem.id,contact:{firstName:this.preOrderForm.value.firstName,lastName:this.preOrderForm.value.lastName,email:this.preOrderForm.value.email,phoneNumber:this.preOrderForm.value.phoneNumber,preferredContact:+this.preOrderForm.value.contactPreference.cellOrEmail}})},e.prototype.computeTotalPrice=function(){return this.gearItem.price*this.preOrderForm.value.orderDetails.quantity},e.prototype.onCancel=function(){this.dialogRef.close()},e.\u0275fac=function(t){return new(t||e)(C.Sb(i.d),C.Sb(z.d),C.Sb(X.a),C.Sb(P),C.Sb(W))},e.\u0275cmp=C.Mb({type:e,selectors:[["app-merchandise-pre-order-dialog"]],features:[C.Db([W])],decls:6,vars:5,consts:[["mat-dialog-title","",1,"gear-item-title"],[4,"ngIf","ngIfElse"],["finalizeOrder",""],[4,"ngIf"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","First Name","formControlName","firstName","cdkFocusInitial",""],["matInput","","placeholder","Last Name","formControlName","lastName"],[1,"action-buttons"],["mat-raised-button","","color","warn","type","button",2,"margin-right","5px",3,"click"],["mat-raised-button","","color","accent","matStepperNext","","type","button"],["matInput","","type","number","maxlength","10","minlength","10","placeholder","Phone Number","formControlName","phoneNumber"],["matInput","","type","email","placeholder","E-mail","formControlName","email"],["mat-raised-button","","matStepperPrevious","","color","warn",2,"margin-right","5px"],["formGroupName","orderDetails"],["floatLabel","always"],[1,"placeholder"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number","placeholder","Quantity","formControlName","quantity"],["id","preferred-contact-lable"],["formGroupName","contactPreference",1,"contact-preference"],["formControlName","cellOrEmail","aria-label","Select an option"],["value","1",3,"checked"],["value","2"],["mat-raised-button","","color","accent","matStepperPrevious","","type","button",2,"align-self","flex-end","margin-right","5px"],["mat-raised-button","","color","warn","type","button",1,"action-buttons",3,"click"],["mat-raised-button","","color","accent",1,"post-button",2,"align-self","flex-end",3,"disabled"],["color","accent","mode","indeterminate"],[3,"value"],["matStepLabel",""],["mat-raised-button","","color","accent",1,"post-button",2,"align-self","flex-end",3,"click"]],template:function(e,t){if(1&e&&(C.Yb(0,"h1",0),C.Jc(1),C.Xb(),C.Hc(2,ne,79,11,"ng-container",1),C.lc(3,"async"),C.Hc(4,ie,8,4,"ng-template",null,2,C.Ic)),2&e){var n=C.xc(5);C.Eb(1),C.Lc(" Pre-Order for ",t.gearItem.name,"\n"),C.Eb(1),C.qc("ngIf",!C.mc(3,3,t.preOrderdItem$))("ngIfElse",n)}},directives:[z.e,r.m,i.w,i.p,i.g,_.a,_.b,M.b,A.b,i.b,i.o,i.f,M.a,E.b,_.e,i.s,i.j,i.k,_.f,i.h,M.g,R.a,Z.n,r.l,K.b,K.a,q.a,_.c],pipes:[r.b,Q],styles:[".gear-item-title[_ngcontent-%COMP%]{padding-left:24px}.action-buttons[_ngcontent-%COMP%]{margin-top:15px;display:-webkit-box;display:flex}.action-buttons[_ngcontent-%COMP%]   .post-button[_ngcontent-%COMP%]{margin-left:auto}.mat-form-field[_ngcontent-%COMP%]{width:100%}#imagesToUploadContainer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:start;align-items:flex-start;flex-wrap:wrap;flex-flow:column;-webkit-box-pack:space-evenly;justify-content:space-evenly;margin-top:10px}.right-align[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]     .mat-horizontal-content-container{padding-left:0;padding-right:0;padding-bottom:24px}[_nghost-%COMP%]     .mat-form-field.mat-focused .mat-form-field-label{color:hsla(0,0%,100%,.7)}[_nghost-%COMP%]     .mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:auto}.upload-image-chips[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]     #imagesToUploadContainer mat-form-field div:nth-child(2){display:none}mat-slide-toggle[_ngcontent-%COMP%]{padding-left:10px;display:inline-block!important}[_nghost-%COMP%]     .mat-horizontal-content-container{padding-bottom:0!important}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}.contact-preference[_ngcontent-%COMP%]{margin-left:10px}#preferred-contact-lable[_ngcontent-%COMP%]{margin-bottom:7px}"],changeDetection:0}),e}(),oe=function(){function e(e,t){this.router=e,this.route=t,this.component=V}return e.prototype.openMerchandiseDialog=function(e){var t=this;this.component=this.router.url.includes("pre-order")?ae:V,e.open(this.component,{width:"90%",maxWidth:"450px"}).afterClosed().subscribe((function(){t.router.navigate(["merchandise"],{relativeTo:t.route})}))},e.\u0275fac=function(t){return new(t||e)(C.cc(X.d),C.cc(X.a))},e.\u0275prov=C.Ob({token:e,factory:e.\u0275fac}),e}(),ce=function(){function e(e,t){this.merchandiseDialogService=e,this.dialog=t}return e.prototype.ngOnInit=function(){var e=this;setTimeout((function(){e.merchandiseDialogService.openMerchandiseDialog(e.dialog)}))},e.\u0275fac=function(t){return new(t||e)(C.Sb(oe),C.Sb(z.b))},e.\u0275cmp=C.Mb({type:e,selectors:[["app-merchandise-dialog-container"]],decls:0,vars:0,template:function(e,t){},styles:["mat-horizontal-stepper.mat-horizontal-content-container[_ngcontent-%COMP%]{padding:0 0 24px!important}"]}),e}(),se=n("dC0D"),le=n("0aut"),ue=n("RL7/"),me=n("KXBU"),pe=function(){function e(){}return e.prototype.getRemovedStoreItem=function(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r];-1===e.indexOf(i)&&(n=i)}return n},e.prototype.getPagedItems=function(e,t,n,r,i){if(0===i.length)return e.slice(0,r);if(e.length===i.length){var a=[];return e.filter((function(e){n.map((function(t){t.id===e.id&&a.push(e)}))})),a}if(e.length>i.length)return i.firstPage(),e.slice(0,r);if(n.length>0&&t.length>r){if(e.length<t.length){var o=this.getRemovedStoreItem(e,t);if(n.length>1){var s=n.indexOf(o),l=Object(c.f)(n);if(l.splice(s,1),!i.hasNextPage())return l;if(i.hasNextPage()){if(e.length===n.length)return e;var u=t.indexOf(o);return l.splice(n.length-1,0,e[u-1+(r-s)]),l}}else{if(e.length<=r)return i.firstPage(),e.slice(0,e.length);if(!i.hasNextPage()&&i.hasPreviousPage())return i.previousPage(),e.slice(e.length-r)}}}else if(!i.hasNextPage()&&!i.hasPreviousPage())return e},e.\u0275prov=C.Ob({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}(),be=n("nbAZ"),ge=n("pdUi"),de=function(){function e(){this.setVHFunc=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}}return e.prototype.onResize=function(){this.setVHFunc()},e.prototype.ngOnInit=function(){this.setVHFunc()},e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=C.Nb({type:e,selectors:[["","appIosVH",""]],hostBindings:function(e,t){1&e&&C.gc("resize",(function(e){return t.onResize(e)}),!1,C.zc)}}),e}(),fe=n("Jj+e"),he=n("17Os"),ve=n("YBOo");function ye(e,t){if(1&e&&(C.Yb(0,"mat-chip",11),C.Jc(1),C.Xb()),2&e){var n=C.kc().$implicit,r=C.kc();C.Eb(1),C.Lc(" ",r.sizes[n.size]," ")}}function Oe(e,t){if(1&e&&(C.Wb(0),C.Hc(1,ye,2,1,"mat-chip",10),C.Vb()),2&e){var n=t.$implicit;C.Eb(1),C.qc("ngIf",n.available)}}function Ie(e,t){if(1&e){var n=C.Zb();C.Wb(0),C.Yb(1,"button",12),C.gc("click",(function(e){return C.Ac(n),C.kc(2).onEditGearItem()})),C.Jc(2," EDIT "),C.Xb(),C.Yb(3,"button",13),C.gc("click",(function(e){return C.Ac(n),C.kc(2).onDeleteGearItem()})),C.Jc(4," DELETE "),C.Xb(),C.Vb()}}function we(e,t){if(1&e&&(C.Wb(0),C.Hc(1,Ie,5,0,"ng-container",8),C.Vb()),2&e){var n=C.kc();C.Eb(1),C.qc("ngIf",n.isAdmin)}}var Se=[{width:"360px",height:"400px",imageAnimation:fe.a.Zoom,thumbnails:!1,previewSwipe:!0,imageSwipe:!0,imageArrowsAutoHide:!0,previewAutoPlayInterval:4e3,imageAutoPlayInterval:4e3,previewCloseOnClick:!0,previewCloseOnEsc:!0,previewKeyboardNavigation:!0,previewInfinityMove:!0,imageInfinityMove:!0,previewZoom:!0,imageAutoPlay:!0,imageAutoPlayPauseOnHover:!0,previewAutoPlay:!0,previewAutoPlayPauseOnHover:!0,imageBullets:!0,lazyLoading:!0},{breakpoint:800,width:"100%",height:"360px",imagePercent:80,thumbnailsPercent:20,thumbnailsMargin:20,thumbnailMargin:20},{breakpoint:400,preview:!1,height:"260px"}],xe=function(){function e(e,t,n,r){this.router=e,this.route=t,this.merchandiseService=n,this.authService=r,this.sizes=p,this.galleryOptions=Se,this.routeAnimationsElements=le.a}return e.prototype.ngOnInit=function(){console.log("gearItem",this.gearItem)},e.prototype.onEditGearItem=function(){this.router.navigate([{outlets:{modal:[this.gearItem.id,"edit"]}}],{relativeTo:this.route})},e.prototype.onPreOrderGearItem=function(){this.router.navigate([{outlets:{modal:[this.gearItem.id,"pre-order"]}}],{relativeTo:this.route})},e.prototype.onDeleteGearItem=function(){this.merchandiseService.deleteGearItem(this.gearItem)},e.\u0275fac=function(t){return new(t||e)(C.Sb(X.d),C.Sb(X.a),C.Sb(P),C.Sb(ue.a))},e.\u0275cmp=C.Mb({type:e,selectors:[["app-merchandise-item"]],inputs:{gearItem:"gearItem",isAdmin:"isAdmin"},decls:26,vars:13,consts:[[1,"gear-item",3,"ngClass"],["mat-card-image",""],[3,"ngxGalleryOptions","images"],[1,"gear-sizes"],[1,"sizes"],[3,"selectable"],[4,"ngFor","ngForOf"],[1,"price"],[4,"ngIf"],["id","pre-order","mat-raised-button","","color","accent",3,"click"],["id","chip",4,"ngIf"],["id","chip"],["id","edit","mat-raised-button","","color","accent",3,"click"],["id","delete","mat-raised-button","","color","warn",3,"click"]],template:function(e,t){1&e&&(C.Yb(0,"mat-card",0),C.Yb(1,"mat-card-header"),C.Yb(2,"mat-card-title"),C.Yb(3,"div"),C.Yb(4,"h3"),C.Jc(5),C.Xb(),C.Xb(),C.Xb(),C.Yb(6,"mat-card-subtitle"),C.Yb(7,"div"),C.Jc(8),C.Xb(),C.Xb(),C.Xb(),C.Yb(9,"div",1),C.Tb(10,"app-gallery-viewer",2),C.Xb(),C.Yb(11,"mat-card-content"),C.Yb(12,"div"),C.Yb(13,"div",3),C.Yb(14,"span",4),C.Jc(15,"Available Sizes:"),C.Xb(),C.Tb(16,"br"),C.Yb(17,"mat-chip-list",5),C.Hc(18,Oe,2,1,"ng-container",6),C.Xb(),C.Xb(),C.Yb(19,"h2",7),C.Jc(20),C.Xb(),C.Xb(),C.Xb(),C.Yb(21,"mat-card-actions"),C.Hc(22,we,2,1,"ng-container",8),C.lc(23,"async"),C.Yb(24,"button",9),C.gc("click",(function(e){return t.onPreOrderGearItem()})),C.Jc(25," PRE-ORDER "),C.Xb(),C.Xb(),C.Xb()),2&e&&(C.Ib("mat-elevation-z7",!0),C.qc("ngClass",t.routeAnimationsElements),C.Eb(5),C.Lc(" ",t.gearItem.name," "),C.Eb(3),C.Lc(" ",t.gearItem.inStock?"In stock":"Out of stock"," "),C.Eb(2),C.qc("ngxGalleryOptions",t.galleryOptions)("images",t.gearItem.images),C.Eb(7),C.qc("selectable",!1),C.Eb(1),C.qc("ngForOf",t.gearItem.sizes),C.Eb(2),C.Lc("$",t.gearItem.price,""),C.Eb(2),C.qc("ngIf",C.mc(23,11,t.authService.isLoggedIn$)))},directives:[he.a,r.k,G.a,he.e,he.i,he.h,he.f,ve.a,he.d,F.c,r.l,he.b,r.m,E.b,F.a],pipes:[r.b],styles:["[_nghost-%COMP%]{margin:0 4px}.gear-item[_ngcontent-%COMP%]{margin:1.5rem 0;box-sizing:border-box;position:relative;top:0;width:300px;-webkit-transition:top .3s ease;transition:top .3s ease}@media(min-width:375px){.gear-item[_ngcontent-%COMP%]{width:360px}}.sizes[_ngcontent-%COMP%],   app-gallery-viewer>ngx-gallery{display:inline-block}.sizes[_ngcontent-%COMP%]{margin-bottom:8px}.price[_ngcontent-%COMP%]{margin-top:8px}.gear-item[_ngcontent-%COMP%]:hover{top:-10px}#delete[_ngcontent-%COMP%]{margin-right:0!important}"]}),e}(),ke=["gearUp"],Ce=["paginator"];function Xe(e,t){if(1&e){var n=C.Zb();C.Yb(0,"div",18),C.Yb(1,"span"),C.Jc(2,"As an admin you can modify your inventory here"),C.Xb(),C.Yb(3,"button",19),C.gc("click",(function(e){return C.Ac(n),C.kc(2).onAddGearItems()})),C.Jc(4," Upload Gear "),C.Xb(),C.Xb()}}function Pe(e,t){if(1&e&&(C.Wb(0),C.Hc(1,Xe,5,0,"div",17),C.Vb()),2&e){var n=C.kc();C.Eb(1),C.qc("ngIf",n.isAdmin)}}function Ye(e,t){if(1&e&&(C.Wb(0),C.Tb(1,"app-merchandise-item",21),C.Vb()),2&e){var n=t.$implicit,r=C.kc(2);C.Eb(1),C.qc("isAdmin",r.isAdmin)("gearItem",n)}}function je(e,t){if(1&e&&(C.Wb(0),C.Hc(1,Ye,2,2,"ng-container",20),C.Vb()),2&e){var n=t.ngIf;C.Eb(1),C.qc("ngForOf",n)}}var ze=function(e){return{marginTop:e}},_e=[{path:"",component:function(){function e(e,t,n,r,i,a,o,s){var l=this;this.merchandiseService=e,this.router=t,this.eventbus=n,this.route=r,this.scroll=i,this.paginatorService=a,this.deviceInfo=o,this.authService=s,this.routeAnimationsElements=le.a,this.gearItems=[],this.pagedGearItems=[],this.breakpoint=3,this.length=0,this.pageSize=6,this.pageSizeOptions=[6,12,18,24],this.isSticky=!1,this.isAdmin=!1,this.gearItems$=Object(v.a)([this.merchandiseService.gearItems$,this.merchandiseService.updatedGearItems$,this.merchandiseService.newLatestGearItems$,this.merchandiseService.deleteGearItemsLatest$,this.merchandiseService.pageChangeAction]).pipe(Object(I.a)((function(e){var t=Object(c.e)(e,1)[0];console.log("gearItems",t);var n=l.paginatorService.getPagedItems(Object(c.f)(t),Object(c.f)(l.gearItems),Object(c.f)(l.pagedGearItems),l.pageSize,l.paginator);return l.length=t.length,l.gearItems=Object(c.f)(t),l.pagedGearItems=n,l.pagedGearItems})))}return e.prototype.ngOnInit=function(){var e=this;this.isAdmin=this.route.snapshot.data.roles.includes(Y.g.Admin),this.eventbus.emit(new k.a(g.b.StickyHeader,this.isSticky)),this.scrollingSubscription=this.scroll.scrolled().pipe(Object(se.a)((function(e,t){var n=t.getElementRef().nativeElement.scrollTop;return e.push(n),e.slice(e.length-2)}),new Array)).subscribe((function(t){e.onWindowScroll(t)}))},e.prototype.ngOnDestroy=function(){this.eventbus.emit(new k.a(g.b.StickyHeader,!this.isSticky)),this.eventbus.emit(new k.a(g.b.HideToolbar,!1)),this.scrollingSubscription.unsubscribe()},e.prototype.onWindowScroll=function(e){var t=e[e.length-1]||0;t<(e[e.length-2]||0)?this.eventbus.emit(new k.a(g.b.HideToolbar,!1)):t>280?this.eventbus.emit(new k.a(g.b.HideToolbar,!0)):t<280&&this.eventbus.emit(new k.a(g.b.HideToolbar,!1))},e.prototype.onArrowClick=function(){this.merchandiseCards.nativeElement.scrollIntoView({behavior:"smooth"})},e.prototype.onAddGearItems=function(){this.router.navigate([{outlets:{modal:["new"]}}],{relativeTo:this.route})},e.prototype.OnPageChange=function(e){this.pageEvent=new be.c,this.pageSize=e.pageSize;var t=e.pageIndex*e.pageSize,n=t+e.pageSize;n>this.length&&(n=this.length),this.pagedGearItems=this.gearItems.slice(t,n),this.merchandiseService.onPageChange()},e.prototype.onResize=function(e){this.breakpoint=e.target.innerWidth<=800?1:3},e.\u0275fac=function(t){return new(t||e)(C.Sb(P),C.Sb(X.d),C.Sb(g.a),C.Sb(X.a),C.Sb(ge.b),C.Sb(pe),C.Sb(me.a),C.Sb(ue.a))},e.\u0275cmp=C.Mb({type:e,selectors:[["app-merchandise-list"]],viewQuery:function(e,t){var n;1&e&&(C.Pc(ke,!0),C.Fc(Ce,!0)),2&e&&(C.wc(n=C.hc())&&(t.merchandiseCards=n.first),C.wc(n=C.hc())&&(t.paginator=n.first))},features:[C.Db([pe])],decls:22,vars:14,consts:[[3,"ngStyle"],[1,"background"],[1,"gradient"],[1,"container"],["appIosVH","",1,"gradient-2",3,"ngClass"],[2,"height","350px"],["cdkScrollable","","id","arrow-wrapper"],[1,"arrow-border",3,"click"],[1,"arrow","down"],[1,"pulse"],[2,"padding","0 10px"],[1,"heading","mat-display-2"],["gearUp",""],[4,"ngIf"],[1,"merchandise-cards"],[3,"length","pageSize","pageSizeOptions","showFirstLastButtons","page","resize"],["paginator",""],["class","admin",4,"ngIf"],[1,"admin"],["mat-raised-button","","color","accent","type","button",3,"click"],[4,"ngFor","ngForOf"],[1,"list-item",3,"isAdmin","gearItem"]],template:function(e,t){1&e&&(C.Yb(0,"div",0),C.Yb(1,"div",1),C.Yb(2,"div",2),C.Tb(3,"div",3),C.Xb(),C.Yb(4,"div",4),C.Yb(5,"div",3),C.Tb(6,"div",5),C.Xb(),C.Xb(),C.Yb(7,"div",6),C.Yb(8,"div",7),C.gc("click",(function(e){return t.onArrowClick()})),C.Tb(9,"div",8),C.Tb(10,"div",9),C.Xb(),C.Xb(),C.Xb(),C.Yb(11,"div",10),C.Yb(12,"h2",11,12),C.Jc(14," The P League Collection "),C.Xb(),C.Hc(15,Pe,2,1,"ng-container",13),C.lc(16,"async"),C.Yb(17,"div",14),C.Hc(18,je,2,1,"ng-container",13),C.lc(19,"async"),C.Xb(),C.Yb(20,"mat-paginator",15,16),C.gc("page",(function(e){return t.OnPageChange(e)}))("resize",(function(e){return t.onResize(e)}),!1,C.zc),C.Xb(),C.Xb(),C.Xb()),2&e&&(C.qc("ngStyle",C.tc(12,ze,t.isSticky?"50px":"0")),C.Eb(4),C.qc("ngClass",t.deviceInfo.mobile?"mobile-img":"parallax"),C.Eb(11),C.qc("ngIf",C.mc(16,8,t.authService.isLoggedIn$)),C.Eb(3),C.qc("ngIf",C.mc(19,10,t.gearItems$)),C.Eb(2),C.qc("length",t.length)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions)("showFirstLastButtons",!0))},directives:[r.n,G.c,de,r.k,G.a,r.m,be.a,E.b,r.l,xe],pipes:[r.b],styles:['mat-paginator[_ngcontent-%COMP%]{margin:1.5rem 0 1rem}.heading[_ngcontent-%COMP%]{text-align:center;letter-spacing:.05rem;line-height:1.4;font-weight:400;text-transform:uppercase;font-style:normal}.admin[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%;flex-wrap:wrap;-webkit-box-pack:space-evenly;justify-content:space-evenly}.admin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .admin[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{align-self:center}.admin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:16px}.merchandise-cards[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;flex-wrap:wrap;-webkit-box-pack:space-evenly;justify-content:space-evenly;-webkit-box-align:start;align-items:flex-start}.background[_ngcontent-%COMP%]{padding:0;position:relative}.background[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;bottom:0;right:0;opacity:.7;content:"";z-index:0}.background[_ngcontent-%COMP%]   .mobile-img[_ngcontent-%COMP%], .background[_ngcontent-%COMP%]   .parallax[_ngcontent-%COMP%]{background:url(https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_10/v1581278138/movies-place/merchandise_welcome.jpg);background:-webkit-image-set(url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_10/v1581278138/movies-place/merchandise_welcome.jpg") 1x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_20/v1581278138/movies-place/merchandise_welcome.jpg") 2x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_30/v1581278138/movies-place/merchandise_welcome.jpg") 3x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_50/v1581278138/movies-place/merchandise_welcome.jpg") 4x) no-repeat top;background-image:-webkit-image-set(url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_10/v1581278138/movies-place/merchandise_welcome.jpg") 1x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_20/v1581278138/movies-place/merchandise_welcome.jpg") 2x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_30/v1581278138/movies-place/merchandise_welcome.jpg") 3x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_50/v1581278138/movies-place/merchandise_welcome.jpg") 4x) no-repeat center top;background-image:image-set(url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_10/v1581278138/movies-place/merchandise_welcome.jpg") 1x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_20/v1581278138/movies-place/merchandise_welcome.jpg") 2x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_30/v1581278138/movies-place/merchandise_welcome.jpg") 3x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_50/v1581278138/movies-place/merchandise_welcome.jpg") 4x) no-repeat center top;height:100vh;height:calc(var(--vh, 1vh)*100);background-attachment:fixed;background-position:50%;background-repeat:no-repeat;background-size:cover}.background[_ngcontent-%COMP%]   .mobile-img[_ngcontent-%COMP%]{background-attachment:scroll}.background[_ngcontent-%COMP%]   .gradient[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;bottom:51%;right:0;content:"";z-index:0}.background[_ngcontent-%COMP%]   .gradient-2[_ngcontent-%COMP%]:before{position:absolute;top:51%;left:0;bottom:0;right:0;content:"";z-index:0}.background[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto;max-width:100%}#arrow-wrapper[_ngcontent-%COMP%]{width:60px;height:60px;display:block;position:absolute;left:50%;margin:0 auto 0 -30px;cursor:pointer;bottom:15px}.arrow-border[_ngcontent-%COMP%]{position:relative}.arrow-border[_ngcontent-%COMP%], .pulse[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%}.pulse[_ngcontent-%COMP%]{position:absolute;margin:0;-webkit-animation:pulsate 2s ease-out;animation:pulsate 2s ease-out;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;opacity:0;box-shadow:0 0 1px 2px #89849b;-webkit-animation-delay:2s;animation-delay:2s}@-webkit-keyframes pulsate{0%{-webkit-transform:scale(.9);transform:scale(.9);opacity:0}50%{opacity:1}to{-webkit-transform:scale(1.3);transform:scale(1.3);opacity:0}}@keyframes pulsate{0%{-webkit-transform:scale(.9);transform:scale(.9);opacity:0}50%{opacity:1}to{-webkit-transform:scale(1.3);transform:scale(1.3);opacity:0}}.down[_ngcontent-%COMP%]{-webkit-transform:rotate(135deg);transform:rotate(135deg)}'],changeDetection:0}),e}(),data:{animation:"MerchandiseListPage"},resolve:{roles:a.a,merchandiseItems:P}},{path:":id/edit",outlet:"modal",component:ce},{path:":id/pre-order",outlet:"modal",component:ce},{path:"new",outlet:"modal",component:ce}],Me=function(){function e(){}return e.\u0275mod=C.Qb({type:e}),e.\u0275inj=C.Pb({factory:function(t){return new(t||e)},imports:[[X.h.forChild(_e)],X.h]}),e}();n.d(t,"MerchandiseModule",(function(){return Ae}));var Ae=function(){function e(){}return e.\u0275mod=C.Qb({type:e}),e.\u0275inj=C.Pb({factory:function(t){return new(t||e)},providers:[oe,a.a,{provide:z.d,useValue:{}},{provide:z.a,useValue:{}}],imports:[[r.c,Me,o.a,i.t]]}),e}()},lnXG:function(e,t,n){"use strict";const r=n("UvZa"),i=n("7104"),a=n("+0iv");e.exports=function e(t,n){switch(i(t)){case"object":return function(t,n){if("function"==typeof n)return n(t);if(n||a(t)){const r=new t.constructor;for(let i in t)r[i]=e(t[i],n);return r}return t}(t,n);case"array":return function(t,n){const r=new t.constructor(t.length);for(let i=0;i<t.length;i++)r[i]=e(t[i],n);return r}(t,n);default:return r(t)}}},qDJ8:function(e,t,n){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}}}]);
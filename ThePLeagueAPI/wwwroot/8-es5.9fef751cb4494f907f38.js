function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,i=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+0iv":function(e,t,n){"use strict";var r=n("qDJ8");function a(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==a(e)&&"function"==typeof(t=e.constructor)&&!1!==a(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")}},7104:function(e,t){var n=Object.prototype.toString;function r(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===r(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){return!(!e.constructor||"function"!=typeof e.constructor.isBuffer)&&e.constructor.isBuffer(e)}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(t){if(-1!==t.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(r(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},JIfX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function e(t,n){_classCallCheck(this,e),this.name=t,this.value=n}},KXBU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("fXoL"),a=n("0MNC"),i=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._mobile=!0,t.observe(["(min-width: 425px)"]).subscribe((function(e){n.mobile=!e.matches}))}return _createClass(e,[{key:"mobile",get:function(){return this._mobile},set:function(e){this._mobile=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.cc(a.a))},e.\u0275prov=r.Ob({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},UvZa:function(e,t,n){"use strict";var r=Symbol.prototype.valueOf,a=n("7104");e.exports=function(e,t){switch(a(e)){case"array":return e.slice();case"object":return Object.assign({},e);case"date":return new e.constructor(Number(e));case"map":return new Map(e);case"set":return new Set(e);case"buffer":return function(e){var t=e.length,n=Buffer.allocUnsafe?Buffer.allocUnsafe(t):Buffer.from(t);return e.copy(n),n}(e);case"symbol":return function(e){return r?Object(r.call(e)):{}}(e);case"arraybuffer":return function(e){var t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}(e);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function(e,t){return new e.constructor(e.buffer,e.byteOffset,e.length)}(e);case"regexp":return function(e){var t=void 0!==e.flags?e.flags:/\w+$/.exec(e)||void 0,n=new e.constructor(e.source,t);return n.lastIndex=e.lastIndex,n}(e);case"error":return Object.create(e);default:return e}}},YBOo:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n("yLV6");var r=n("JIfX"),a=n("pKDw"),i=n("fXoL"),o=n("XGsO"),c=function(){var e=function(){function e(t){_classCallCheck(this,e),this.eventbus=t,this.images=[],this.ngxGalleryOptions=[]}return _createClass(e,[{key:"onPreviewOpen",value:function(){this.eventbus.emit(new r.a(a.b.HideScrollbar,!0))}},{key:"onPreviewClose",value:function(){this.eventbus.emit(new r.a(a.b.HideScrollbar,!1))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Sb(a.a))},e.\u0275cmp=i.Mb({type:e,selectors:[["app-gallery-viewer"]],inputs:{images:"images",ngxGalleryOptions:"ngxGalleryOptions"},decls:1,vars:2,consts:[[3,"options","images","previewOpen","previewClose"]],template:function(e,t){1&e&&(i.Yb(0,"ngx-gallery",0),i.gc("previewOpen",(function(e){return t.onPreviewOpen()}))("previewClose",(function(e){return t.onPreviewClose()})),i.Xb()),2&e&&i.qc("options",t.ngxGalleryOptions)("images",t.images)},directives:[o.b],styles:["ngx-gallery[_ngcontent-%COMP%]     .ngx-gallery-bullet{background:hsla(0,0%,100%,.52)}"]}),e}()},bJsK:function(e,t,n){"use strict";n.r(t);var r,a,i=n("ofXK"),o=n("3Pt+"),c=n("Spb/"),s=n("PCNd"),l=n("R0Ic"),u=n("lnXG"),m=n("eIep"),b=n("vkgz"),p=function(e){return e[e.NONE=0]="NONE",e[e.XS=1]="XS",e[e.S=2]="S",e[e.M=3]="M",e[e.L=4]="L",e[e.XL=5]="XL",e[e.XXL=6]="XXL",e[e.ALL=10]="ALL",e}({}),g=[{size:p.XS,available:!1,color:"warn"},{size:p.S,available:!1,color:"warn"},{size:p.M,available:!1,color:"warn"},{size:p.L,available:!1,color:"warn"},{size:p.XL,available:!1,color:"warn"},{size:p.XXL,available:!1,color:"warn"}],d=n("pKDw"),f=n("tk/3"),h=n("2Vo4"),v=n("XNiG"),y=n("itXk"),I=n("LRne"),O=n("UXun"),k=n("lJxs"),w=n("JIr8"),S=n("5+tZ"),C=n("ezqR"),_=n("JIfX"),x=n("fXoL"),P=n("tyNb"),X=((r=function(){function e(t,n,r,a){var i=this;_classCallCheck(this,e),this.http=t,this.snackBarService=n,this.eventBus=r,this.router=a,this.merchandiseUrl="merchandise",this.updateGearItemAction=new h.a(null),this.addGearItemAction=new h.a(null),this.deleteGearItemAction=new h.a(null),this.pageChangeAction=new h.a(null),this.loadingSubject=new v.a,this.loading$=this.loadingSubject.asObservable(),this.loadingDeleteSubject=new v.a,this.loadingDelete$=this.loadingDeleteSubject.asObservable(),this.gearItems$=new h.a([]).asObservable(),this.updatedGearItems$=Object(y.a)([this.updateGearItemAction,this.gearItems$]).pipe(Object(m.a)((function(e){var t=_slicedToArray(e,1)[0];return i.loadingSubject.next(!0),i.updateGearItemAsync(t)})),Object(O.a)()),this.newLatestGearItems$=Object(y.a)([this.addGearItemAction,this.gearItems$]).pipe(Object(m.a)((function(e){var t=_slicedToArray(e,1)[0];return i.loadingSubject.next(!0),i.createGearItemAsync(t)})),Object(O.a)()),this.deleteGearItemsLatest$=Object(y.a)([this.deleteGearItemAction,this.gearItems$]).pipe(Object(m.a)((function(e){var t=_slicedToArray(e,1)[0];return i.deleteGearItemAsync(t)})),Object(O.a)())}return _createClass(e,[{key:"resolve",value:function(e,t){var n=this,r={headers:new f.e({"Content-Type":"application/json",Accept:"application/json"})};return this.gearItems$=this.http.get(this.merchandiseUrl,r).pipe(Object(k.a)((function(e){return(n.gearItems=e).reverse()})),Object(w.a)((function(){return n.router.navigate(["about"]),n.snackBarService.openSnackBarFromComponent("Error occured. Please come back later","Dismiss",C.a.Error),Object(I.a)([])})),Object(O.a)()),this.gearItems$}},{key:"onPageChange",value:function(){return this.pageChangeAction.next({})}},{key:"findGearItem",value:function(e){return this.gearItems$.pipe(Object(S.a)((function(t){return t.filter((function(t){return t.id===e}))})))}},{key:"updateGearItem",value:function(e){this.updateGearItemAction.next(e)}},{key:"updateGearItemAsync",value:function(e){var t=this;return null===e?Object(I.a)([]):Object(y.a)([this.gearItems$,this.http.patch("".concat(this.merchandiseUrl,"/").concat(e.id),e.formData)]).pipe(Object(k.a)((function(t){var n=_slicedToArray(t,2),r=n[0],a=n[1],i=r.map((function(e){return e.id})).indexOf(e.id);return i>-1&&r.splice(i,1,a),r})),Object(b.a)((function(n){t.loadingSubject.next(!1),t.snackBarService.openSnackBarFromComponent("Successfully updated ".concat(e.name),"Dismiss",C.a.Success)})),Object(b.a)((function(){return t.eventBus.emit(new _.a(d.b.CloseOpen,!0))})),Object(w.a)((function(){return t.loadingSubject.next(!1),t.snackBarService.openSnackBarFromComponent("Error occured updating ".concat(e.name),"Dismiss",C.a.Error),Object(I.a)([])})))}},{key:"createGearItem",value:function(e){this.addGearItemAction.next(e)}},{key:"createGearItemAsync",value:function(e){var t=this;return null===e?Object(I.a)([]):Object(y.a)([this.gearItems$,this.http.post("".concat(this.merchandiseUrl),e.formData)]).pipe(Object(k.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return n.unshift(r),n})),Object(b.a)((function(n){t.loadingSubject.next(!1),t.snackBarService.openSnackBarFromComponent("Successfully created ".concat(e.name),"Dismiss",C.a.Success)})),Object(b.a)((function(){return t.eventBus.emit(new _.a(d.b.CloseOpen,!0))})),Object(w.a)((function(){return t.loadingSubject.next(!1),t.snackBarService.openSnackBarFromComponent("Error occured creating ".concat(e.name),"Dismiss",C.a.Error),Object(I.a)([])})))}},{key:"deleteGearItem",value:function(e){this.deleteGearItemAction.next(e)}},{key:"deleteGearItemAsync",value:function(e){var t=this;return null===e?Object(I.a)([]):(this.eventBus.emit(new _.a(d.b.Loading,!0)),Object(y.a)([this.gearItems$,this.http.delete("".concat(this.merchandiseUrl,"/").concat(e.id))]).pipe(Object(k.a)((function(t){var n=_slicedToArray(t,1)[0],r=n.map((function(e){return e.id})).indexOf(e.id);return r>-1&&n.splice(r,1),n})),Object(b.a)((function(n){t.eventBus.emit(new _.a(d.b.Loading,!1)),t.snackBarService.openSnackBarFromComponent("Successfully deleted ".concat(e.name),"Dismiss",C.a.Success)})),Object(w.a)((function(n){return t.eventBus.emit(new _.a(d.b.Loading,!1)),t.snackBarService.openSnackBarFromComponent("Error occured deleting ".concat(e.name),"Dismiss",C.a.Error),Object(I.a)(null)}))))}}]),e}()).\u0275fac=function(e){return new(e||r)(x.cc(f.b),x.cc(C.b),x.cc(d.a),x.cc(P.d))},r.\u0275prov=x.Ob({token:r,factory:r.\u0275fac,providedIn:"root"}),r),Y=n("9JtH"),j=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isErrorState",value:function(e,t){return e&&e.invalid&&e.touched}}]),e}(),z=n("0IaG"),A=n("xHqg"),M=n("kmnG"),E=n("qFsG"),G=n("bTqV"),F=n("A5z7"),J=n("znSr"),q=n("1jcm"),T=n("bv9b"),L=n("NFeN"),N=((a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];n.name=n.name?n.name.slice(0,27):"placeholderImageName",e.splice(t,1,n)}return e}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275pipe=x.Rb({name:"gearImageView",type:a,pure:!1}),a);function D(e,t){1&e&&(x.Wb(0),x.Tb(1,"mat-progress-bar",26),x.Vb())}function $(e,t){1&e&&x.Jc(0,"Info")}function B(e,t){1&e&&x.Jc(0,"Details")}function H(e,t){if(1&e){var n=x.Zb();x.Wb(0),x.Yb(1,"mat-chip",27),x.gc("click",(function(e){x.Ac(n);var r=t.$implicit,a=x.kc();return r.controls.gearSize.value.available=!r.controls.gearSize.value.available,a.onSelectedChipSize()})),x.Jc(2),x.Xb(),x.Vb()}if(2&e){var r=t.$implicit,a=x.kc();x.Eb(1),x.qc("selected",r.controls.gearSize.value.available)("color",r.controls.gearSize.value.color),x.Eb(1),x.Lc("",a.sizeEnum[r.controls.gearSize.value.size]," ")}}function U(e,t){if(1&e){var n=x.Zb();x.Wb(0),x.Yb(1,"mat-chip",28),x.gc("removed",(function(e){x.Ac(n);var r=t.$implicit;return x.kc().onRemoveImage(r)})),x.Jc(2),x.Yb(3,"mat-icon",29),x.Jc(4,"cancel"),x.Xb(),x.Xb(),x.Vb()}if(2&e){var r=t.$implicit;x.Eb(1),x.qc("removable",!0),x.Eb(1),x.Lc("",r.name," ")}}var R,V,W,Z=function(e){return{"margin-bottom":e}},K=((V=function(){function e(t,n,r,a,i){_classCallCheck(this,e),this.fb=t,this.route=n,this.merchandiseService=r,this.dialogRef=a,this.eventBus=i,this.editMode=!1,this.selectedFileFormData=new FormData,this.gearItemImages=[],this.noSizesSelectedStateMatcher=new j,this.gearSizes=[],this.isInStock=!0,this.sizeEnum=p,this.isLoading$=this.merchandiseService.loading$,this.gearSizes=[].concat(g)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription=this.eventBus.on(d.b.CloseOpen,(function(t){t&&e.dialogRef.close()})),this.route.children[0].firstChild.children.filter((function(e){return e.outlet===Y.f})).map((function(t){return t.params.pipe(Object(m.a)((function(t){return e.editMode=void 0!==t.id,e.merchandiseService.findGearItem(+t.id)})),Object(b.a)((function(t){e.gearItem=u(t)}))).subscribe()})),this.initForm()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onSubmit",value:function(){var e=this.gearItemObjectForDelivery();this.editMode?this.merchandiseService.updateGearItem(e):this.merchandiseService.createGearItem(e)}},{key:"gearItemObjectForDelivery",value:function(){var e=this.editMode?this.gearItemImages.filter((function(e){return void 0!==e.id})):[],t={name:this.gearItemForm.value.name,price:this.gearItemForm.value.price,sizes:this.gearItemForm.value.sizes.gearSizesGroup.value.gearSizesArray.map((function(e){return e.gearSize})),inStock:this.gearItemForm.value.inStock,images:e};return this.editMode&&(t.id=this.gearItem.id),t.formData=this.selectedFileFormData,t.formData.append("gearItem",JSON.stringify(t)),t}},{key:"onSlideChange",value:function(){this.isInStock=!this.isInStock}},{key:"onSelectedChipSize",value:function(){this.gearItemForm.controls.sizes.updateValueAndValidity()}},{key:"onCancel",value:function(){this.dialogRef.close()}},{key:"onFileSelected",value:function(e){var t=e.target.files.length<3?e.target.files.length:3,n=e.target.files;if(3===this.gearItemImages.length){this.gearItemImages=_toConsumableArray(this.gearItemImages);for(var r=0;r<t;r++){this.gearItemImages.splice(r,1,{name:n[r].name,size:n[r].size,type:n[r].type,previewId:r});var a=n[r];a.previewId=r,this.selectedFileFormData.append(Y.c.GearImages,a)}}else if(this.gearItemImages.length>0&&this.gearItemImages.length<3){this.gearItemImages=_toConsumableArray(this.gearItemImages);for(var i=0;i<t;i++)if(this.gearItemImages.length<3){this.gearItemImages=[{name:n[i].name,size:n[i].size,type:n[i].type,previewId:i}].concat(_toConsumableArray(this.gearItemImages));var o=n[i];o.previewId=i,this.selectedFileFormData.append(Y.c.GearImages,o)}}else for(var c=0;c<t;c++){this.gearItemImages=[].concat(_toConsumableArray(this.gearItemImages),[{name:n[c].name,size:n[c].size,type:n[c].type,previewId:c}]);var s=n[c];s.previewId=c,this.selectedFileFormData.append(Y.c.GearImages,s)}}},{key:"onRemoveImage",value:function(e){var t=this,n=this.gearItemImages.map((function(e){return e.name})).indexOf(e.name);if(n>-1){this.gearItemImages.splice(n,1);var r=this.selectedFileFormData.getAll(Y.c.GearImages).filter((function(t){return t.previewId!==e.previewId}));this.selectedFileFormData=new FormData,r.forEach((function(e){t.selectedFileFormData.append(Y.c.GearImages,e)}))}}},{key:"hideIfEmpty",value:function(){if(void 0===this.gearItemImages&&(this.gearItemImages=[]),0===this.gearItemImages.length)return"0px"}},{key:"initForm",value:function(){var e="",t=null,n=this.gearSizes,r=[],a=this.isInStock;this.editMode&&(e=this.gearItem.name,t=this.gearItem.price,a=this.gearItem.inStock,r=this.gearItem.images,n=this.gearItem.sizes,this.gearItemImages=this.gearItem.images);for(var i=[],c=0;c<this.gearSizes.length;c++)i.push(this.fb.group({gearSize:this.fb.control(n[c])}));this.gearItemForm=this.fb.group({name:this.fb.control(e,o.v.required),price:this.fb.control(t,o.v.required),sizes:this.fb.control({gearSizesGroup:this.fb.group({gearSizesArray:this.fb.array(i)})},this.requireSize()),inStock:this.fb.control(a),images:this.fb.control(r)})}},{key:"requireSize",value:function(){return function(e){var t=e.value.gearSizesGroup.value.gearSizesArray.filter((function(e){return!0===e.gearSize.available}));return t.length>0?(e.markAsTouched(),null):{invalidSize:{value:t}}}}}]),e}()).\u0275fac=function(e){return new(e||V)(x.Sb(o.d),x.Sb(P.a),x.Sb(X),x.Sb(z.d),x.Sb(d.a))},V.\u0275cmp=x.Mb({type:V,selectors:[["app-merchandise-dialog"]],decls:57,vars:23,consts:[["mat-dialog-title","",1,"gear-item-title"],[4,"ngIf"],[3,"formGroup","ngSubmit"],["matStepLabel",""],["matInput","","placeholder","Name of the item","formControlName","name","cdkFocusInitial",""],["matInput","","type","number","placeholder","Price","formControlName","price",1,"right-align"],["matPrefix",""],["matSuffix",""],[1,"action-buttons"],["mat-raised-button","","color","warn","type","button",2,"margin-right","5px",3,"click"],["mat-raised-button","","color","accent","matStepperNext","","type","button"],["floatLabel","always"],[1,"placeholder"],["formControlName","sizes",3,"errorStateMatcher","multiple","selectable"],["chipList",""],[3,"formGroup"],["formArrayName","gearSizesArray",1,"mat-chip-list-container"],[4,"ngFor","ngForOf"],["id","imagesToUploadContainer"],["formControlName","images",1,"mat-chip-list-stacked","upload-image-chips",3,"ngStyle"],["formControlName","inStock","color","accent",2,"display","block",3,"labelPosition","change"],["mat-raised-button","","color","warn","matStepperPrevious","","type","button",2,"align-self","flex-end","margin-right","5px"],["mat-raised-button","","color","accent","type","button",1,"action-buttons",3,"click"],["type","file","multiple","multiple",2,"display","none",3,"change"],["fileUpload",""],["mat-raised-button","","color","accent",1,"post-button",2,"align-self","flex-end",3,"disabled"],["color","accent","mode","indeterminate"],[3,"selected","color","click"],[3,"removable","removed"],["matChipRemove",""]],template:function(e,t){if(1&e){var n=x.Zb();x.Yb(0,"h1",0),x.Jc(1),x.Xb(),x.Hc(2,D,2,0,"ng-container",1),x.lc(3,"async"),x.Yb(4,"form",2),x.gc("ngSubmit",(function(e){return t.onSubmit()})),x.Yb(5,"mat-horizontal-stepper"),x.Yb(6,"mat-step"),x.Hc(7,$,1,0,"ng-template",3),x.Yb(8,"mat-form-field"),x.Tb(9,"input",4),x.Yb(10,"mat-error"),x.Jc(11,"You must enter a "),x.Yb(12,"strong"),x.Jc(13,"name"),x.Xb(),x.Xb(),x.Xb(),x.Yb(14,"mat-form-field"),x.Tb(15,"input",5),x.Yb(16,"span",6),x.Jc(17,"$\xa0"),x.Xb(),x.Yb(18,"span",7),x.Jc(19,".00"),x.Xb(),x.Yb(20,"mat-error"),x.Jc(21,"You must enter a "),x.Yb(22,"strong"),x.Jc(23,"price"),x.Xb(),x.Xb(),x.Xb(),x.Yb(24,"div",8),x.Yb(25,"button",9),x.gc("click",(function(e){return t.onCancel()})),x.Jc(26," Cancel "),x.Xb(),x.Yb(27,"button",10),x.Jc(28," Next "),x.Xb(),x.Xb(),x.Xb(),x.Yb(29,"mat-step"),x.Hc(30,B,1,0,"ng-template",3),x.Yb(31,"mat-form-field",11),x.Yb(32,"mat-placeholder",12),x.Jc(33,"Gear sizes..."),x.Xb(),x.Yb(34,"mat-chip-list",13,14),x.Wb(36,15),x.Wb(37,16),x.Hc(38,H,3,3,"ng-container",17),x.Vb(),x.Vb(),x.Xb(),x.Yb(39,"mat-error"),x.Jc(40,"Please select a size"),x.Xb(),x.Xb(),x.Yb(41,"div",18),x.Yb(42,"mat-chip-list",19),x.Hc(43,U,5,2,"ng-container",17),x.lc(44,"gearImageView"),x.Xb(),x.Xb(),x.Yb(45,"mat-slide-toggle",20),x.gc("change",(function(e){return t.onSlideChange()})),x.Jc(46),x.Xb(),x.Yb(47,"div",8),x.Yb(48,"button",21),x.Jc(49," Back "),x.Xb(),x.Yb(50,"button",22),x.gc("click",(function(e){return x.Ac(n),x.xc(53).click()})),x.Jc(51," Images "),x.Xb(),x.Yb(52,"input",23,24),x.gc("change",(function(e){return t.onFileSelected(e)})),x.Xb(),x.Yb(54,"button",25),x.lc(55,"async"),x.Jc(56),x.Xb(),x.Xb(),x.Xb(),x.Xb(),x.Xb()}2&e&&(x.Eb(1),x.Lc(" ",t.editMode?"Edit Item":"New Gear","\n"),x.Eb(1),x.qc("ngIf",x.mc(3,15,t.isLoading$)),x.Eb(2),x.qc("formGroup",t.gearItemForm),x.Eb(30),x.qc("errorStateMatcher",t.noSizesSelectedStateMatcher)("multiple",!0)("selectable",!0),x.Eb(2),x.qc("formGroup",t.gearItemForm.controls.sizes.value.gearSizesGroup),x.Eb(2),x.qc("ngForOf",t.gearItemForm.controls.sizes.value.gearSizesGroup.controls.gearSizesArray.controls),x.Eb(3),x.qc("@imageUpload",t.gearItemImages.length),x.Eb(1),x.qc("ngStyle",x.tc(21,Z,t.hideIfEmpty())),x.Eb(1),x.qc("ngForOf",x.mc(44,17,t.gearItemImages)),x.Eb(2),x.qc("labelPosition","after"),x.Eb(1),x.Kc(t.isInStock?"In stock":"Out of stock"),x.Eb(8),x.qc("disabled",!t.gearItemForm.valid||x.mc(55,19,t.isLoading$)),x.Eb(2),x.Lc(" ",t.editMode?"Update":"Post"," "))},directives:[z.e,i.m,o.w,o.p,o.g,A.a,A.b,A.c,M.b,E.b,o.b,o.o,o.f,M.a,o.s,M.h,M.i,G.b,A.e,M.g,F.c,o.c,i.l,i.n,J.c,q.a,A.f,T.a,F.a,L.a,F.d],pipes:[i.b,N],styles:[".gear-item-title[_ngcontent-%COMP%]{padding-left:24px}.action-buttons[_ngcontent-%COMP%]{margin-top:15px;display:-webkit-box;display:flex}.action-buttons[_ngcontent-%COMP%]   .post-button[_ngcontent-%COMP%]{margin-left:auto}.mat-form-field[_ngcontent-%COMP%]{width:100%}#imagesToUploadContainer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:start;align-items:flex-start;flex-wrap:wrap;flex-flow:column;-webkit-box-pack:space-evenly;justify-content:space-evenly;margin-top:10px}.right-align[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]     .mat-horizontal-content-container{padding-left:0;padding-right:0;padding-bottom:24px}[_nghost-%COMP%]     .mat-form-field.mat-focused .mat-form-field-label{color:hsla(0,0%,100%,.7)}[_nghost-%COMP%]     .mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:auto}.upload-image-chips[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]     #imagesToUploadContainer mat-form-field div:nth-child(2){display:none}mat-slide-toggle[_ngcontent-%COMP%]{padding-left:10px;display:inline-block!important}[_nghost-%COMP%]     .mat-horizontal-content-container{padding-bottom:0!important}"],data:{animation:[Object(l.o)("imageUpload",[Object(l.n)("* => *",[Object(l.i)(":enter",[Object(l.m)({opacity:0,transform:"translateY(-100%)"}),Object(l.k)(290,[Object(l.e)(".3s ease-in-out",Object(l.m)({opacity:1,transform:"translateY(-3%)"}))])],{optional:!0}),Object(l.i)(":leave",[Object(l.m)({opacity:1,transform:"translateX(0)"}),Object(l.e)(".3s cubic-bezier(.34,-0.39,.7,1.5)",Object(l.m)({opacity:0,transform:"translateX(-30%)"}))],{optional:!0})])])]}}),V),Q=((R=function(e){function t(e,n,r,a){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,r,a))).preOrderAction=new v.a,i.preOrder$=i.preOrderAction.asObservable().pipe(Object(m.a)((function(e){return i.preOrderGearItemAsync(e)}))),i.headers={headers:new f.e({"Content-Type":"application/json"})},i}return _inherits(t,e),_createClass(t,[{key:"preOrderGearItem",value:function(e){this.preOrderAction.next(e)}},{key:"preOrderGearItemAsync",value:function(e){var t=this;return this.loadingSubject.next(!0),this.http.post("".concat(this.merchandiseUrl,"/").concat(e.gearItemId,"/pre-order"),JSON.stringify(e),this.headers).pipe(Object(b.a)((function(){return t.loadingSubject.next(!1)})),Object(w.a)((function(e){return t.loadingSubject.next(!1),t.snackBarService.openSnackBarFromComponent("Error occured submitting the pre-order","Dismiss",C.a.Error),Object(I.a)(null)})))}}]),t}(X)).\u0275fac=function(e){return new(e||R)(x.cc(f.b),x.cc(C.b),x.cc(d.a),x.cc(P.d))},R.\u0275prov=x.Ob({token:R,factory:R.\u0275fac,providedIn:"root"}),R),ee=n("d3UM"),te=n("FKr1"),ne=n("QibW"),re=((W=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return e.filter((function(e){return e.available}))}}]),e}()).\u0275fac=function(e){return new(e||W)},W.\u0275pipe=x.Rb({name:"filteredGearSizes",type:W,pure:!0}),W);function ae(e,t){1&e&&(x.Wb(0),x.Tb(1,"mat-progress-bar",27),x.Vb())}function ie(e,t){if(1&e&&(x.Yb(0,"mat-option",28),x.Jc(1),x.Xb()),2&e){var n=t.$implicit,r=x.kc(2);x.qc("value",n.size),x.Eb(1),x.Lc(" ",r.sizeEnum[n.size]," ")}}function oe(e,t){if(1&e){var n=x.Zb();x.Wb(0),x.Hc(1,ae,2,0,"ng-container",3),x.lc(2,"async"),x.Yb(3,"form",4),x.gc("ngSubmit",(function(e){return x.Ac(n),x.kc().onSubmit()})),x.Yb(4,"mat-horizontal-stepper"),x.Yb(5,"mat-step"),x.Yb(6,"mat-form-field"),x.Tb(7,"input",5),x.Yb(8,"mat-error"),x.Jc(9,"You must provide"),x.Yb(10,"strong"),x.Jc(11,"First Name"),x.Xb(),x.Xb(),x.Xb(),x.Yb(12,"mat-form-field"),x.Tb(13,"input",6),x.Yb(14,"mat-error"),x.Jc(15,"You must provide "),x.Yb(16,"strong"),x.Jc(17,"Last Name"),x.Xb(),x.Xb(),x.Xb(),x.Yb(18,"div",7),x.Yb(19,"button",8),x.gc("click",(function(e){return x.Ac(n),x.kc().onCancel()})),x.Jc(20," Cancel "),x.Xb(),x.Yb(21,"button",9),x.Jc(22," Next "),x.Xb(),x.Xb(),x.Xb(),x.Yb(23,"mat-step"),x.Yb(24,"mat-form-field"),x.Tb(25,"input",10),x.Yb(26,"mat-error"),x.Jc(27,"You must provide a "),x.Yb(28,"strong"),x.Jc(29,"Phone Number"),x.Xb(),x.Xb(),x.Xb(),x.Yb(30,"mat-form-field"),x.Tb(31,"input",11),x.Yb(32,"mat-error"),x.Jc(33,"You must provide an "),x.Yb(34,"strong"),x.Jc(35,"E-mail"),x.Xb(),x.Jc(36," address"),x.Xb(),x.Xb(),x.Yb(37,"div",7),x.Yb(38,"button",12),x.Jc(39,"Back"),x.Xb(),x.Yb(40,"button",9),x.Jc(41," Next "),x.Xb(),x.Xb(),x.Xb(),x.Yb(42,"mat-step"),x.Yb(43,"div",13),x.Yb(44,"mat-form-field",14),x.Yb(45,"mat-placeholder",15),x.Jc(46,"Select Your Size"),x.Xb(),x.Yb(47,"mat-select",16),x.Yb(48,"mat-option"),x.Jc(49,"--"),x.Xb(),x.Hc(50,ie,2,2,"mat-option",17),x.lc(51,"filteredGearSizes"),x.Xb(),x.Yb(52,"mat-error"),x.Jc(53,"You must select a "),x.Yb(54,"strong"),x.Jc(55,"size"),x.Xb(),x.Xb(),x.Xb(),x.Yb(56,"mat-form-field"),x.Tb(57,"input",18),x.Yb(58,"mat-error"),x.Jc(59,"You must specify "),x.Yb(60,"strong"),x.Jc(61,"quantity"),x.Xb(),x.Xb(),x.Xb(),x.Xb(),x.Yb(62,"div",19),x.Yb(63,"mat-placeholder",15),x.Jc(64,"Preferred Contact:"),x.Xb(),x.Xb(),x.Yb(65,"div",20),x.Yb(66,"mat-radio-group",21),x.Yb(67,"mat-radio-button",22),x.Jc(68,"Text/Call"),x.Xb(),x.Yb(69,"mat-radio-button",23),x.Jc(70,"Email"),x.Xb(),x.Xb(),x.Xb(),x.Yb(71,"div",7),x.Yb(72,"button",24),x.Jc(73," Back "),x.Xb(),x.Yb(74,"button",25),x.gc("click",(function(e){return x.Ac(n),x.kc().onCancel()})),x.Jc(75," Cancel "),x.Xb(),x.Yb(76,"button",26),x.lc(77,"async"),x.Jc(78," Order! "),x.Xb(),x.Xb(),x.Xb(),x.Xb(),x.Xb(),x.Vb()}if(2&e){var r=x.kc();x.Eb(1),x.qc("ngIf",x.mc(2,5,r.isLoading$)),x.Eb(2),x.qc("formGroup",r.preOrderForm),x.Eb(47),x.qc("ngForOf",x.mc(51,7,r.gearItem.sizes)),x.Eb(17),x.qc("checked",!0),x.Eb(9),x.qc("disabled",!r.preOrderForm.valid||x.mc(77,9,r.isLoading$))}}function ce(e,t){1&e&&x.Jc(0,"Order Summary")}function se(e,t){if(1&e){var n=x.Zb();x.Yb(0,"mat-horizontal-stepper"),x.Yb(1,"mat-step"),x.Hc(2,ce,1,0,"ng-template",29),x.Yb(3,"div"),x.Jc(4),x.Xb(),x.Yb(5,"div",7),x.Yb(6,"button",30),x.gc("click",(function(e){return x.Ac(n),x.kc().onCancel()})),x.Jc(7," Complete "),x.Xb(),x.Xb(),x.Xb(),x.Xb()}if(2&e){var r=x.kc();x.Eb(4),x.Nc(" Thank you for your pre-order. You have pre-ordered ",r.preOrderForm.get("orderDetails").value.quantity," ",r.gearItem.name," for $",r.gearItem.price," each. Your total is $",r.computeTotalPrice(),". We will be sending you a confirmation e-mail shortly. ")}}var le,ue,me,be,pe,ge=((me=function(){function e(t,n,r,a,i){_classCallCheck(this,e),this.fb=t,this.dialogRef=n,this.route=r,this.merchandiseService=a,this.preOrderService=i,this.preOrderForm=this.fb.group({firstName:this.fb.control(null,o.v.required),lastName:this.fb.control(null,o.v.required),phoneNumber:this.fb.control(null,[o.v.required,o.v.pattern("[0-9]{0,10}")]),email:this.fb.control(null,[o.v.required,o.v.email]),orderDetails:this.fb.group({quantity:this.fb.control(1,o.v.required),size:this.fb.control(null,o.v.required)}),contactPreference:this.fb.group({cellOrEmail:this.fb.control(1)})}),this.sizeEnum=p,this.preOrderdItem$=this.preOrderService.preOrder$,this.isLoading$=this.preOrderService.loading$}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.children[0].firstChild.children.filter((function(e){return e.outlet===Y.f})).map((function(t){return t.params.pipe(Object(m.a)((function(t){return e.merchandiseService.findGearItem(+t.id)})),Object(b.a)((function(t){e.gearItem=u(t)}))).subscribe()}))}},{key:"onSubmit",value:function(){this.preOrderService.preOrderGearItem({quantity:this.preOrderForm.value.orderDetails.quantity,size:this.preOrderForm.value.orderDetails.size,gearItemId:this.gearItem.id,contact:{firstName:this.preOrderForm.value.firstName,lastName:this.preOrderForm.value.lastName,email:this.preOrderForm.value.email,phoneNumber:this.preOrderForm.value.phoneNumber,preferredContact:+this.preOrderForm.value.contactPreference.cellOrEmail}})}},{key:"computeTotalPrice",value:function(){return this.gearItem.price*this.preOrderForm.value.orderDetails.quantity}},{key:"onCancel",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||me)(x.Sb(o.d),x.Sb(z.d),x.Sb(P.a),x.Sb(X),x.Sb(Q))},me.\u0275cmp=x.Mb({type:me,selectors:[["app-merchandise-pre-order-dialog"]],features:[x.Db([Q])],decls:6,vars:5,consts:[["mat-dialog-title","",1,"gear-item-title"],[4,"ngIf","ngIfElse"],["finalizeOrder",""],[4,"ngIf"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","First Name","formControlName","firstName","cdkFocusInitial",""],["matInput","","placeholder","Last Name","formControlName","lastName"],[1,"action-buttons"],["mat-raised-button","","color","warn","type","button",2,"margin-right","5px",3,"click"],["mat-raised-button","","color","accent","matStepperNext","","type","button"],["matInput","","type","number","maxlength","10","minlength","10","placeholder","Phone Number","formControlName","phoneNumber"],["matInput","","type","email","placeholder","E-mail","formControlName","email"],["mat-raised-button","","matStepperPrevious","","color","warn",2,"margin-right","5px"],["formGroupName","orderDetails"],["floatLabel","always"],[1,"placeholder"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number","placeholder","Quantity","formControlName","quantity"],["id","preferred-contact-lable"],["formGroupName","contactPreference",1,"contact-preference"],["formControlName","cellOrEmail","aria-label","Select an option"],["value","1",3,"checked"],["value","2"],["mat-raised-button","","color","accent","matStepperPrevious","","type","button",2,"align-self","flex-end","margin-right","5px"],["mat-raised-button","","color","warn","type","button",1,"action-buttons",3,"click"],["mat-raised-button","","color","accent",1,"post-button",2,"align-self","flex-end",3,"disabled"],["color","accent","mode","indeterminate"],[3,"value"],["matStepLabel",""],["mat-raised-button","","color","accent",1,"post-button",2,"align-self","flex-end",3,"click"]],template:function(e,t){if(1&e&&(x.Yb(0,"h1",0),x.Jc(1),x.Xb(),x.Hc(2,oe,79,11,"ng-container",1),x.lc(3,"async"),x.Hc(4,se,8,4,"ng-template",null,2,x.Ic)),2&e){var n=x.xc(5);x.Eb(1),x.Lc(" Pre-Order for ",t.gearItem.name,"\n"),x.Eb(1),x.qc("ngIf",!x.mc(3,3,t.preOrderdItem$))("ngIfElse",n)}},directives:[z.e,i.m,o.w,o.p,o.g,A.a,A.b,M.b,E.b,o.b,o.o,o.f,M.a,G.b,A.e,o.s,o.j,o.k,A.f,o.h,M.g,ee.a,te.n,i.l,ne.b,ne.a,T.a,A.c],pipes:[i.b,re],styles:[".gear-item-title[_ngcontent-%COMP%]{padding-left:24px}.action-buttons[_ngcontent-%COMP%]{margin-top:15px;display:-webkit-box;display:flex}.action-buttons[_ngcontent-%COMP%]   .post-button[_ngcontent-%COMP%]{margin-left:auto}.mat-form-field[_ngcontent-%COMP%]{width:100%}#imagesToUploadContainer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:start;align-items:flex-start;flex-wrap:wrap;flex-flow:column;-webkit-box-pack:space-evenly;justify-content:space-evenly;margin-top:10px}.right-align[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]     .mat-horizontal-content-container{padding-left:0;padding-right:0;padding-bottom:24px}[_nghost-%COMP%]     .mat-form-field.mat-focused .mat-form-field-label{color:hsla(0,0%,100%,.7)}[_nghost-%COMP%]     .mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:auto}.upload-image-chips[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]     #imagesToUploadContainer mat-form-field div:nth-child(2){display:none}mat-slide-toggle[_ngcontent-%COMP%]{padding-left:10px;display:inline-block!important}[_nghost-%COMP%]     .mat-horizontal-content-container{padding-bottom:0!important}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}.contact-preference[_ngcontent-%COMP%]{margin-left:10px}#preferred-contact-lable[_ngcontent-%COMP%]{margin-bottom:7px}"],changeDetection:0}),me),de=((ue=function(){function e(t,n){_classCallCheck(this,e),this.router=t,this.route=n,this.component=K}return _createClass(e,[{key:"openMerchandiseDialog",value:function(e){var t=this;this.component=this.router.url.includes("pre-order")?ge:K,e.open(this.component,{width:"90%",maxWidth:"450px"}).afterClosed().subscribe((function(){t.router.navigate(["merchandise"],{relativeTo:t.route})}))}}]),e}()).\u0275fac=function(e){return new(e||ue)(x.cc(P.d),x.cc(P.a))},ue.\u0275prov=x.Ob({token:ue,factory:ue.\u0275fac}),ue),fe=((le=function(){function e(t,n){_classCallCheck(this,e),this.merchandiseDialogService=t,this.dialog=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout((function(){e.merchandiseDialogService.openMerchandiseDialog(e.dialog)}))}}]),e}()).\u0275fac=function(e){return new(e||le)(x.Sb(de),x.Sb(z.b))},le.\u0275cmp=x.Mb({type:le,selectors:[["app-merchandise-dialog-container"]],decls:0,vars:0,template:function(e,t){},styles:["mat-horizontal-stepper.mat-horizontal-content-container[_ngcontent-%COMP%]{padding:0 0 24px!important}"]}),le),he=n("Kqap"),ve=n("0aut"),ye=n("RL7/"),Ie=n("KXBU"),Oe=((be=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getRemovedStoreItem",value:function(e,t){for(var n=null,r=0;r<t.length;r++){var a=t[r];-1===e.indexOf(a)&&(n=a)}return n}},{key:"getPagedItems",value:function(e,t,n,r,a){if(0===a.length)return e.slice(0,r);if(e.length===a.length){var i=[];return e.filter((function(e){n.map((function(t){t.id===e.id&&i.push(e)}))})),i}if(e.length>a.length)return a.firstPage(),e.slice(0,r);if(n.length>0&&t.length>r){if(e.length<t.length){var o=this.getRemovedStoreItem(e,t);if(n.length>1){var c=n.indexOf(o),s=_toConsumableArray(n);if(s.splice(c,1),!a.hasNextPage())return s;if(a.hasNextPage()){if(e.length===n.length)return e;var l=t.indexOf(o);return s.splice(n.length-1,0,e[l-1+(r-c)]),s}}else{if(e.length<=r)return a.firstPage(),e.slice(0,e.length);if(!a.hasNextPage()&&a.hasPreviousPage())return a.previousPage(),e.slice(e.length-r)}}}else if(!a.hasNextPage()&&!a.hasPreviousPage())return e}}]),e}()).\u0275fac=function(e){return new(e||be)},be.\u0275prov=x.Ob({token:be,factory:be.\u0275fac}),be),ke=n("M9IT"),we=n("vxfF"),Se=((pe=function(){function e(){_classCallCheck(this,e),this.setVHFunc=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}}return _createClass(e,[{key:"onResize",value:function(){this.setVHFunc()}},{key:"ngOnInit",value:function(){this.setVHFunc()}}]),e}()).\u0275fac=function(e){return new(e||pe)},pe.\u0275dir=x.Nb({type:pe,selectors:[["","appIosVH",""]],hostBindings:function(e,t){1&e&&x.gc("resize",(function(e){return t.onResize(e)}),!1,x.zc)}}),pe),Ce=n("XGsO"),_e=n("Wp6s"),xe=n("YBOo");function Pe(e,t){if(1&e&&(x.Yb(0,"mat-chip",11),x.Jc(1),x.Xb()),2&e){var n=x.kc().$implicit,r=x.kc();x.Eb(1),x.Lc(" ",r.sizes[n.size]," ")}}function Xe(e,t){if(1&e&&(x.Wb(0),x.Hc(1,Pe,2,1,"mat-chip",10),x.Vb()),2&e){var n=t.$implicit;x.Eb(1),x.qc("ngIf",n.available)}}function Ye(e,t){if(1&e){var n=x.Zb();x.Wb(0),x.Yb(1,"button",12),x.gc("click",(function(e){return x.Ac(n),x.kc(2).onEditGearItem()})),x.Jc(2," EDIT "),x.Xb(),x.Yb(3,"button",13),x.gc("click",(function(e){return x.Ac(n),x.kc(2).onDeleteGearItem()})),x.Jc(4," DELETE "),x.Xb(),x.Vb()}}function je(e,t){if(1&e&&(x.Wb(0),x.Hc(1,Ye,5,0,"ng-container",8),x.Vb()),2&e){var n=x.kc();x.Eb(1),x.qc("ngIf",n.isAdmin)}}var ze,Ae=[{width:"360px",height:"400px",imageAnimation:Ce.a.Zoom,thumbnails:!1,previewSwipe:!0,imageSwipe:!0,imageArrowsAutoHide:!0,previewAutoPlayInterval:4e3,imageAutoPlayInterval:4e3,previewCloseOnClick:!0,previewCloseOnEsc:!0,previewKeyboardNavigation:!0,previewInfinityMove:!0,imageInfinityMove:!0,previewZoom:!0,imageAutoPlay:!0,imageAutoPlayPauseOnHover:!0,previewAutoPlay:!0,previewAutoPlayPauseOnHover:!0,imageBullets:!0,lazyLoading:!0},{breakpoint:800,width:"100%",height:"360px",imagePercent:80,thumbnailsPercent:20,thumbnailsMargin:20,thumbnailMargin:20},{breakpoint:400,preview:!1,height:"260px"}],Me=((ze=function(){function e(t,n,r,a){_classCallCheck(this,e),this.router=t,this.route=n,this.merchandiseService=r,this.authService=a,this.sizes=p,this.galleryOptions=Ae,this.routeAnimationsElements=ve.a}return _createClass(e,[{key:"ngOnInit",value:function(){console.log("gearItem",this.gearItem)}},{key:"onEditGearItem",value:function(){this.router.navigate([{outlets:{modal:[this.gearItem.id,"edit"]}}],{relativeTo:this.route})}},{key:"onPreOrderGearItem",value:function(){this.router.navigate([{outlets:{modal:[this.gearItem.id,"pre-order"]}}],{relativeTo:this.route})}},{key:"onDeleteGearItem",value:function(){this.merchandiseService.deleteGearItem(this.gearItem)}}]),e}()).\u0275fac=function(e){return new(e||ze)(x.Sb(P.d),x.Sb(P.a),x.Sb(X),x.Sb(ye.a))},ze.\u0275cmp=x.Mb({type:ze,selectors:[["app-merchandise-item"]],inputs:{gearItem:"gearItem",isAdmin:"isAdmin"},decls:26,vars:13,consts:[[1,"gear-item",3,"ngClass"],["mat-card-image",""],[3,"ngxGalleryOptions","images"],[1,"gear-sizes"],[1,"sizes"],[3,"selectable"],[4,"ngFor","ngForOf"],[1,"price"],[4,"ngIf"],["id","pre-order","mat-raised-button","","color","accent",3,"click"],["id","chip",4,"ngIf"],["id","chip"],["id","edit","mat-raised-button","","color","accent",3,"click"],["id","delete","mat-raised-button","","color","warn",3,"click"]],template:function(e,t){1&e&&(x.Yb(0,"mat-card",0),x.Yb(1,"mat-card-header"),x.Yb(2,"mat-card-title"),x.Yb(3,"div"),x.Yb(4,"h3"),x.Jc(5),x.Xb(),x.Xb(),x.Xb(),x.Yb(6,"mat-card-subtitle"),x.Yb(7,"div"),x.Jc(8),x.Xb(),x.Xb(),x.Xb(),x.Yb(9,"div",1),x.Tb(10,"app-gallery-viewer",2),x.Xb(),x.Yb(11,"mat-card-content"),x.Yb(12,"div"),x.Yb(13,"div",3),x.Yb(14,"span",4),x.Jc(15,"Available Sizes:"),x.Xb(),x.Tb(16,"br"),x.Yb(17,"mat-chip-list",5),x.Hc(18,Xe,2,1,"ng-container",6),x.Xb(),x.Xb(),x.Yb(19,"h2",7),x.Jc(20),x.Xb(),x.Xb(),x.Xb(),x.Yb(21,"mat-card-actions"),x.Hc(22,je,2,1,"ng-container",8),x.lc(23,"async"),x.Yb(24,"button",9),x.gc("click",(function(e){return t.onPreOrderGearItem()})),x.Jc(25," PRE-ORDER "),x.Xb(),x.Xb(),x.Xb()),2&e&&(x.Ib("mat-elevation-z7",!0),x.qc("ngClass",t.routeAnimationsElements),x.Eb(5),x.Lc(" ",t.gearItem.name," "),x.Eb(3),x.Lc(" ",t.gearItem.inStock?"In stock":"Out of stock"," "),x.Eb(2),x.qc("ngxGalleryOptions",t.galleryOptions)("images",t.gearItem.images),x.Eb(7),x.qc("selectable",!1),x.Eb(1),x.qc("ngForOf",t.gearItem.sizes),x.Eb(2),x.Lc("$",t.gearItem.price,""),x.Eb(2),x.qc("ngIf",x.mc(23,11,t.authService.isLoggedIn$)))},directives:[_e.a,i.k,J.a,_e.e,_e.i,_e.h,_e.f,xe.a,_e.d,F.c,i.l,_e.b,i.m,G.b,F.a],pipes:[i.b],styles:["[_nghost-%COMP%]{margin:0 4px}.gear-item[_ngcontent-%COMP%]{margin:1.5rem 0;box-sizing:border-box;position:relative;top:0;width:300px;-webkit-transition:top .3s ease;transition:top .3s ease}@media(min-width:375px){.gear-item[_ngcontent-%COMP%]{width:360px}}.sizes[_ngcontent-%COMP%],   app-gallery-viewer>ngx-gallery{display:inline-block}.sizes[_ngcontent-%COMP%]{margin-bottom:8px}.price[_ngcontent-%COMP%]{margin-top:8px}.gear-item[_ngcontent-%COMP%]:hover{top:-10px}#delete[_ngcontent-%COMP%]{margin-right:0!important}"]}),ze),Ee=["gearUp"],Ge=["paginator"];function Fe(e,t){if(1&e){var n=x.Zb();x.Yb(0,"div",18),x.Yb(1,"span"),x.Jc(2,"As an admin you can modify your inventory here"),x.Xb(),x.Yb(3,"button",19),x.gc("click",(function(e){return x.Ac(n),x.kc(2).onAddGearItems()})),x.Jc(4," Upload Gear "),x.Xb(),x.Xb()}}function Je(e,t){if(1&e&&(x.Wb(0),x.Hc(1,Fe,5,0,"div",17),x.Vb()),2&e){var n=x.kc();x.Eb(1),x.qc("ngIf",n.isAdmin)}}function qe(e,t){if(1&e&&(x.Wb(0),x.Tb(1,"app-merchandise-item",21),x.Vb()),2&e){var n=t.$implicit,r=x.kc(2);x.Eb(1),x.qc("isAdmin",r.isAdmin)("gearItem",n)}}function Te(e,t){if(1&e&&(x.Wb(0),x.Hc(1,qe,2,2,"ng-container",20),x.Vb()),2&e){var n=t.ngIf;x.Eb(1),x.qc("ngForOf",n)}}var Le,Ne,De=function(e){return{marginTop:e}},$e=[{path:"",component:(Le=function(){function e(t,n,r,a,i,o,c,s){var l=this;_classCallCheck(this,e),this.merchandiseService=t,this.router=n,this.eventbus=r,this.route=a,this.scroll=i,this.paginatorService=o,this.deviceInfo=c,this.authService=s,this.routeAnimationsElements=ve.a,this.gearItems=[],this.pagedGearItems=[],this.breakpoint=3,this.length=0,this.pageSize=6,this.pageSizeOptions=[6,12,18,24],this.isSticky=!1,this.isAdmin=!1,this.gearItems$=Object(y.a)([this.merchandiseService.gearItems$,this.merchandiseService.updatedGearItems$,this.merchandiseService.newLatestGearItems$,this.merchandiseService.deleteGearItemsLatest$,this.merchandiseService.pageChangeAction]).pipe(Object(k.a)((function(e){var t=_slicedToArray(e,1)[0];console.log("gearItems",t);var n=l.paginatorService.getPagedItems(_toConsumableArray(t),_toConsumableArray(l.gearItems),_toConsumableArray(l.pagedGearItems),l.pageSize,l.paginator);return l.length=t.length,l.gearItems=_toConsumableArray(t),l.pagedGearItems=n,l.pagedGearItems})))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.isAdmin=this.route.snapshot.data.roles.includes(Y.g.Admin),this.eventbus.emit(new _.a(d.b.StickyHeader,this.isSticky)),this.scrollingSubscription=this.scroll.scrolled().pipe(Object(he.a)((function(e,t){var n=t.getElementRef().nativeElement.scrollTop;return e.push(n),e.slice(e.length-2)}),new Array)).subscribe((function(t){e.onWindowScroll(t)}))}},{key:"ngOnDestroy",value:function(){this.eventbus.emit(new _.a(d.b.StickyHeader,!this.isSticky)),this.eventbus.emit(new _.a(d.b.HideToolbar,!1)),this.scrollingSubscription.unsubscribe()}},{key:"onWindowScroll",value:function(e){var t=e[e.length-1]||0;t<(e[e.length-2]||0)?this.eventbus.emit(new _.a(d.b.HideToolbar,!1)):t>280?this.eventbus.emit(new _.a(d.b.HideToolbar,!0)):t<280&&this.eventbus.emit(new _.a(d.b.HideToolbar,!1))}},{key:"onArrowClick",value:function(){this.merchandiseCards.nativeElement.scrollIntoView({behavior:"smooth"})}},{key:"onAddGearItems",value:function(){this.router.navigate([{outlets:{modal:["new"]}}],{relativeTo:this.route})}},{key:"OnPageChange",value:function(e){this.pageEvent=new ke.c,this.pageSize=e.pageSize;var t=e.pageIndex*e.pageSize,n=t+e.pageSize;n>this.length&&(n=this.length),this.pagedGearItems=this.gearItems.slice(t,n),this.merchandiseService.onPageChange()}},{key:"onResize",value:function(e){this.breakpoint=e.target.innerWidth<=800?1:3}}]),e}(),Le.\u0275fac=function(e){return new(e||Le)(x.Sb(X),x.Sb(P.d),x.Sb(d.a),x.Sb(P.a),x.Sb(we.b),x.Sb(Oe),x.Sb(Ie.a),x.Sb(ye.a))},Le.\u0275cmp=x.Mb({type:Le,selectors:[["app-merchandise-list"]],viewQuery:function(e,t){var n;1&e&&(x.Pc(Ee,!0),x.Fc(Ge,!0)),2&e&&(x.wc(n=x.hc())&&(t.merchandiseCards=n.first),x.wc(n=x.hc())&&(t.paginator=n.first))},features:[x.Db([Oe])],decls:22,vars:14,consts:[[3,"ngStyle"],[1,"background"],[1,"gradient"],[1,"container"],["appIosVH","",1,"gradient-2",3,"ngClass"],[2,"height","350px"],["cdkScrollable","","id","arrow-wrapper"],[1,"arrow-border",3,"click"],[1,"arrow","down"],[1,"pulse"],[2,"padding","0 10px"],[1,"heading","mat-display-2"],["gearUp",""],[4,"ngIf"],[1,"merchandise-cards"],[3,"length","pageSize","pageSizeOptions","showFirstLastButtons","page","resize"],["paginator",""],["class","admin",4,"ngIf"],[1,"admin"],["mat-raised-button","","color","accent","type","button",3,"click"],[4,"ngFor","ngForOf"],[1,"list-item",3,"isAdmin","gearItem"]],template:function(e,t){1&e&&(x.Yb(0,"div",0),x.Yb(1,"div",1),x.Yb(2,"div",2),x.Tb(3,"div",3),x.Xb(),x.Yb(4,"div",4),x.Yb(5,"div",3),x.Tb(6,"div",5),x.Xb(),x.Xb(),x.Yb(7,"div",6),x.Yb(8,"div",7),x.gc("click",(function(e){return t.onArrowClick()})),x.Tb(9,"div",8),x.Tb(10,"div",9),x.Xb(),x.Xb(),x.Xb(),x.Yb(11,"div",10),x.Yb(12,"h2",11,12),x.Jc(14," The P League Collection "),x.Xb(),x.Hc(15,Je,2,1,"ng-container",13),x.lc(16,"async"),x.Yb(17,"div",14),x.Hc(18,Te,2,1,"ng-container",13),x.lc(19,"async"),x.Xb(),x.Yb(20,"mat-paginator",15,16),x.gc("page",(function(e){return t.OnPageChange(e)}))("resize",(function(e){return t.onResize(e)}),!1,x.zc),x.Xb(),x.Xb(),x.Xb()),2&e&&(x.qc("ngStyle",x.tc(12,De,t.isSticky?"50px":"0")),x.Eb(4),x.qc("ngClass",t.deviceInfo.mobile?"mobile-img":"parallax"),x.Eb(11),x.qc("ngIf",x.mc(16,8,t.authService.isLoggedIn$)),x.Eb(3),x.qc("ngIf",x.mc(19,10,t.gearItems$)),x.Eb(2),x.qc("length",t.length)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions)("showFirstLastButtons",!0))},directives:[i.n,J.c,Se,i.k,J.a,i.m,ke.a,G.b,i.l,Me],pipes:[i.b],styles:['mat-paginator[_ngcontent-%COMP%]{margin:1.5rem 0 1rem}.heading[_ngcontent-%COMP%]{text-align:center;letter-spacing:.05rem;line-height:1.4;font-weight:400;text-transform:uppercase;font-style:normal}.admin[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%;flex-wrap:wrap;-webkit-box-pack:space-evenly;justify-content:space-evenly}.admin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .admin[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{align-self:center}.admin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:16px}.merchandise-cards[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;flex-wrap:wrap;-webkit-box-pack:space-evenly;justify-content:space-evenly;-webkit-box-align:start;align-items:flex-start}.background[_ngcontent-%COMP%]{padding:0;position:relative}.background[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;bottom:0;right:0;opacity:.7;content:"";z-index:0}.background[_ngcontent-%COMP%]   .mobile-img[_ngcontent-%COMP%], .background[_ngcontent-%COMP%]   .parallax[_ngcontent-%COMP%]{background:url(https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_10/v1581278138/movies-place/merchandise_welcome.jpg);background:-webkit-image-set(url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_10/v1581278138/movies-place/merchandise_welcome.jpg") 1x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_20/v1581278138/movies-place/merchandise_welcome.jpg") 2x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_30/v1581278138/movies-place/merchandise_welcome.jpg") 3x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_50/v1581278138/movies-place/merchandise_welcome.jpg") 4x) no-repeat top;background-image:-webkit-image-set(url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_10/v1581278138/movies-place/merchandise_welcome.jpg") 1x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_20/v1581278138/movies-place/merchandise_welcome.jpg") 2x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_30/v1581278138/movies-place/merchandise_welcome.jpg") 3x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_50/v1581278138/movies-place/merchandise_welcome.jpg") 4x) no-repeat center top;background-image:image-set(url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_10/v1581278138/movies-place/merchandise_welcome.jpg") 1x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_20/v1581278138/movies-place/merchandise_welcome.jpg") 2x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_30/v1581278138/movies-place/merchandise_welcome.jpg") 3x,url("https://res.cloudinary.com/dwsvaiiox/image/upload/f_auto,q_50/v1581278138/movies-place/merchandise_welcome.jpg") 4x) no-repeat center top;height:100vh;height:calc(var(--vh, 1vh)*100);transform:translatez(0);-webkit-transform:translatez(0);background-position:50%;background-repeat:no-repeat;background-size:cover}.background[_ngcontent-%COMP%]   .mobile-img[_ngcontent-%COMP%]{background-attachment:scroll}.background[_ngcontent-%COMP%]   .gradient[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;bottom:51%;right:0;content:"";z-index:0}.background[_ngcontent-%COMP%]   .gradient-2[_ngcontent-%COMP%]:before{position:absolute;top:51%;left:0;bottom:0;right:0;content:"";z-index:0}.background[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto;max-width:100%}#arrow-wrapper[_ngcontent-%COMP%]{width:60px;height:60px;display:block;position:absolute;left:50%;margin:0 auto 0 -30px;cursor:pointer;bottom:15px}.arrow-border[_ngcontent-%COMP%]{position:relative}.arrow-border[_ngcontent-%COMP%], .pulse[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%}.pulse[_ngcontent-%COMP%]{position:absolute;margin:0;-webkit-animation:pulsate 2s ease-out;animation:pulsate 2s ease-out;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;opacity:0;box-shadow:0 0 1px 2px #89849b;-webkit-animation-delay:2s;animation-delay:2s}@-webkit-keyframes pulsate{0%{-webkit-transform:scale(.9);transform:scale(.9);opacity:0}50%{opacity:1}to{-webkit-transform:scale(1.3);transform:scale(1.3);opacity:0}}@keyframes pulsate{0%{-webkit-transform:scale(.9);transform:scale(.9);opacity:0}50%{opacity:1}to{-webkit-transform:scale(1.3);transform:scale(1.3);opacity:0}}.down[_ngcontent-%COMP%]{-webkit-transform:rotate(135deg);transform:rotate(135deg)}'],changeDetection:0}),Le),data:{animation:"MerchandiseListPage"},resolve:{roles:c.a,merchandiseItems:X}},{path:":id/edit",outlet:"modal",component:fe},{path:":id/pre-order",outlet:"modal",component:fe},{path:"new",outlet:"modal",component:fe}],Be=((Ne=function e(){_classCallCheck(this,e)}).\u0275mod=x.Qb({type:Ne}),Ne.\u0275inj=x.Pb({factory:function(e){return new(e||Ne)},imports:[[P.h.forChild($e)],P.h]}),Ne);n.d(t,"MerchandiseModule",(function(){return Ue}));var He,Ue=((He=function e(){_classCallCheck(this,e)}).\u0275mod=x.Qb({type:He}),He.\u0275inj=x.Pb({factory:function(e){return new(e||He)},providers:[de,c.a,{provide:z.d,useValue:{}},{provide:z.a,useValue:{}}],imports:[[i.c,Be,s.a,o.t]]}),He)},lnXG:function(e,t,n){"use strict";var r=n("UvZa"),a=n("7104"),i=n("+0iv");e.exports=function e(t,n){switch(a(t)){case"object":return function(t,n){if("function"==typeof n)return n(t);if(n||i(t)){var r=new t.constructor;for(var a in t)r[a]=e(t[a],n);return r}return t}(t,n);case"array":return function(t,n){for(var r=new t.constructor(t.length),a=0;a<t.length;a++)r[a]=e(t[a],n);return r}(t,n);default:return r(t)}}},qDJ8:function(e,t,n){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}}}]);